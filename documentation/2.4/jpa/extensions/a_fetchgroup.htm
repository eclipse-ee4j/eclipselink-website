<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>@FetchGroup</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 067" />
<meta name="date" content="2012-06-27T15:39:34Z" />
<meta name="robots" content="noarchive" />
<meta name="doctitle" content="@FetchGroup" />
 
<link rel="stylesheet" type="text/css" href="../../../../dcommon/style.css" media="screen" />
  
<link rel="start" href="../../index.htm" title="Home" type="text/html" />
<link rel="contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="prev" href="a_fetchattribute.htm" title="Previous" type="text/html" />
<link rel="next" href="a_fetchgroups.htm" title="Next" type="text/html" />
</head>
<body bgcolor="#FFFFFF"><?php include("../../../../dcommon/header.html"); ?>
<div class="header"><a id="top" name="top"></a>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><font face="helvetica, arial, sans-serif"><strong>Java Persistence API (JPA) Extensions Reference for EclipseLink</strong> <br />
<strong>Release 2.4.x</strong><br />
 </font></td>
<td valign="bottom" align="right" width="144">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top" width="25%"><a href="../../index.htm"><img src="../../../../dcommon/images/information.png" alt="Go To Documentation Library" border="0" height="16" width="16" /><br />
<span class="mini">Documentation</span></a></td><td>&nbsp;</td><td align="center"><a href="http://www.google.com/cse/home?cx=016171230611334810008:y5kxq4rqd8s&amp;hl=en" class="external text" title="http://www.google.com/cse/home?cx=016171230611334810008:y5kxq4rqd8s&amp;hl=en" rel="nofollow"><img src="../../../../dcommon/images/search.png" alt="Search" style="border:0;" /><br /><span class="mini">Search</span></a>
<td align="center" valign="top"><a href="toc.htm"><img src="../../../../dcommon/images/contents.png" alt="Go To Table Of Contents" border="0" height="16" width="16" /><br />
<span class="mini">Contents</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100">
<tr>
<td align="center"><a href="a_fetchattribute.htm"><img src="../../../../dcommon/images/larrow.png" alt="Previous" border="0" height="16" width="16" /></a></td>
<td align="center"><a href="a_fetchgroups.htm"><img src="../../../../dcommon/images/rarrow.png" alt="Next" border="0" height="16" width="16" /></a></td>
<td>&nbsp;</td>
</tr>
</table>
</div>
<!-- class="header" -->
<div class="ind"><!-- End Header -->
<p align="center"><font color="#FF0000">Beta Draft: 2012-06-27</font></p>
<a id="BABJBDEG" name="BABJBDEG"></a>
<hr />
<div class="refsect1">
<h2 class="refsect1"><font face="arial, helvetica, sans-serif" color="#330099">@FetchGroup</font></h2>
<p>Use <code>@FetchGroup</code> to load a group of attributes on demand, as needed.</p>
<p>This avoids wasteful practice of loading all data of the object's attributes, if which the user is interested in only partial of them. However, it also means that the data for an attribute might not loaded from the underlying data source until an explicit access call for the attribute first occurs.</p>
<a id="sthref136" name="sthref136"></a>
<p><strong><span class="refsubsect">Annotation Elements</span></strong></p>
<p><a href="#BABFGBBD">Table 2-23</a> describes this annotation's elements.</p>
<div class="tblhruleformalwide"><a id="sthref137" name="sthref137"></a><a id="BABFGBBD" name="BABFGBBD"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Table 2-23 @FetchGroup Annotation Elements</font></em></strong></p>
<table class="HRuleFormalWide" title="@FetchGroup Annotation Elements" summary="This table describes this annotation&rsquo;s elements." dir="ltr" border="1" width="100%" frame="hsides" rules="rows" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<col width="19%" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t31"><font face="Arial, Helvetica, sans-serif"><strong>Annotation Element</strong></font></th>
<th align="left" valign="bottom" id="r1c2-t31"><font face="Arial, Helvetica, sans-serif"><strong>Description</strong></font></th>
<th align="left" valign="bottom" id="r1c3-t31"><font face="Arial, Helvetica, sans-serif"><strong>Default</strong></font></th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t31" headers="r1c1-t31">
<p><code>FetchAttribute[] attributes</code></p>
</td>
<td align="left" headers="r2c1-t31 r1c2-t31">
<p>(Required) The list of attributes to fetch.</p>
</td>
<td align="left" headers="r2c1-t31 r1c3-t31">
<p>none</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t31" headers="r1c1-t31">
<p><code>java.lang.String name</code></p>
</td>
<td align="left" headers="r3c1-t31 r1c2-t31">
<p>(Required) The fetch group name.</p>
</td>
<td align="left" headers="r3c1-t31 r1c3-t31">
<p>none</p>
</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t31" headers="r1c1-t31">
<p><code>boolean load</code></p>
</td>
<td align="left" headers="r4c1-t31 r1c2-t31">
<p>(Optional) Indicates whether all relationship attributes specified in the fetch group should be loaded.</p>
</td>
<td align="left" headers="r4c1-t31 r1c3-t31">
<p><code>false</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" -->
<a id="sthref138" name="sthref138"></a>
<p><strong><span class="refsubsect">Usage</span></strong></p>
<p>You should perform a careful use case analysis when using <code>@FetchGroup</code>; any gains realized from the deferred loading could be offset by the extra round-trip.</p>
<p>TopLink supports fetch groups at two levels:</p>
<ul>
<li>
<p>Pre-defined fetch groups at the Entity or MappedSuperclass level</p>
</li>
<li>
<p>Dynamic (use case) fetch groups at the query level</p>
</li>
</ul>
<p>You can use fetch groups only when using weaving or when individual classes that define them explicitly implement the <code>org.eclipse.persistence.queries.FetchGroupTracker interface</code>.</p>
<p>When using a fetch group, you can define a subset of an object's attributes and associate the fetch group with either a <code>ReadObjectQuery</code> or <code>ReadAllQuery</code> query. When you execute the query, TopLink retrieves only the attributes in the fetch group. TopLink automatically executes a query to fetch all the attributes excluded from this subset when and if you call a get method on any one of the excluded attributes.</p>
<p>You can define more than one fetch group for a class. You can optionally designate at most one such fetch group as the default fetch group. If you execute either a <code>ReadObjectQuery</code> or <code>ReadAllQuery</code> query without specifying a fetch group, TopLink will use the default fetch group, unless you configure the query otherwise.</p>
<p>You can use fetch groups in JPA projects for EJB objects, as well as for POJO classes. For POJO classes, use partial object querying.</p>
<p>Before using fetch groups, we recommend that you perform a careful analysis of system use. In many cases, the extra queries required to load attributes not in the fetch group could well offset the gain from the partial attribute loading.</p>
<p>Fetch groups can be used only with basic mappings configured with <code>FetchType.LAZY (partial object queries)</code>.</p>
<p>Use <code>AttributeGroup</code> to configure the use of partial entities in fetch, load, copy, and merge operations.</p>
<a id="sthref139" name="sthref139"></a>
<p><strong><span class="refsubsect">Examples</span></strong></p>
<p><a href="#BABGHDJB">Example 2-40</a> show how to use this annotation.</p>
<div class="example"><a id="BABGHDJB" name="BABGHDJB"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Example 2-40 Using @FetchGroup Annotation</font></em></strong></p>
<pre xml:space="preserve" class="oac_no_warn">
@FetchGroup(name="names", attributes={
    @FetchAttribute(name="firstName"), 
    @FetchAttribute(name="lastName")})
</pre></div>
<!-- class="example" -->
<p><a href="#BABGHDJB">Example 2-40</a> show how to use this feature in the <code>eclipselink-orm.xml</code> file.</p>
<div class="example"><a id="sthref140" name="sthref140"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Example 2-41 Using &lt;fetch-group&gt; XML</font></em></strong></p>
<pre xml:space="preserve" class="oac_no_warn">
&lt;entity class="model.Employee"&gt;
    &lt;secondary-table name="SALARY" /&gt;
    &lt;fetch-group name="names"&gt;
        &lt;attribute name="firstName" /&gt;
        &lt;attribute name="lastName" /&gt;
    &lt;/fetch-group&gt;
...
</pre></div>
<!-- class="example" -->
<p>You can also use a named fetch group with a query, as shown in <a href="#BABGFDJA">Example 2-42</a>.</p>
<div class="example"><a id="BABGFDJA" name="BABGFDJA"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Example 2-42 Using a Named Fetch Group on a Query</font></em></strong></p>
<pre xml:space="preserve" class="oac_no_warn">
TypedQuery query = em.createQuery("SELECT e FROM Employee e", Employee.class);
 
query.setHint(QueryHints.FETCH_GROUP_NAME, "names");
</pre></div>
<!-- class="example" -->
<a id="sthref141" name="sthref141"></a>
<p><strong><span class="refsubsect">See Also</span></strong></p>
<p>For more information, see:</p>
<ul>
<li>
<p><a href="a_fetchattribute.htm#BABCHIGE">"@FetchAttribute"</a></p>
</li>
<li>
<p><a href="a_fetchgroups.htm#CHDIEBGG">"@FetchGroups"</a></p>
</li>
</ul>
</div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td valign="bottom">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100">
<col width="*" />
<col width="48%" />
<col width="48%" />
<tr>
<td>&nbsp;</td>
<td align="center"><a href="a_fetchattribute.htm"><img src="../../../../dcommon/images/larrow.png" alt="Previous" border="0" height="16" width="16" /></a></td>
<td align="center"><a href="a_fetchgroups.htm"><img src="../../../../dcommon/images/rarrow.png" alt="Next" border="0" height="16" width="16" /></a></td>
</tr>
</table>
</td>
<td align="center" width="34%"><img src="http://www.eclipse.org/eclipselink/images/logo.png" alt="EclipseLink" width="150" border="0" /><br /><img src="http://wiki.eclipse.org/images/b/bd/Elug_home_icon.png" style="padding-right:5px;" alt="EclipseLink logo">&nbsp;<a href="http://www.eclipse.org/eclipselink/">EclipseLink Home</a>&nbsp;&bull;&nbsp;<img src="http://wiki.eclipse.org/images/b/b6/Elug_pdf.png" style="padding-right:5px;" alt="PDF">&nbsp;PDF (coming soon)<br />
 
  
<td valign="bottom" align="right">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="225">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top" width="25%"><a href="../../index.htm"><img src="../../../../dcommon/images/information.png" alt="Go To Documentation Library" border="0" height="16" width="16" /><br />
<span class="mini">Documentation</span></a></td><td>&nbsp;</td><td align="center"><a href="http://www.google.com/cse/home?cx=016171230611334810008:y5kxq4rqd8s&amp;hl=en" class="external text" title="http://www.google.com/cse/home?cx=016171230611334810008:y5kxq4rqd8s&amp;hl=en" rel="nofollow"><img src="../../../../dcommon/images/search.png" alt="Search" style="border:0;" /><br /><span class="mini">Search</span></a>
<td align="center" valign="top"><a href="toc.htm"><img src="../../../../dcommon/images/contents.png" alt="Go To Table Of Contents" border="0" height="16" width="16" /><br />
<span class="mini">Contents</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<!-- class="footer" -->
<script type="text/javascript">		  var _gaq = _gaq || [];		  _gaq.push(['_setAccount', 'UA-1608008-2']);		  _gaq.push(['_trackPageview']);				  (function() {		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);		  })();				</script></body>
</html>
