<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>@OrderCorrection | EclipseLink 2.4.x Java Persistence API (JPA) Extensions Reference</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 1.0.11" />
<meta name="date" content="2013-07-12T8:36:31Z" />
<meta name="robots" content="noarchive" />
<meta name="doctitle" content="@OrderCorrection" />
<meta name="relnum" content="Release 2.4" />
<link rel="stylesheet" type="text/css" href="../../../dcommon/style.css" media="screen" />
<link rel="copyright" href="http://www.eclipse.org/org/documents/epl-v10.php" title="Copyright" type="text/html" />  
<link rel="start" href="../../index.htm" title="Home" type="text/html" />
<link rel="contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="prev" href="a_optimisticlocking.htm" title="Previous" type="text/html" />
<link rel="next" href="a_partitioned.htm" title="Next" type="text/html" />
<!-- START: Disqus --><script type="text/javascript">  var disqus_developer = 0; </script><!-- END: Disqus --><!-- START: Sharethis --><script type="text/javascript">var switchTo5x=true;</script><script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script><script type="text/javascript" src="http://s.sharethis.com/loader.js"></script> <!-- END: Sharethis --></head>
<body bgcolor="#FFFFFF"><iframe id="docheader" frameborder="0" framemargin="0" scrolling="no" src="../../../dcommon/header.html"></iframe><div id="cse-search-form" style="width: 100%;"><span class="loadingspin">Loading</span></div><script src="http://www.google.com/jsapi" type="text/javascript"></script><script type="text/javascript">   google.load('search', '1', {language : 'en'});  google.setOnLoadCallback(function() {    var customSearchOptions = {};    var googleAnalyticsOptions = {};    googleAnalyticsOptions['queryParameter'] = 'q';    googleAnalyticsOptions['categoryParameter'] = '';    customSearchOptions['googleAnalyticsOptions'] = googleAnalyticsOptions;  var customSearchControl = new google.search.CustomSearchControl(      '016171230611334810008:4sqnhke2any', customSearchOptions);    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);    var options = new google.search.DrawOptions();    options.setSearchFormRoot('cse-search-form');    customSearchControl.draw('cse', options);  }, true);</script><link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" /><div id="cse" style="width:100%;"></div> 
<div class="header"><a id="top" name="top"></a>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><div class="booktitle">Java Persistence API (JPA) Extensions Reference for EclipseLink, 
Release 2.4</div></td>
<td valign="bottom" align="right" width="144">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top"><a href="toc.htm"><img src="../../../dcommon/images/contents.png" alt="Go To Table Of Contents" border="0" height="16" width="16" /><br />
<span class="mini">Contents</span></a></td><td>&nbsp;</td><td align="center"><a href="../../../" target="_top" class="external text" title="Other searches" rel="nofollow"><img src="../../../dcommon/images/search.png" alt="Search" style="border:0;" /><br /><span class="mini">Other&nbsp;Searches</span></a></td><td>&nbsp;</td><td align="center"><a href="../../eclipselink_jpa_extensions.pdf" title="PDF" target="_blank"><img src="../../../dcommon/images/pdf_icon.png" style="padding-right:5px;border:0" alt="PDF"><br /><span class="mini">PDF</span></a></td><td align="center"><a href="#disqus_thread" title="Comments""><img src="../../../dcommon/images/comments.png" style="padding-right:5px;border:0" alt="Comments"><br /><span class="mini">Comments</span></a>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="navigation simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100" align="center">
<tr>
<td align="center"><a href="a_optimisticlocking.htm"><img src="../../../dcommon/images/larrow.png" alt="Previous" border="0" height="16" width="16" /></a></td>
<td align="center"><a href="a_partitioned.htm"><img src="../../../dcommon/images/rarrow.png" alt="Next" border="0" height="16" width="16" /></a></td>
<td>&nbsp;</td>
</tr>
</table>
</div>
<!-- class="header" -->
<div class="ind"><!-- End Header --><a id="CHDDIBJF" name="CHDDIBJF"></a><a id="TLJPA489" name="TLJPA489"></a>
<hr />
<div class="refsect1">
<h2 class="refsect1"><font face="arial, helvetica, sans-serif" color="#330099">@OrderCorrection</font></h2>
<p>Use <code>@OrderCorrection</code> to specify a strategy to use if the order list read from the database is invalid (for example, it has nulls, duplicates, negative values, or values greater than or equal to the list size).</p>
<p>To be valid, an order list of <em>n</em> elements must be <code>{0, 1,..., n-1}</code></p>
<a id="sthref264" name="sthref264"></a>
<p><strong><br /><span class="refsubsect">Annotation Elements</span></strong></p>
<p><a href="#CHDIFBBF">Table 2-46</a> describes this annotation's elements.</p>
<div class="tblhruleformalwide"><a id="TLJPA490" name="TLJPA490"></a><a id="sthref265" name="sthref265"></a><a id="CHDIFBBF" name="CHDIFBBF"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Table 2-46 @OrderCorrection Annotation Elements</font></em></strong></p>
<table class="HRuleFormalWide" title="@OrderCorrection Annotation Elements" summary="This table describes this annotation&rsquo;s elements." dir="ltr" border="1" width="100%" frame="hsides" rules="rows" cellpadding="3" cellspacing="0">
<col width="26%" />
<col width="*" />
<col width="14%" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t56"><font face="Arial, Helvetica, sans-serif"><strong>Annotation Element</strong></font></th>
<th align="left" valign="bottom" id="r1c2-t56"><font face="Arial, Helvetica, sans-serif"><strong>Description</strong></font></th>
<th align="left" valign="bottom" id="r1c3-t56"><font face="Arial, Helvetica, sans-serif"><strong>Default</strong></font></th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t56" headers="r1c1-t56">
<p>value</p>
</td>
<td align="left" headers="r2c1-t56 r1c2-t56">
<p>(Optional) Specify a strategy to use if the order list read from the database is invalid:</p>
<ul>
<li>
<p><code>EXCEPTION</code></p>
</li>
<li>
<p><code>READ</code></p>
</li>
<li>
<p><code>READ_WRITE</code></p>
</li>
</ul>
</td>
<td align="left" headers="r2c1-t56 r1c3-t56">
<p><code>READ_WRITE</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" -->
<a id="sthref266" name="sthref266"></a>
<p><strong><br /><span class="refsubsect">Usage</span></strong></p>
<p>When using <code>@OrderCorrection</code>, you can specify how EclipseLink should handle invalid list orders:</p>
<ul>
<li>
<p><code>EXCEPTION</code> &ndash; When <code>OrderCorrectionType=EXCEPTION</code>, EclipseLink will not correct the list. Instead, EclipseLink will throw a <code>QueryException</code> with error code <code>QueryException.LIST_ORDER_FIELD_WRONG_VALUE</code></p>
<p>For example, given the following list of three objects in the database:</p>
<pre xml:space="preserve" class="oac_no_warn">
{null, objectA}; {2, objectB}, {5, ObjectC}; 
</pre>
<p>When read into the application, EclipseLink will throw an exception.</p>
</li>
<li>
<p><code>READ</code> &ndash; When <code>OrderCorrectionType=READ</code>, EclipseLink corrects the list read into application, but does not retain any information about the invalid list order that remains in the database. Although this is not an issue in read-only uses of the list, if the list is modified and then saved into the database, the order will most likely differ from the cache and be invalid.</p>
<p>The <code>READ</code> mode is used as the default when the mapped attribute is not a <code>List</code>.</p>
<p>For example, given the following list of three objects in the database:</p>
<pre xml:space="preserve" class="oac_no_warn">
{null, objectA}; {2, objectB}, {5, ObjectC}
</pre>
<ul>
<li>
<p>When read as a list: <code>{objectA, objectB, objectC}</code></p>
</li>
<li>
<p>When adding a new element to the list: <code>{objectA, objectB, objectC, objectD}</code></p>
</li>
<li>
<p>When saving the updated list to the database: <code>{null, objectA}, {2, objectB}, {5, objectC}, {3, objectD}</code></p>
</li>
<li>
<p>When reading the list again: <code>{objectA, objectB, objectD, objectC}</code></p>
</li>
</ul>
</li>
<li>
<p><code>READ_WRITE</code> &ndash; When <code>OrderCorrectionType=READ_WRITE</code>, EclipseLink corrects the order of the list read into application <em>and</em> remembers the invalid list order left in the database. If the list is updated and saved to the database, the order indexes are saved ensuring that the list order in the data base will be exactly the same as in cache (and therefore valid).</p>
<p>The <code>READ_WRITE</code> mode is used as the default when the mapped attribute is either a <code>List</code> or <code>Vector</code> (that is, it is assignable from the EclipseLink internal class <code>IndirectList</code>). In JPA, if the mode is not specified, <code>READ_WRITE</code> is used by default.</p>
<p>For example, given the following list of three objects in the database:</p>
<pre xml:space="preserve" class="oac_no_warn">
{null, objectA}; {2, objectB}, {5, ObjectC}
</pre>
<ul>
<li>
<p>When read as a list: <code>{objectA, objectB, objectC}</code></p>
</li>
<li>
<p>When adding a new element to the list: <code>{objectA, objectB, objectC, objectD}</code></p>
</li>
<li>
<p>When saving the updated list to the database: <code>{0, objectA}, {1, objectB}, {2, objectC}, {3, objectD}</code></p>
</li>
<li>
<p>When reading the list again: <code>{objectA, objectB, objectC, objectD}</code></p>
</li>
</ul>
</li>
</ul>
<a id="sthref267" name="sthref267"></a>
<p><strong><br /><span class="refsubsect">Examples</span></strong></p>
<p><a href="#CHDFIAIE">Example 2-85</a> shows how to use this annotation.</p>
<div class="example"><a id="CHDFIAIE" name="CHDFIAIE"></a><a id="TLJPA491" name="TLJPA491"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Example 2-85 Using @OrderCorrection Annotation</font></em></strong></p>
<pre xml:space="preserve" class="oac_no_warn">
@OrderColumn(name="ORDER_COLUMN")
<strong>@OrderCorrection(EXCEPTION)</strong>
List&lt;String&gt; designations;
</pre></div>
<!-- class="example" -->
<p><a href="#CHDHIFFI">Example 2-86</a> shows how to use this extension in the <code>eclipselink-orm.xml</code> file.</p>
<div class="example"><a id="CHDHIFFI" name="CHDHIFFI"></a><a id="TLJPA54021" name="TLJPA54021"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Example 2-86 Using &lt;element-collection&gt; in XML</font></em></strong></p>
<pre xml:space="preserve" class="oac_no_warn">
&lt;element-collection name="designations"&gt;
    &lt;order-column name="ORDER_COLUMN" correction-type="EXCEPTION"/&gt;
&lt;/element-collection&gt;
</pre></div>
<!-- class="example" -->
<a id="sthref268" name="sthref268"></a>
<p><strong><br /><span class="refsubsect">See Also</span></strong></p>
<p>For more information see:</p>
<ul>
<li>
<p><a href="annotations_ref.htm#CACGCEIJ">"Entity Annotations"</a></p>
</li>
</ul>
</div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td valign="bottom">
<table class="navigation simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100" align="center">
<col width="*" />
<col width="48%" />
<col width="48%" />
<tr>
<td>&nbsp;</td>
<td align="center"><a href="a_optimisticlocking.htm"><img src="../../../dcommon/images/larrow.png" alt="Previous" border="0" height="16" width="16" /></a></td>
<td align="center"><a href="a_partitioned.htm"><img src="../../../dcommon/images/rarrow.png" alt="Next" border="0" height="16" width="16" /></a></td>
</tr>
</table>
</td>
<td align="center" width="34%"><a href="http://www.eclipse.org/eclipselink/" title="EclipseLink home"><img src="../../../dcommon/images/ellogo.png" alt="EclipseLink" width="150" border="0" /></a><br />
</td>
  
<td valign="bottom" align="right">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="225">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top"><a href="toc.htm"><img src="../../../dcommon/images/contents.png" alt="Go To Table Of Contents" border="0" height="16" width="16" /><br />
<span class="mini">Contents</span></a></td><td>&nbsp;</td><td align="center"><a href="../../../" target="_top" class="external text" title="Other searches" rel="nofollow"><img src="../../../dcommon/images/search.png" alt="Search" style="border:0;" /><br /><span class="mini">Other&nbsp;Searches</span></a></td><td>&nbsp;</td><td align="center"><a href="../../eclipselink_jpa_extensions.pdf" title="PDF" target="_blank"><img src="../../../dcommon/images/pdf_icon.png" style="padding-right:5px;border:0" alt="PDF"><br /><span class="mini">PDF</span></a></td><td align="center"><a href="#disqus_thread" title="Comments""><img src="../../../dcommon/images/comments.png" style="padding-right:5px;border:0" alt="Comments"><br /><span class="mini">Comments</span></a>
</tr>
</table>
</td>
</tr>
</table>
</div>
<!-- class="footer" -->
<div id="copyright">Copyright &copy; 2012, 2013 by The Eclipse Foundation under the <a href="http://www.eclipse.org/org/documents/epl-v10.php">Eclipse Public License (EPL)</a><br /> <script type="text/javascript">var LastUpdated = document.lastModified;document.writeln ("Updated: " + LastUpdated);</script> </div><!-- START: Analytics --><script type="text/javascript">		  var _gaq = _gaq || [];		  _gaq.push(['_setAccount', 'UA-1608008-2']);		  _gaq.push(['_trackPageview']);				  (function() {		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);		  })();				</script><!-- END: Analytics --><!-- START: Sharethis --><script>var options={ "publisher": "e2fe9e07-fab6-4f84-83ea-0991b429842c", "position": "right", "ad": { "visible": false, "openDelay": 5, "closeDelay": 0}};var st_hover_widget = new sharethis.widgets.hoverbuttons(options);</script><!-- END: Sharethis --><!-- START: Disqus --><div id="disqus_thread"></div>        <script type="text/javascript">            var disqus_developer = 1;var disqus_shortname = 'eclipselinkdoc';              (function() {                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);            })();        </script>        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>        <a href="http://disqus.com" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a><!-- END: Disqus --></body>
</html>
