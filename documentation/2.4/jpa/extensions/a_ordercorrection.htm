<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>@OrderCorrection</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 5.1.2 Build 067" />
<meta name="date" content="2012-06-27T14:23:49Z" />
<meta name="robots" content="noarchive" />
<meta name="doctitle" content="@OrderCorrection" />
 
<link rel="stylesheet" type="text/css" href="../../../../dcommon/style.css" media="screen" />
  
<link rel="start" href="../../index.htm" title="Home" type="text/html" />
<link rel="contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="prev" href="a_optimisticlocking.htm" title="Previous" type="text/html" />
<link rel="next" href="a_partitioned.htm" title="Next" type="text/html" />
</head>
<body bgcolor="#FFFFFF">
<div class="header"><a id="top" name="top"></a>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><font face="helvetica, arial, sans-serif"><strong>Java Persistence API (JPA) Extensions Reference for EclipseLink</strong> <br />
<strong>Release 2.4.x</strong><br />
 </font></td>
<td valign="bottom" align="right" width="144">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top" width="25%"><a href="../../index.htm"><img src="../../../../dcommon/images/information.png" alt="Go To Documentation Library" border="0" height="16" width="16" /><br />
Documentation</a></td><td>&nbsp;</td><td><a href="http://www.google.com/cse/home?cx=016171230611334810008:y5kxq4rqd8s&amp;hl=en" class="external text" title="http://www.google.com/cse/home?cx=016171230611334810008:y5kxq4rqd8s&amp;hl=en" rel="nofollow"><img src="../../../../dcommon/images/search.png" alt="Search" style="border:0;" /><br />Search</a>
<td align="center" valign="top"><a href="toc.htm"><img src="../../../../dcommon/images/contents.png" alt="Go To Table Of Contents" border="0" height="16" width="16" /><br />
Contents</a></td>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100">
<tr>
<td align="center"><a href="a_optimisticlocking.htm"><img src="../../../../dcommon/images/larrow.png" alt="Previous" border="0" height="16" width="16" /></a></td>
<td align="center"><a href="a_partitioned.htm"><img src="../../../../dcommon/images/rarrow.png" alt="Next" border="0" height="16" width="16" /></a></td>
<td>&nbsp;</td>
</tr>
</table>
</div>
<!-- class="header" -->
<div class="ind"><!-- End Header -->
<p align="center"><font color="#FF0000">Beta Draft: 2012-06-27</font></p>
<a id="CHDDIBJF" name="CHDDIBJF"></a>
<hr />
<div class="refsect1">
<h2 class="refsect1"><font face="arial, helvetica, sans-serif" color="#330099">@OrderCorrection</font></h2>
<p>Use <code>@OrderCorrection</code> to specify a strategy to use if the order list read from the database is invalid (for example, it has nulls, duplicates, negative values, or values greater than or equal to the list site).</p>
<p>To be valid, an order list of <em>n</em> elements must be <code>{0, 1,..., n-1}</code></p>
<a id="sthref256" name="sthref256"></a>
<p><strong><font face="arial, helvetica, sans-serif" color="#330099">Annotation Elements</font></strong></p>
<p><a href="#CHDIFBBF">Table 2-44</a> describes this annotation's elements.</p>
<div class="tblhruleformalwide"><a id="sthref257" name="sthref257"></a><a id="CHDIFBBF" name="CHDIFBBF"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Table 2-44 @OrderCorrection Annotation Elements</font></em></strong></p>
<table class="HRuleFormalWide" title="@OrderCorrection Annotation Elements" summary="This table describes this annotation&rsquo;s elements." dir="ltr" border="1" width="100%" frame="hsides" rules="rows" cellpadding="3" cellspacing="0">
<col width="31%" />
<col width="*" />
<col width="28%" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t54"><font face="Arial, Helvetica, sans-serif"><strong>Annotation Element</strong></font></th>
<th align="left" valign="bottom" id="r1c2-t54"><font face="Arial, Helvetica, sans-serif"><strong>Description</strong></font></th>
<th align="left" valign="bottom" id="r1c3-t54"><font face="Arial, Helvetica, sans-serif"><strong>Default</strong></font></th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t54" headers="r1c1-t54">
<p><code>OrderCorrectionType</code></p>
</td>
<td align="left" headers="r2c1-t54 r1c2-t54">
<p>(Optional) Specify a strategy to use if the order list read from the database is invalid:</p>
<ul>
<li>
<p><code>EXCEPTION</code></p>
</li>
<li>
<p><code>READ</code></p>
</li>
<li>
<p><code>READ_WRITE</code></p>
</li>
</ul>
</td>
<td align="left" headers="r2c1-t54 r1c3-t54">
<p><code>READ_WRITE</code></p>
</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" -->
<a id="sthref258" name="sthref258"></a>
<p><strong><font face="arial, helvetica, sans-serif" color="#330099">Usage</font></strong></p>
<p>When using <code>@OrderCorrection</code>, you can specify how TopLink should handle invalid list orders:</p>
<ul>
<li>
<p><code>EXCEPTION</code> &ndash; When <code>OrderCorrectionType=EXCEPTION</code>, TopLink will not correct the list. Instead, TopLink will throw a <code>QueryException</code> with error code <code>QueryException.LIST_ORDER_FIELD_WRONG_VALUE</code></p>
<p>For example, given the following list of three objects in the database:</p>
<pre xml:space="preserve" class="oac_no_warn">
{null, objectA}; {2, objectB}, {5, ObjectC}; 
</pre>
<p>When read into the application, TopLink will throw an exception.</p>
</li>
<li>
<p><code>READ</code> &ndash; When <code>OrderCorrectionType=READ</code>, TopLink corrects the list read into application, but does not retain any information about the invalid list order that remains in the database. Although this is not an issue in read-only uses of the list, if the list is modified and then saved into the database, the order will most likely differ from the cache and be invalid.</p>
<p>The <code>READ</code> mode is used as the default when the mapped attribute is neither a <code>List</code> nor <code>Vector</code> (that is, it is not assignable from the TopLink internal class <code>IndirectList</code>).</p>
<p>For example, given the following list of three objects in the database:</p>
<pre xml:space="preserve" class="oac_no_warn">
{null, objectA}; {2, objectB}, {5, ObjectC}
</pre>
<ul>
<li>
<p>When read as a list: <code>{objectA, objectB, objectC}</code></p>
</li>
<li>
<p>When adding a new element to the list: <code>{objectA, objectB, objectC, objectD}</code></p>
</li>
<li>
<p>When saving the updated list to the database: <code>{null, objectA}, {2, objectB}, {5, objectC}, {3, objectD}</code></p>
</li>
<li>
<p>When reading the list again: <code>{objectA, objectB, objectD, objectC}</code></p>
</li>
</ul>
</li>
<li>
<p><code>READ_WRITE</code> &ndash; When <code>OrderCorrectionType=READ_WRITE</code>, TopLink corrects the order of the list read into application <em>and</em> remembers the invalid list order left in the database. If the list is updated and saved to the database, the order indexes are saved ensuring that the list order in the data base will be exactly the same as in cache (and therefore valid).</p>
<p>The <code>READ_WRITE</code> mode is used as the default when the mapped attribute is either a <code>List</code> or <code>Vector</code> (that is, it is assignable from the TopLink internal class <code>IndirectList</code>). In JPA, if the mode is not specified, <code>READ_WRITE</code> is used by default.</p>
<p>For example, given the following list of three objects in the database:</p>
<pre xml:space="preserve" class="oac_no_warn">
{null, objectA}; {2, objectB}, {5, ObjectC}
</pre>
<ul>
<li>
<p>When read as a list: <code>{objectA, objectB, objectC}</code></p>
</li>
<li>
<p>When adding a new element to the list: <code>{objectA, objectB, objectC, objectD}</code></p>
</li>
<li>
<p>When saving the updated list to the database: <code>{0, objectA}, {1, objectB}, {2, objectC}, {3, objectD}</code></p>
</li>
<li>
<p>When reading the list again: <code>{objectA, objectB, objectC, objectD}</code></p>
</li>
</ul>
</li>
</ul>
<a id="sthref259" name="sthref259"></a>
<p><strong><font face="arial, helvetica, sans-serif" color="#330099">Examples</font></strong></p>
<p><a href="#CHDFIAIE">Example 2-72</a> shows how to use this annotation.</p>
<div class="example"><a id="CHDFIAIE" name="CHDFIAIE"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Example 2-72 Using @OrderCorrection Annotation</font></em></strong></p>
<pre xml:space="preserve" class="oac_no_warn">
@OrderColumn(name="ORDER_COLUMN")
@OrderCorrection(EXCEPTION)
List&lt;String&gt; designations;
</pre></div>
<!-- class="example" -->
<a id="sthref260" name="sthref260"></a>
<p><strong><font face="arial, helvetica, sans-serif" color="#330099">See Also</font></strong></p>
<p>For more information see:</p>
<ul>
<li>
<p><a href="annotations_ref001.htm#CACGCEIJ">"Entity Annotations"</a></p>
</li>
</ul>
</div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td valign="bottom">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100">
<col width="*" />
<col width="48%" />
<col width="48%" />
<tr>
<td>&nbsp;</td>
<td align="center"><a href="a_optimisticlocking.htm"><img src="../../../../dcommon/images/larrow.png" alt="Previous" border="0" height="16" width="16" /></a></td>
<td align="center"><a href="a_partitioned.htm"><img src="../../../../dcommon/images/rarrow.png" alt="Next" border="0" height="16" width="16" /></a></td>
</tr>
</table>
</td>
<td align="center" width="34%"><img src="http://www.eclipse.org/eclipselink/images/logo.png" alt="EclipseLink" width="150" border="0" /><br /><img src="http://wiki.eclipse.org/images/b/bd/Elug_home_icon.png" style="padding-right:5px;" alt="EclipseLink logo">&nbsp;<a href="http://www.eclipse.org/eclipselink/">EclipseLink Home</a>&nbsp;&bull;&nbsp;<img src="http://wiki.eclipse.org/images/b/b6/Elug_pdf.png" style="padding-right:5px;" alt="PDF">&nbsp;PDF (coming soon)<br />
 
  
<td valign="bottom" align="right">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="225">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top" width="25%"><a href="../../index.htm"><img src="../../../../dcommon/images/information.png" alt="Go To Documentation Library" border="0" height="16" width="16" /><br />
Documentation</a></td><td>&nbsp;</td><td><a href="http://www.google.com/cse/home?cx=016171230611334810008:y5kxq4rqd8s&amp;hl=en" class="external text" title="http://www.google.com/cse/home?cx=016171230611334810008:y5kxq4rqd8s&amp;hl=en" rel="nofollow"><img src="../../../../dcommon/images/search.png" alt="Search" style="border:0;" /><br />Search</a>
<td align="center" valign="top"><a href="toc.htm"><img src="../../../../dcommon/images/contents.png" alt="Go To Table Of Contents" border="0" height="16" width="16" /><br />
Contents</a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<!-- class="footer" -->
</body>
</html>
