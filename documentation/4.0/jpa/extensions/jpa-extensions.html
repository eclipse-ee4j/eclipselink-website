<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="description" content="EclipseLink">
<meta name="keywords" content="eclipselink, java, jpa, persistence, introduction">
<title>Jakarta Persistence API (JPA) Extensions Reference for EclipseLink</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Jakarta Persistence API (JPA) Extensions Reference for EclipseLink</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#eclipselink">EclipseLink</a></li>
<li><a href="#preface">Preface</a>
<ul class="sectlevel2">
<li><a href="#audience">Audience</a></li>
<li><a href="#related-documents">Related Documents</a></li>
<li><a href="#conventions">Conventions</a></li>
<li><a href="#JPA_LOE">List of Examples</a></li>
</ul>
</li>
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#about-eclipselink">1.1. About EclipseLink</a></li>
<li><a href="#about-this-documentation">1.2. About This Documentation</a></li>
</ul>
</li>
<li><a href="#annotation-extensions-reference">2. Annotation Extensions Reference</a>
<ul class="sectlevel2">
<li><a href="#functional-listing-of-annotation-extensions">2.1. Functional Listing of Annotation Extensions</a></li>
<li><a href="#alphabetical-listing-of-annotation-extensions">2.2. Alphabetical Listing of Annotation Extensions</a></li>
<li><a href="#additionalcriteria-2">2.3. @AdditionalCriteria</a></li>
<li><a href="#array">2.4. @Array</a></li>
<li><a href="#batchfetch">2.5. @BatchFetch</a></li>
<li><a href="#cache">2.6. @Cache</a></li>
<li><a href="#cacheindex">2.7. @CacheIndex</a></li>
<li><a href="#cacheindexes">2.8. @CacheIndexes</a></li>
<li><a href="#cacheinterceptor">2.9. @CacheInterceptor</a></li>
<li><a href="#cascadeondelete">2.10. @CascadeOnDelete</a></li>
<li><a href="#changetracking">2.11. @ChangeTracking</a></li>
<li><a href="#classextractor">2.12. @ClassExtractor</a></li>
<li><a href="#clonecopypolicy">2.13. @CloneCopyPolicy</a></li>
<li><a href="#compositemember">2.14. @CompositeMember</a></li>
<li><a href="#conversionvalue">2.15. @ConversionValue</a></li>
<li><a href="#convert">2.16. @Convert</a></li>
<li><a href="#converter">2.17. @Converter</a></li>
<li><a href="#converters">2.18. @Converters</a></li>
<li><a href="#copypolicy">2.19. @CopyPolicy</a></li>
<li><a href="#customizer">2.20. @Customizer</a></li>
<li><a href="#deleteall">2.21. @DeleteAll</a></li>
<li><a href="#discriminatorclass">2.22. @DiscriminatorClass</a></li>
<li><a href="#excludedefaultmappings">2.23. @ExcludeDefaultMappings</a></li>
<li><a href="#existencechecking">2.24. @ExistenceChecking</a></li>
<li><a href="#fetchattribute">2.25. @FetchAttribute</a></li>
<li><a href="#fetchgroup">2.26. @FetchGroup</a></li>
<li><a href="#fetchgroups">2.27. @FetchGroups</a></li>
<li><a href="#field">2.28. @Field</a></li>
<li><a href="#hashpartitioning">2.29. @HashPartitioning</a></li>
<li><a href="#index">2.30. @Index</a></li>
<li><a href="#indexes">2.31. @Indexes</a></li>
<li><a href="#instantiationcopypolicy">2.32. @InstantiationCopyPolicy</a></li>
<li><a href="#joinfetch">2.33. @JoinFetch</a></li>
<li><a href="#joinfield">2.34. @JoinField</a></li>
<li><a href="#joinfields">2.35. @JoinFields</a></li>
<li><a href="#mapkeyconvert">2.36. @MapKeyConvert</a></li>
<li><a href="#multitenant">2.37. @Multitenant</a></li>
<li><a href="#mutable">2.38. @Mutable</a></li>
<li><a href="#namedplsqlstoredfunctionqueries">2.39. @NamedPLSQLStoredFunctionQueries</a></li>
<li><a href="#namedplsqlstoredfunctionquery">2.40. @NamedPLSQLStoredFunctionQuery</a></li>
<li><a href="#namedplsqlstoredprocedurequeries">2.41. @NamedPLSQLStoredProcedureQueries</a></li>
<li><a href="#namedplsqlstoredprocedurequery">2.42. @NamedPLSQLStoredProcedureQuery</a></li>
<li><a href="#namedstoredfunctionqueries">2.43. @NamedStoredFunctionQueries</a></li>
<li><a href="#namedstoredfunctionquery">2.44. @NamedStoredFunctionQuery</a></li>
<li><a href="#namedstoredprocedurequeries">2.45. @NamedStoredProcedureQueries</a></li>
<li><a href="#namedstoredprocedurequery">2.46. @NamedStoredProcedureQuery</a></li>
<li><a href="#noncacheable">2.47. @Noncacheable</a></li>
<li><a href="#nosql">2.48. @NoSql</a></li>
<li><a href="#objecttypeconverter">2.49. @ObjectTypeConverter</a></li>
<li><a href="#objecttypeconverters">2.50. @ObjectTypeConverters</a></li>
<li><a href="#optimisticlocking">2.51. @OptimisticLocking</a></li>
<li><a href="#oraclearray">2.52. @OracleArray</a></li>
<li><a href="#oraclearrays">2.53. @OracleArrays</a></li>
<li><a href="#oracleobject">2.54. @OracleObject</a></li>
<li><a href="#oracleobjects">2.55. @OracleObjects</a></li>
<li><a href="#ordercorrection">2.56. @OrderCorrection</a></li>
<li><a href="#partitioned">2.57. @Partitioned</a></li>
<li><a href="#partitioning">2.58. @Partitioning</a></li>
<li><a href="#pinnedpartitioning">2.59. @PinnedPartitioning</a></li>
<li><a href="#plsqlparameter">2.60. @PLSQLParameter</a></li>
<li><a href="#plsqlrecord">2.61. @PLSQLRecord</a></li>
<li><a href="#plsqlrecords">2.62. @PLSQLRecords</a></li>
<li><a href="#plsqltable">2.63. @PLSQLTable</a></li>
<li><a href="#plsqltables">2.64. @PLSQLTables</a></li>
<li><a href="#primarykey">2.65. @PrimaryKey</a></li>
<li><a href="#privateowned">2.66. @PrivateOwned</a></li>
<li><a href="#properties">2.67. @Properties</a></li>
<li><a href="#property">2.68. @Property</a></li>
<li><a href="#queryredirectors">2.69. @QueryRedirectors</a></li>
<li><a href="#rangepartition">2.70. @RangePartition</a></li>
<li><a href="#rangepartitioning">2.71. @RangePartitioning</a></li>
<li><a href="#readonly">2.72. @ReadOnly</a></li>
<li><a href="#readtransformer">2.73. @ReadTransformer</a></li>
<li><a href="#replicationpartitioning">2.74. @ReplicationPartitioning</a></li>
<li><a href="#returninsert">2.75. @ReturnInsert</a></li>
<li><a href="#returnupdate">2.76. @ReturnUpdate</a></li>
<li><a href="#roundrobinpartitioning">2.77. @RoundRobinPartitioning</a></li>
<li><a href="#serializedobject">2.78. @SerializedObject</a></li>
<li><a href="#storedprocedureparameter">2.79. @StoredProcedureParameter</a></li>
<li><a href="#struct">2.80. @Struct</a></li>
<li><a href="#structconverter">2.81. @StructConverter</a></li>
<li><a href="#structconverters">2.82. @StructConverters</a></li>
<li><a href="#structure">2.83. @Structure</a></li>
<li><a href="#tenantdiscriminatorcolumn">2.84. @TenantDiscriminatorColumn</a></li>
<li><a href="#tenantdiscriminatorcolumns">2.85. @TenantDiscriminatorColumns</a></li>
<li><a href="#tenanttablediscriminator">2.86. @TenantTableDiscriminator</a></li>
<li><a href="#timeofday">2.87. @TimeOfDay</a></li>
<li><a href="#transformation">2.88. @Transformation</a></li>
<li><a href="#typeconverter">2.89. @TypeConverter</a></li>
<li><a href="#typeconverters">2.90. @TypeConverters</a></li>
<li><a href="#unionpartitioning">2.91. @UnionPartitioning</a></li>
<li><a href="#uuidgenerator">2.92. @UuidGenerator</a></li>
<li><a href="#sthref461">2.93. @UnionPartitioning</a></li>
<li><a href="#valuepartition">2.94. @ValuePartition</a></li>
<li><a href="#valuepartitioning">2.95. @ValuePartitioning</a></li>
<li><a href="#variableonetoone">2.96. @VariableOneToOne</a></li>
<li><a href="#virtualaccessmethods">2.97. @VirtualAccessMethods</a></li>
<li><a href="#writetransformer">2.98. @WriteTransformer</a></li>
<li><a href="#writetransformers">2.99. @WriteTransformers</a></li>
</ul>
</li>
<li><a href="#java-persistence-query-language-extensions">3. Java Persistence Query Language Extensions</a>
<ul class="sectlevel2">
<li><a href="#special-operators">3.1. Special Operators</a></li>
<li><a href="#eclipselink-query-language">3.2. EclipseLink Query Language</a></li>
<li><a href="#cast-2">3.3. CAST</a></li>
<li><a href="#column-2">3.4. COLUMN</a></li>
<li><a href="#except-2">3.5. EXCEPT</a></li>
<li><a href="#extract-2">3.6. EXTRACT</a></li>
<li><a href="#function">3.7. FUNCTION</a></li>
<li><a href="#intersect-2">3.8. INTERSECT</a></li>
<li><a href="#on-2">3.9. ON</a></li>
<li><a href="#operator-2">3.10. OPERATOR</a></li>
<li><a href="#regexp">3.11. REGEXP</a></li>
<li><a href="#sql-2">3.12. SQL</a></li>
<li><a href="#table-2">3.13. TABLE</a></li>
<li><a href="#treat-2">3.14. TREAT</a></li>
<li><a href="#union-2">3.15. UNION</a></li>
</ul>
</li>
<li><a href="#jpa-query-customization-extensions">4. JPA Query Customization Extensions</a>
<ul class="sectlevel2">
<li><a href="#batch-2">4.1. batch</a></li>
<li><a href="#batch-size">4.2. batch.size</a></li>
<li><a href="#batch-type">4.3. batch.type</a></li>
<li><a href="#cache-usage">4.4. cache-usage</a></li>
<li><a href="#cache-usage-indirection-policy">4.5. cache-usage.indirection-policy</a></li>
<li><a href="#cursor-2">4.6. cursor</a></li>
<li><a href="#composite-unit-member">4.7. composite-unit.member</a></li>
<li><a href="#cursor-initial-size">4.8. cursor.initial-size</a></li>
<li><a href="#cursor-page-size">4.9. cursor.page-size</a></li>
<li><a href="#exclusive-connection">4.10. exclusive-connection</a></li>
<li><a href="#flush-2">4.11. flush</a></li>
<li><a href="#history-as-of">4.12. history.as-of</a></li>
<li><a href="#history-as-of-scn">4.13. history.as-of.scn</a></li>
<li><a href="#inheritance-outer-join">4.14. inheritance.outer-join</a></li>
<li><a href="#jdbc-bind-parameters">4.15. jdbc.bind-parameters</a></li>
<li><a href="#jdbc-allow-partial-bind-parameters">4.16. jdbc.allow-partial-bind-parameters</a></li>
<li><a href="#jdbc-cache-statement">4.17. jdbc.cache-statement</a></li>
<li><a href="#jdbc-fetch-size">4.18. jdbc.fetch-size</a></li>
<li><a href="#jdbc-first-result">4.19. jdbc.first-result</a></li>
<li><a href="#jdbc-max-rows">4.20. jdbc.max-rows</a></li>
<li><a href="#jdbc-native-connection">4.21. jdbc.native-connection</a></li>
<li><a href="#jdbc-parameter-delimiter">4.22. jdbc.parameter-delimiter</a></li>
<li><a href="#jdbc-timeout">4.23. jdbc.timeout</a></li>
<li><a href="#join-fetch">4.24. join-fetch</a></li>
<li><a href="#left-join-fetch">4.25. left-join-fetch</a></li>
<li><a href="#load-group">4.26. load-group</a></li>
<li><a href="#load-group-attribute">4.27. load-group.attribute</a></li>
<li><a href="#maintain-cache">4.28. maintain-cache</a></li>
<li><a href="#pessimistic-lock">4.29. pessimistic-lock</a></li>
<li><a href="#prepare-2">4.30. prepare</a></li>
<li><a href="#query-results-cache">4.31. query-results-cache</a></li>
<li><a href="#query-results-cache-expiry">4.32. query-results-cache.expiry</a></li>
<li><a href="#query-results-cache-expiry-time-of-day">4.33. query-results-cache.expiry-time-of-day</a></li>
<li><a href="#query-results-cache-ignore-null">4.34. query-results-cache.ignore-null</a></li>
<li><a href="#query-results-cache-randomize-expiry">4.35. query-results-cache.randomize-expiry</a></li>
<li><a href="#query-results-cache-size">4.36. query-results-cache.size</a></li>
<li><a href="#query-results-cache-type">4.37. query-results-cache.type</a></li>
<li><a href="#query-type">4.38. query-type</a></li>
<li><a href="#read-only">4.39. read-only</a></li>
<li><a href="#refresh-2">4.40. refresh</a></li>
<li><a href="#refresh-cascade">4.41. refresh.cascade</a></li>
<li><a href="#result-collection-type">4.42. result-collection-type</a></li>
<li><a href="#sql-hint">4.43. sql.hint</a></li>
</ul>
</li>
<li><a href="#persistence-property-extensions-reference">5. Persistence Property Extensions Reference</a>
<ul class="sectlevel2">
<li><a href="#functional-listing-of-persistence-property-extensions">5.1. Functional Listing of Persistence Property Extensions</a></li>
<li><a href="#alphabetical-listing-of-persistence-property-extensions">5.2. Alphabetical Listing of Persistence Property Extensions</a></li>
<li><a href="#application-location">5.3. application-location</a></li>
<li><a href="#cache-coordination-channel">5.4. cache.coordination.channel</a></li>
<li><a href="#cache-coordination-jms-factory">5.5. cache.coordination.jms.factory</a></li>
<li><a href="#cache-coordination-jms-host">5.6. cache.coordination.jms.host</a></li>
<li><a href="#cache-coordination-jms-reuse-topic-publisher">5.7. cache.coordination.jms.reuse-topic-publisher</a></li>
<li><a href="#cache-coordination-jms-topic">5.8. cache.coordination.jms.topic</a></li>
<li><a href="#cache-coordination-jndi-initial-context-factory">5.9. cache.coordination.jndi.initial-context-factory</a></li>
<li><a href="#cache-coordination-jndi-password">5.10. cache.coordination.jndi.password</a></li>
<li><a href="#cache-coordination-jndi-user">5.11. cache.coordination.jndi.user</a></li>
<li><a href="#cache-coordination-naming-service">5.12. cache.coordination.naming-service</a></li>
<li><a href="#cache-coordination-propagate-asynchronously">5.13. cache.coordination.propagate-asynchronously</a></li>
<li><a href="#cache-coordination-protocol">5.14. cache.coordination.protocol</a></li>
<li><a href="#cache-coordination-remove-connection-on-error">5.15. cache.coordination.remove-connection-on-error</a></li>
<li><a href="#cache-coordination-rmi-announcement-delay">5.16. cache.coordination.rmi.announcement-delay</a></li>
<li><a href="#cache-coordination-rmi-multicast-group">5.17. cache.coordination.rmi.multicast-group</a></li>
<li><a href="#sthref810">5.18. cache.coordination.rmi.multicast-group.port</a></li>
<li><a href="#cache-coordination-rmi-packet-time-to-live">5.19. cache.coordination.rmi.packet-time-to-live</a></li>
<li><a href="#cache-coordination-rmi-url">5.20. cache.coordination.rmi.url</a></li>
<li><a href="#cache-coordination-thread-pool-size">5.21. cache.coordination.thread.pool.size</a></li>
<li><a href="#cache-database-event-listener">5.22. cache.database-event-listener</a></li>
<li><a href="#cache-shared">5.23. cache.shared</a></li>
<li><a href="#cache-size">5.24. cache.size</a></li>
<li><a href="#cache-type">5.25. cache.type</a></li>
<li><a href="#classloader-2">5.26. classloader</a></li>
<li><a href="#composite-unit">5.27. composite-unit</a></li>
<li><a href="#composite-unit-member-2">5.28. composite-unit.member</a></li>
<li><a href="#composite-unit-properties">5.29. composite-unit.properties</a></li>
<li><a href="#concurrency-manager-waittime">5.30. concurrency.manager.waittime</a></li>
<li><a href="#concurrency-manager-maxsleeptime">5.31. concurrency.manager.maxsleeptime</a></li>
<li><a href="#concurrency-manager-maxfrequencytodumptinymessage">5.32. concurrency.manager.maxfrequencytodumptinymessage</a></li>
<li><a href="#concurrency-manager-maxfrequencytodumpmassivemessage">5.33. concurrency.manager.maxfrequencytodumpmassivemessage</a></li>
<li><a href="#concurrency-manager-allow-interruptedexception">5.34. concurrency.manager.allow.interruptedexception</a></li>
<li><a href="#concurrency-manager-allow-concurrencyexception">5.35. concurrency.manager.allow.concurrencyexception</a></li>
<li><a href="#concurrency-manager-allow-readlockstacktrace">5.36. concurrency.manager.allow.readlockstacktrace</a></li>
<li><a href="#connection-pool">5.37. connection-pool</a></li>
<li><a href="#connection-pool-read">5.38. connection-pool.read</a></li>
<li><a href="#connection-pool-sequence">5.39. connection-pool.sequence</a></li>
<li><a href="#create-ddl-jdbc-file-name">5.40. create-ddl-jdbc-file-name</a></li>
<li><a href="#ddl-generation">5.41. ddl-generation</a></li>
<li><a href="#ddl-generation-output-mode">5.42. ddl-generation.output-mode</a></li>
<li><a href="#ddl-table-creation-suffix">5.43. ddl.table-creation-suffix</a></li>
<li><a href="#deploy-on-startup">5.44. deploy-on-startup</a></li>
<li><a href="#descriptor-customizer">5.45. descriptor.customizer</a></li>
<li><a href="#drop-ddl-jdbc-file-name">5.46. drop-ddl-jdbc-file-name</a></li>
<li><a href="#exception-handler">5.47. exception-handler</a></li>
<li><a href="#exclude-eclipselink-orm">5.48. exclude-eclipselink-orm</a></li>
<li><a href="#flush-clear-cache">5.49. flush-clear.cache</a></li>
<li><a href="#id-validation">5.50. id-validation</a></li>
<li><a href="#jdbc-allow-native-sql-queries">5.51. jdbc.allow-native-sql-queries</a></li>
<li><a href="#jdbc-batch-writing">5.52. jdbc.batch-writing</a></li>
<li><a href="#jdbc-batch-writing-size">5.53. jdbc.batch-writing.size</a></li>
<li><a href="#jdbc-cache-statements">5.54. jdbc.cache-statements</a></li>
<li><a href="#jdbc-cache-statements-size">5.55. jdbc.cache-statements.size</a></li>
<li><a href="#jdbc-connector">5.56. jdbc.connector</a></li>
<li><a href="#jdbc-exclusive-connection-is-lazy">5.57. jdbc.exclusive-connection.is-lazy</a></li>
<li><a href="#jdbc-exclusive-connection-mode">5.58. jdbc.exclusive-connection.mode</a></li>
<li><a href="#jdbc-naming_into_indexed">5.59. jdbc.naming_into_indexed</a></li>
<li><a href="#jdbc-native-sql">5.60. jdbc.native-sql</a></li>
<li><a href="#jdbc-property">5.61. jdbc.property</a></li>
<li><a href="#jdbc-sql-cast">5.62. jdbc.sql-cast</a></li>
<li><a href="#jdbc-uppercase-columns">5.63. jdbc.uppercase-columns</a></li>
<li><a href="#jpql-parser">5.64. jpql.parser</a></li>
<li><a href="#jpa-uppercase-column-names">5.65. jpa.uppercase-column-names</a></li>
<li><a href="#jpql-validation">5.66. jpql.validation</a></li>
<li><a href="#logging-connection">5.67. logging.connection</a></li>
<li><a href="#logging-exceptions">5.68. logging.exceptions</a></li>
<li><a href="#logging-file">5.69. logging.file</a></li>
<li><a href="#logging-level">5.70. logging.level</a></li>
<li><a href="#sthref1021">5.71. logging.logger</a></li>
<li><a href="#sthref1026">5.72. logging.parameters</a></li>
<li><a href="#logging-session">5.73. logging.session</a></li>
<li><a href="#logging-thread">5.74. logging.thread</a></li>
<li><a href="#logging-timestamp">5.75. logging.timestamp</a></li>
<li><a href="#metadata-source">5.76. metadata-source</a></li>
<li><a href="#metadata-source-properties-file">5.77. metadata-source.properties.file</a></li>
<li><a href="#metadata-source-send-refresh-command">5.78. metadata-source.send-refresh-command</a></li>
<li><a href="#metadata-source-xml-file">5.79. metadata-source.xml.file</a></li>
<li><a href="#metadata-source-xml-url">5.80. metadata-source.xml.url</a></li>
<li><a href="#multitenanttenantssharecache">5.81. multitenant.tenants-share-cache</a></li>
<li><a href="#sthref1077">5.82. multitenant.tenants-share-emf</a></li>
<li><a href="#nosql-connection-factory">5.83. nosql.connection-factory</a></li>
<li><a href="#nosql-connection-spec">5.84. nosql.connection-spec</a></li>
<li><a href="#nosql-property">5.85. nosql.property</a></li>
<li><a href="#oracle-proxy-type">5.86. oracle.proxy-type</a></li>
<li><a href="#orm-throw-exceptions">5.87. orm.throw.exceptions</a></li>
<li><a href="#orm-validate-schema">5.88. orm.validate.schema</a></li>
<li><a href="#partitioning-2">5.89. partitioning</a></li>
<li><a href="#partitioning-callback">5.90. partitioning.callback</a></li>
<li><a href="#persistence-context-close-on-commit">5.91. persistence-context.close-on-commit</a></li>
<li><a href="#persistence-context-commit-without-persist-rules">5.92. persistence-context.commit-without-persist-rules</a></li>
<li><a href="#persistence-context-flush-mode">5.93. persistence-context.flush-mode</a></li>
<li><a href="#persistence-context-persist-on-commit">5.94. persistence-context.persist-on-commit</a></li>
<li><a href="#persistence-context-reference-mode">5.95. persistence-context.reference-mode</a></li>
<li><a href="#persistenceunits-2">5.96. persistenceunits</a></li>
<li><a href="#persistencexml-2">5.97. persistencexml</a></li>
<li><a href="#persisencexml-default">5.98. persisencexml.default</a></li>
<li><a href="#profiler-2">5.99. profiler</a></li>
<li><a href="#session-customizer">5.100. session.customizer</a></li>
<li><a href="#session-include-descriptor-queries">5.101. session.include.descriptor.queries</a></li>
<li><a href="#session-event-listener">5.102. session-event-listener</a></li>
<li><a href="#session-name">5.103. session-name</a></li>
<li><a href="#sessions-xml">5.104. sessions-xml</a></li>
<li><a href="#target-database">5.105. target-database</a></li>
<li><a href="#target-server">5.106. target-server</a></li>
<li><a href="#temporal-mutable">5.107. temporal.mutable</a></li>
<li><a href="#tenant-id">5.108. tenant-id</a></li>
<li><a href="#transaction-join-existing">5.109. transaction.join-existing</a></li>
<li><a href="#tuning-2">5.110. tuning</a></li>
<li><a href="#validate-existence">5.111. validate-existence</a></li>
<li><a href="#validation-only">5.112. validation-only</a></li>
<li><a href="#weaving-2">5.113. weaving</a></li>
<li><a href="#weaving-changetracking">5.114. weaving.changetracking</a></li>
<li><a href="#weaving-eager">5.115. weaving.eager</a></li>
<li><a href="#weaving-fetchgroups">5.116. weaving.fetchgroups</a></li>
<li><a href="#weaving-internal">5.117. weaving.internal</a></li>
<li><a href="#weaving-lazy">5.118. weaving.lazy</a></li>
</ul>
</li>
<li><a href="#eclipselink-orm-xml-schema-reference">6. eclipselink-orm.xml Schema Reference</a>
<ul class="sectlevel2">
<li><a href="#overriding-and-merging">6.1. Overriding and Merging</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="jpa-extensions.pdf">PDF</a>|<a href="jpa-extensions.epub">ePub</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="eclipselink"><a class="anchor" href="#eclipselink"></a>EclipseLink</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jakarta Persistence API (JPA) Extensions Reference for EclipseLink</p>
</div>
<div class="paragraph">
<p>Release  4.0.1</p>
</div>
<div class="paragraph">
<p>December 2022</p>
</div>
<div class="paragraph">
<p><strong>EclipseLink Jakarta Persistence API (JPA) Extensions Reference for
EclipseLink</strong></p>
</div>
<div class="paragraph">
<p>Copyright © 2022 by The Eclipse Foundation under the Eclipse Public
License (EPL)</p>
</div>
<div class="paragraph">
<p><code><a href="http://www.eclipse.org/org/documents/epl-v10.php" class="bare">http://www.eclipse.org/org/documents/epl-v10.php</a></code></p>
</div>
<div class="paragraph">
<p>The initial contribution of this content was based on work copyrighted
by Oracle and was submitted with permission.</p>
</div>
<div class="paragraph">
<p>Print date: December, 2022</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="preface"><a class="anchor" href="#preface"></a>Preface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>EclipseLink JPA provides specific annotations (<em>EclipseLink extensions</em>)
in addition to supporting the standard Java Persistence Architecture
(JPA) annotations. You can use these EclipseLink extensions to take
advantage of EclipseLink&#8217;s extended functionality and features within
your JPA entities.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA102"></a><a id="sthref2"></a></p>
</div>
<div class="sect2">
<h3 id="audience"><a class="anchor" href="#audience"></a>Audience</h3>
<div class="paragraph">
<p>This document is intended for application developers who want to develop
applications using EclipseLink with Java Persistence Architecture (JPA).
This document does not include details about related common tasks, but
focuses on EclipseLink functionality.</p>
</div>
<div class="paragraph">
<p>Developers should be familiar with the concepts and programming
practices of</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java SE and Jakarta EE.</p>
</li>
<li>
<p>Java Persistence Architecture 2.0 specification
(<code><a href="http://jcp.org/en/jsr/detail?id=317" class="bare">http://jcp.org/en/jsr/detail?id=317</a></code>)</p>
</li>
<li>
<p>Eclipse IDE (<code><a href="http://www.eclipse.org" class="bare">http://www.eclipse.org</a></code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For information about Oracle&#8217;s commitment to accessibility, visit the
Oracle Accessibility Program website at
<code><a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=docacc" class="bare">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=docacc</a></code>.</p>
</div>
<div id="sthref3" class="paragraph">
<p><strong>Access to Oracle Support</strong></p>
</div>
<div class="paragraph">
<p>Oracle customers have access to electronic support through My Oracle
Support. For information, visit
<code><a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=info" class="bare">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=info</a></code> or visit
<code><a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=trs" class="bare">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=trs</a></code> if you are
hearing impaired.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA105"></a><a id="sthref4"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="related-documents"><a class="anchor" href="#related-documents"></a>Related Documents</h3>
<div class="paragraph">
<p>For more information, see the following documents:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
<li>
<p><em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p><em>Oracle Fusion Middleware Java API Reference for EclipseLink</em></p>
</li>
<li>
<p>EclipseLink Documentation Center at
<code><a href="http://www.eclipse.org/eclipselink/documentation/" class="bare">http://www.eclipse.org/eclipselink/documentation/</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="TLJPA106"></a><a id="sthref5"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="conventions"><a class="anchor" href="#conventions"></a>Conventions</h3>
<div class="paragraph">
<p>The following text conventions are used in this document:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Convention</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Meaning</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>boldface</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boldface type indicates graphical user interface elements
associated with an action, or terms defined in text or the glossary.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>italic</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Italic type indicates book titles, emphasis, or placeholder
variables for which you supply particular values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>monospace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Monospace type indicates commands within a paragraph,
URLs, code in examples, text that appears on the screen, or text that
you enter.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="JPA_LOE"><a class="anchor" href="#JPA_LOE"></a>List of Examples</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#CFHFACAI">2-1 Using @AdditionalCriteria Annotation</a></p>
</li>
<li>
<p><a href="#CFHHBDFE">2-2 Using &lt;additional-criteria&gt; XML</a></p>
</li>
<li>
<p><a href="#TLJPA54054">2-3 Multitenancy Example 1</a></p>
</li>
<li>
<p><a href="#TLJPA54055">2-4 Multitenancy Example 2</a></p>
</li>
<li>
<p><a href="#CBABHEHD">2-5 Using @Array with Oracle VARRAY</a></p>
</li>
<li>
<p><a href="#CBACGBDA">2-6 Using @Array with PostgreSQL Struct</a></p>
</li>
<li>
<p><a href="#TLJPA331">2-7 Using JOIN BatchFetch Type</a></p>
</li>
<li>
<p><a href="#TLJPA332">2-8 Using EXISTS BatchFetch Type</a></p>
</li>
<li>
<p><a href="#TLJPA333">2-9 Using IN BatchFetch Type</a></p>
</li>
<li>
<p><a href="#CHDEEGCI">2-10 Using @Cache Annotation</a></p>
</li>
<li>
<p><a href="#CDEJDBFJ">2-11 Using &lt;cache&gt; XML</a></p>
</li>
<li>
<p><a href="#CACHFEFD">2-12 Specifying Caching in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABEECHH">2-13 Using @CacheIndex Annotation</a></p>
</li>
<li>
<p><a href="#BABIHBCC">2-14 Using &lt;cache-index&gt; XML</a></p>
</li>
<li>
<p><a href="#BABBIAGH">2-15 Caching an Index Query</a></p>
</li>
<li>
<p><a href="#BGBGHHFI">2-16 Using @CacheInterceptor Annotation</a></p>
</li>
<li>
<p><a href="#BGBEBHDH">2-17 Using &lt;cache-interceptor&gt; XML</a></p>
</li>
<li>
<p><a href="#CHDHCIGF">2-18 Using @CascadeOnDelete Annotation</a></p>
</li>
<li>
<p><a href="#CHDJIBAJ">2-19 Using &lt;cascade-on-delete&gt; XML</a></p>
</li>
<li>
<p><a href="#BCGCHJHG">2-20 Using @ChangeTracking Annotation</a></p>
</li>
<li>
<p><a href="#BCGHFGBB">2-21 Using &lt;change-tracking&gt; XML</a></p>
</li>
<li>
<p><a href="#BCGICDII">2-22 Specifying Change Tracking in persistence.xml</a></p>
</li>
<li>
<p><a href="#BGBEDADF">2-23 Using @ClassExtractor Annotation</a></p>
</li>
<li>
<p><a href="#BABDIJEG">2-24 Using &lt;class-extractor&gt; XML</a></p>
</li>
<li>
<p><a href="#BABEIGHC">2-25 Using @CloneCopyPolicy Annotation</a></p>
</li>
<li>
<p><a href="#BABJAHCB">2-26 Using &lt;clone-copy-policy&gt; XML</a></p>
</li>
<li>
<p><a href="#TLJPA371">2-27 Using @CompositeMember Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA372">2-28 Using &lt;composite-member&gt; XML</a></p>
</li>
<li>
<p><a href="#BABFEJHJ">2-29 Using @ConversionValue Annotation</a></p>
</li>
<li>
<p><a href="#BABIHAFA">2-30 Using &lt;conversion-value&gt; XML</a></p>
</li>
<li>
<p><a href="#BEHFAGHF">2-31 Using the @Convert Annotation</a></p>
</li>
<li>
<p><a href="#CHDFGEFJ">2-32 Using the @Converter Annotation</a></p>
</li>
<li>
<p><a href="#BGBBDAAJ">2-33 Using &lt;converter&gt; XML</a></p>
</li>
<li>
<p><a href="#BABCIIIJ">2-34 Using @CopyPolicy Annotation</a></p>
</li>
<li>
<p><a href="#BABECEEG">2-35 Using &lt;copy-policy&gt; XML</a></p>
</li>
<li>
<p><a href="#BABBFAGB">2-36 Using @Customizer Annotation</a></p>
</li>
<li>
<p><a href="#BABDJIFC">2-37 Using &lt;customizer&gt; XML</a></p>
</li>
<li>
<p><a href="#CBHBIFII">2-38 Using @DeleteAll Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA397">2-39 Using &lt;delete-all&gt; XML</a></p>
</li>
<li>
<p><a href="#BACGGFEH">2-40 Using the @ExcludeDefaultMappings Annotation</a></p>
</li>
<li>
<p><a href="#CEGDGCHF">2-41 Using @ExistenceChecking Annotation</a></p>
</li>
<li>
<p><a href="#BABFDFHD">2-42 Using @FetchAttribute Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA54004">2-43 Using &lt;fetch-group&gt; XML</a></p>
</li>
<li>
<p><a href="#BABGHDJB">2-44 Using @FetchGroup Annotation</a></p>
</li>
<li>
<p><a href="#CACEFCDH">2-45 Using &lt;fetch-group&gt; XML</a></p>
</li>
<li>
<p><a href="#BABGFDJA">2-46 Using a Named Fetch Group on a Query</a></p>
</li>
<li>
<p><a href="#CHDJCEHI">2-47 Specifying Fetch Groups in persistence.xml</a></p>
</li>
<li>
<p><a href="#TLJPA420">2-48 Using @Index Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA421">2-49 Using &lt;index&gt; XML</a></p>
</li>
<li>
<p><a href="#CHDDBCHI">2-50 Using @InstantiationCopyPolicy Annotation</a></p>
</li>
<li>
<p><a href="#CHDGCDAI">2-51 Using &lt;instantiation-copy-policy&gt; XML</a></p>
</li>
<li>
<p><a href="#TLJPA430">2-52 Using @JoinFetch Annotation</a></p>
</li>
<li>
<p><a href="#CEGJIBCF">2-53 Using &lt;join-fetch&gt; in XML</a></p>
</li>
<li>
<p><a href="#CIHCFEJH">2-54 Using @JoinField Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA54007">2-55 Using &lt;join-field&gt; in XML</a></p>
</li>
<li>
<p><a href="#BEHEHJJC">2-56 Using @MapKeyConvert Annotation</a></p>
</li>
<li>
<p><a href="#BEHCFGDH">2-57 Using &lt;map-key-convert&gt; XML</a></p>
</li>
<li>
<p><a href="#BABEHCGI">2-58 Minimal @Multitenant Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA711">2-59 Example Using @Multitenant</a></p>
</li>
<li>
<p><a href="#TLJPA712">2-60 Example Using &lt;multitenant&gt;</a></p>
</li>
<li>
<p><a href="#TLJPA715">2-61 Example Using @Multitenant with @TenantTableDiscriminator</a></p>
</li>
<li>
<p><a href="#TLJPA716">2-62 Example Using &lt;multitenant&gt; with &lt;tenant-table-discriminator&gt;</a></p>
</li>
<li>
<p><a href="#CHDIEFCF">2-63 Example Using @Multitenant(VPD)</a></p>
</li>
<li>
<p><a href="#TLJPA720">2-64 Example Using &lt;multitenant&gt;</a></p>
</li>
<li>
<p><a href="#CHDDJJEE">2-65 Using @Mutable Annotation</a></p>
</li>
<li>
<p><a href="#CHDCDIBH">2-66 Specifying Mutable Mappings in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDICCEF">2-67 Using @NamedPLSQLStoredFunctionQuery Annotation</a></p>
</li>
<li>
<p><a href="#BABFCGCE">2-68 Using @NamedPLSQLStoredProcedureQueries Annotation</a></p>
</li>
<li>
<p><a href="#BGBICFEB2">2-69 Using @NamedPLSQLStoredProcedureQuery Annotation</a></p>
</li>
<li>
<p><a href="#CIHBJIHJ">2-70 Using @NamedStoredFunctionQueries Annotation</a></p>
</li>
<li>
<p><a href="#BABHABEG">2-71 Using @NamedStoredFunctionQuery Annotation</a></p>
</li>
<li>
<p><a href="#BABGJGJJ">2-72 Using &lt;named-stored-function-query&gt; XML</a></p>
</li>
<li>
<p><a href="#BABIFCAJ">2-73 Using @NamedStoredProcedureQueries Annotation</a></p>
</li>
<li>
<p><a href="#BGBJBAFD">2-74 Using @NamedStoredProcedureQuery Annotation</a></p>
</li>
<li>
<p><a href="#BGBIHIHB">2-75 Using &lt;named-stored-procedure-query&gt; XML</a></p>
</li>
<li>
<p><a href="#CHDDEGCI">2-76 Using @Noncacheable Annotation</a></p>
</li>
<li>
<p><a href="#CHDDFJCH">2-77 Using &lt;noncacheable&gt; XML</a></p>
</li>
<li>
<p><a href="#BJECFBJG">2-78 Using @NoSql Annotation with XML</a></p>
</li>
<li>
<p><a href="#BJECHGJH">2-79 Using @NoSql Annotation with JSON</a></p>
</li>
<li>
<p><a href="#BGBFDFEJ">2-80 Using the @ObjectTypeConverter Annotation</a></p>
</li>
<li>
<p><a href="#BGBCECGI">2-81 Using &lt;object-type-converter&gt; XML</a></p>
</li>
<li>
<p><a href="#CHDBGGJB">2-82 Using @ObjectTypeConverters Annotation</a></p>
</li>
<li>
<p><a href="#BCGJBJFJ">2-83 Using @OptimisticLocking Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA488">2-84 Using &lt;optimistic-locking&gt; XML</a></p>
</li>
<li>
<p><a href="#CACFFDHH">2-85 Using the @OracleArray Annoation</a></p>
</li>
<li>
<p><a href="#CACBHHBD">2-86 Using the @OracleObject Annotation</a></p>
</li>
<li>
<p><a href="#CHDFIAIE">2-87 Using @OrderCorrection Annotation</a></p>
</li>
<li>
<p><a href="#CHDHIFFI">2-88 Using &lt;element-collection&gt; in XML</a></p>
</li>
<li>
<p><a href="#CEGHAIDJ">2-89 Using Partitioning</a></p>
</li>
<li>
<p><a href="#CEGJCEIH">2-90 Using @RangePartitioning</a></p>
</li>
<li>
<p><a href="#CEGCEIBF">2-91 Using @Partitioning Annotation</a></p>
</li>
<li>
<p><a href="#CHDJJCGF">2-92 Using @PLSQLRecord Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA54113">2-93 Using the @PLSQLTable Annotation</a></p>
</li>
<li>
<p><a href="#BGEJFGAG">2-94 Using @PrimaryKey Annotation</a></p>
</li>
<li>
<p><a href="#BGEGDFHI">2-95 Using @&lt;primary-key&gt; XML</a></p>
</li>
<li>
<p><a href="#CHDIAFFA">2-96 Using @PrivateOwned Annotation</a></p>
</li>
<li>
<p><a href="#CIHDHIIH">2-97 Using @QueryRedirectors Annotation</a></p>
</li>
<li>
<p><a href="#BCGIJGHH">2-98 Using @RangePartitioning Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA522">2-99 Using &lt;range-partitioning&gt; XML</a></p>
</li>
<li>
<p><a href="#BGBCIIDB">2-100 Using @ReadOnly Annotation</a></p>
</li>
<li>
<p><a href="#BGBCBHEE">2-101 Using &lt;read-only&gt; XML</a></p>
</li>
<li>
<p><a href="#CIHDFAFD">2-102 Using @ReturnInsert Annotation</a></p>
</li>
<li>
<p><a href="#CIHEJAJG">2-103 Using &lt;return-insert&gt; XML</a></p>
</li>
<li>
<p><a href="#CACBJIIH">2-104 Using @ReturnUpdate Annotation</a></p>
</li>
<li>
<p><a href="#CACJIJGE">2-105 Using &lt;return-update&gt; XML</a></p>
</li>
<li>
<p><a href="#CACFCAFF">2-106 Specifying a Serialized Object Policy</a></p>
</li>
<li>
<p><a href="#CACGIGIH">2-107 Preventing the Use of a Serialized Object Policy in a Query</a></p>
</li>
<li>
<p><a href="#CACGFBHH">2-108 Preventing Search Using a Serialized Object Policy Property</a></p>
</li>
<li>
<p><a href="#CACCGJAJ">2-109 Using @Struct Annotation</a></p>
</li>
<li>
<p><a href="#CBBIEDGD">2-110 Using &lt;struct&gt; XML</a></p>
</li>
<li>
<p><a href="#BGBJCJCC">2-111 Using @StructConverter Annotation</a></p>
</li>
<li>
<p><a href="#CHDHGDGH">2-112 Using @StructConverters Annotation</a></p>
</li>
<li>
<p><a href="#CHDHGABD">2-113 Using &lt;struct-converters&gt; XML</a></p>
</li>
<li>
<p><a href="#CACDBBII">2-114 Using @Structure Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA554">2-115 Using &lt;structure&gt; XML</a></p>
</li>
<li>
<p><a href="#CHEJICEF">2-116 Using @TenantDiscriminatorColumn Annotation</a></p>
</li>
<li>
<p><a href="#CHEDCDDF">2-117 Using &lt;tenant-discriminator-column&gt; XML</a></p>
</li>
<li>
<p><a href="#TLJPA563">2-118 Using @TenantTableDiscriminator Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA564">2-119 Using &lt;tenant-table-discriminator&gt; XML</a></p>
</li>
<li>
<p><a href="#BABHECGF">2-120 Using @Transformation Annotation</a></p>
</li>
<li>
<p><a href="#BABHCBAG">2-121 Using &lt;transformation&gt; XML</a></p>
</li>
<li>
<p><a href="#CHDEHGEF">2-122 Using the @TypeConverter Annotation</a></p>
</li>
<li>
<p><a href="#BCFEHCDH">2-123 Using @TypeConverters Annotation</a></p>
</li>
<li>
<p><a href="#TLJPA577">2-124 Using &lt;type-converters&gt; XML</a></p>
</li>
<li>
<p><a href="#CFADJAIF">2-125 Using @UuidGenerator Annotation</a></p>
</li>
<li>
<p><a href="#CFAGEJHJ">2-126 Using &lt;generated-value&gt; XML</a></p>
</li>
<li>
<p><a href="#CFAJEEEJ">2-127 Specifying Generator in persistence.xml</a></p>
</li>
<li>
<p><a href="#CJHFDJAC">2-128 Using @ValuePartition Annotation</a></p>
</li>
<li>
<p><a href="#CJHBEIGD">2-129 Using &lt;partition&gt; XML</a></p>
</li>
<li>
<p><a href="#CHDJDIJD">2-130 Using @VariableOneToOne Annotation</a></p>
</li>
<li>
<p><a href="#CHDCBGAF">2-131 Using &lt;variable-one-to-one&gt; XML</a></p>
</li>
<li>
<p><a href="#TLJPA597">2-132 Using @VirtualAccessMethods Annotation</a></p>
</li>
<li>
<p><a href="#CIHCJCJE">2-133 Using &lt;access&gt; and &lt;access-methods&gt; XML</a></p>
</li>
<li>
<p><a href="#CIHGHBIC">3-1 Using CAST EQL</a></p>
</li>
<li>
<p><a href="#CDCCFCBE">3-2 Using COLUMN EQL</a></p>
</li>
<li>
<p><a href="#CDCFDDGF">3-3 Using COLUMN with a Primitive Column</a></p>
</li>
<li>
<p><a href="#BABJIEDC">3-4 Using EXCEPT EQL</a></p>
</li>
<li>
<p><a href="#CHDJGBFJ">3-5 Using EXTRACT EQL</a></p>
</li>
<li>
<p><a href="#CIHCCHIC">3-6 Using FUNCTION EQL</a></p>
</li>
<li>
<p><a href="#CIHFDEIJ">3-7 Using FUNCTION EQL Oracle Spatial examples</a></p>
</li>
<li>
<p><a href="#BABGGIFA">3-8 Using INTERSECT EQL</a></p>
</li>
<li>
<p><a href="#BABFGBAD">3-9 Using ON Clause EQ</a></p>
</li>
<li>
<p><a href="#BGBGIAEE">3-10 Using OPERATOR EQL</a></p>
</li>
<li>
<p><a href="#BABHHDCH">3-11 Using REGEXP EQL</a></p>
</li>
<li>
<p><a href="#CHDCEHAI">3-12 Using SQL EQ</a></p>
</li>
<li>
<p><a href="#CIAFABDE">3-13 Using TABLE EQL</a></p>
</li>
<li>
<p><a href="#BEHECHCD">3-14 Using TREAT EQL</a></p>
</li>
<li>
<p><a href="#CJHHJIDB">3-15 Using UNION EQL</a></p>
</li>
<li>
<p><a href="#CBHCBIJB">4-1 Using batch in a JPA Query</a></p>
</li>
<li>
<p><a href="#CBHJEGBF">4-2 Using batch in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#BABHIGJA">4-3 Using batch.size in a JPA Query</a></p>
</li>
<li>
<p><a href="#BABIHJJH">4-4 Using batch.size in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#BABGBHFC">4-5 Using batch.type in a JPA Query</a></p>
</li>
<li>
<p><a href="#BABFGECF">4-6 Using batch.type in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#BABCBJAH">4-7 Using cache-usage in a JPA Query</a></p>
</li>
<li>
<p><a href="#BABBFCGD">4-8 Using cache-usage in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDGHCAF">4-9 Using cache-usage.indirection-policy in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDEFCID">4-10 Using cache-usage.indirection-policy in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#BABHFHEG">4-11 Using cursor in a JPA Query</a></p>
</li>
<li>
<p><a href="#BABFADCA">4-12 Using cursor in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDEJEAE">4-13 Using composite-unit.member in a JPA query</a></p>
</li>
<li>
<p><a href="#CHDDJEAA">4-14 Using composite-unit.member in an @QueryHint annotation</a></p>
</li>
<li>
<p><a href="#CHDIIBJH">4-15 Using cursor.initial-size in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDIHGDI">4-16 Using cursor.initial-size in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDIAFBG">4-17 Using cursor.page-size in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDIACBG">4-18 Using cursor.page-size in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDHHEGA">4-19 Using exclusive-connection in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDIGEII">4-20 Using exclusive-connection in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDGGHHG">4-21 Using flush in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDHDACD">4-22 Using flush in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDGCFEI">4-23 Using history.as-of in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDIEAIC">4-24 Using history.as-of in @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDGAJAB">4-25 Using history.as-of.scn in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDIHCFG">4-26 Using history.as-of.scn in @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDICAFC">4-27 Using inheritance.outer-join in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDIFIJJ">4-28 Using inheritance.outer-join in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#BABGDCJA">4-29 Using bind-parameters in a JPA Query</a></p>
</li>
<li>
<p><a href="#BABIHAEJ">4-30 Using bind-parameters in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#BABFBBJD">4-31 Specifying Parameter Binding Persistence Unit Property</a></p>
</li>
<li>
<p><a href="#CHDIAHFI">4-32 Using jdbc.cache-statement in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDHEDDG">4-33 Using jdbc.cache-statement in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDBEBDE">4-34 Using jdbc.fetch-size in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDHFAHJ">4-35 Using jdbc.fetch-size in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDIFCDA">4-36 Using jdbc.first-result in a JPA Query</a></p>
</li>
<li>
<p><a href="#BACJHHJB">4-37 Using jdbc.max-rows in a JPA Query</a></p>
</li>
<li>
<p><a href="#BACEDDBB">4-38 Using jdbc.max-rows in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDIGECJ">4-39 Using jdbc.native-connection in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDCICJE">4-40 Using jdbc.parameter-delimiter in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDFCEBI">4-41 Using jdbc.parameter-delimiter in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDGCDAG">4-42 Using jdbc.timeout in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDHICEC">4-43 Using jdbc.timeout in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#BABJAJBE">4-44 Using join-fetch in a JPA Query</a></p>
</li>
<li>
<p><a href="#BABCAFGJ">4-45 Using join-fetch in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDCBHBD">4-46 Using left-join-fetch in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDECBHE">4-47 Using left-join-fetch in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDDJICH">4-48 Using load-group in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDFJAGD">4-49 Using load-group in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#BABJCJGF">4-50 Using maintain-cache in a JPA Query</a></p>
</li>
<li>
<p><a href="#BABBHIDI">4-51 Using maintain-cache in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CIHGEJFF">4-52 Using pessimistic-lock in a JPA Query</a></p>
</li>
<li>
<p><a href="#CIHIAFGH">4-53 Using pessimistic-lock in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDEABHD">4-54 Using prepare in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDBDIFC">4-55 Using prepare in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDHAFFG">4-56 Using query-results-cache in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDBHAGC">4-57 Using query-results-cache in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDBHFJI">4-58 Using query-results-cache in orm.xml File</a></p>
</li>
<li>
<p><a href="#CHDHHGJE">4-59 Using query-results-cache.expiry in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDHIJFD">4-60 Using query-results-cache.expiry in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDCCJCH">4-61 Using query-results-cache.expiry-time-of-day in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDEDCDD">4-62 Using query-results-cache.expiry-time-of-day in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDEAHFC">4-63 Using query-results-cache.ignore-null in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDIEEHG">4-64 Using query-results-cache.ignore-null in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDHEDDC">4-65 Using query-results-cache.randomize-expiry in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDICBII">4-66 Using query-results-cache.randomize-expiry in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDGADHE">4-67 Using query-results-cache.size in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDIGAAF">4-68 Using query-results-cache.size in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#BABEAAAI">4-69 Using query-results-cache.type in a JPA Query</a></p>
</li>
<li>
<p><a href="#BABHGBJD">4-70 Using query-results-cache.type in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CDEJACJC">4-71 Using query-type in a JPA Query</a></p>
</li>
<li>
<p><a href="#CDEIIIDE">4-72 Using query-type in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CDDEDJEH">4-73 Using read-only in a JPA Query</a></p>
</li>
<li>
<p><a href="#CDDCEFBH">4-74 Using read-only in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDJBCHB">4-75 Using refresh in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDJFCJB">4-76 Using refresh in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CDEDJFBE">4-77 Using refresh.cascade in a JPA Query</a></p>
</li>
<li>
<p><a href="#CDEGAJFE">4-78 Using refresh.cascade in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CHDHCECJ">4-79 Using result-collection-type in a JPA Query</a></p>
</li>
<li>
<p><a href="#CHDFHCEF">4-80 Using result-collection-type in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CIHHIBCH">4-81 Using sql.hint in a JPA Query</a></p>
</li>
<li>
<p><a href="#CIHDEAGG">4-82 Using sql.hint in a @QueryHint Annotation</a></p>
</li>
<li>
<p><a href="#CACGJACG">5-1 Using application-location in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDDIGII">5-2 Using application-location in a Property Map</a></p>
</li>
<li>
<p><a href="#BABBJEBD">5-3 Using application-location in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDDBGHI">5-4 Using cache.coordination.channel in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDBIAHF">5-5 Using cache.coordination.jndi.initial-context-factory in persistence.xml.</a></p>
</li>
<li>
<p><a href="#CHDGJAGI">5-6 Using cache.coordination.jndi.initial-context-factory in a property map</a></p>
</li>
<li>
<p><a href="#BABEDFDG">5-7 Using cache.coordination.jndi.password in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDDGDHG">5-8 Using cache.coordination.jndi.password in a Property Map</a></p>
</li>
<li>
<p><a href="#BABGAFBA">5-9 Using cache.coordination.naming-service in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDGAICF">5-10 Using cache.coordination.naming-service in a Property Map</a></p>
</li>
<li>
<p><a href="#BABCBHJG">5-11 Using cache.coordination.propagate-asynchronously in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDCDGIC">5-12 Using cache.coordination.propagate-asynchronously in a Property Map</a></p>
</li>
<li>
<p><a href="#BABHGIFC">5-13 Configuring JMS Cache Coordination in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABJDAIB">5-14 Configuring RMI Cache Coordination in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABGBHBE">5-15 Using cache.coordination.remove-connection-on-error in peristence.xml</a></p>
</li>
<li>
<p><a href="#CHDDAIAI">5-16 Using cache.coordination.remove-connection-on_error in a property map</a></p>
</li>
<li>
<p><a href="#CHDEFIEH">5-17 Using cache.coordination.thread.pool.size in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDHEAHC">5-18 Using cache.coordination.thread.pool.size in a Property Map</a></p>
</li>
<li>
<p><a href="#CCHGJFCG">5-19 Using cache.database-event-listener in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDFCFFI">5-20 Using classloader in a Property Map</a></p>
</li>
<li>
<p><a href="#BIIECICI">5-21 Using composite-unit in persistence.xml</a></p>
</li>
<li>
<p><a href="#CACGJACG2">5-22 Using composite-unit.member in persistence.xml</a></p>
</li>
<li>
<p><a href="#CIHGBGHC">5-23 Using composite-unit.properties in a Property Map</a></p>
</li>
<li>
<p><a href="#BABICBAJ">5-24 Using connection-pool in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDJCIHD">5-25 Using connection-pool.read in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABEFAFH">5-26 Using connection-pool.sequence in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABFFGJE">5-27 Using ddl-generation in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABJADFJ">5-28 Using ddl-generation in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDCAFFF">5-29 Using ddl.table-creation-suffix in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABJIBFB">5-30 Using deploy-on-startup in persistence.xml</a></p>
</li>
<li>
<p><a href="#CCHFCJIB">5-31 Using descriptor.customizer in persistence.xml</a></p>
</li>
<li>
<p><a href="#CCHGCBGA">5-32 Using descriptor.customizer in a Property Map</a></p>
</li>
<li>
<p><a href="#CCHEACJI">5-33 Using exception-handler in persistence.xml</a></p>
</li>
<li>
<p><a href="#CCHDJGGC">5-34 Using exception-handler in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDBHCCA">5-35 Using exclude-eclipselink-orm in persistence.xml</a></p>
</li>
<li>
<p><a href="#CDEICBJJ">5-36 Using flush-clear.cache in persistence.xml</a></p>
</li>
<li>
<p><a href="#CDEJIDHJ">5-37 Using flush-clear.cache in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDIIGAJ">5-38 Using id-validation in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDFFJJE">5-39 Using jdbc.allow-native-sql-queries in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDJDFBE">5-40 Using jdbc.batch-writing in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDHJHJH">5-41 Using jdbc.batch-writing in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDGEAHF">5-42 Using jdbc.batch-writing.size in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDFFCAE">5-43 Using jdbc.cache-statements in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDGGFFJ">5-44 Using jdbc.cache-statements in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDCJAAA">5-45 Using jdbc.cache-statements.size in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDHCJGF">5-46 Using jdbc.cache-statements.size in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDDEEFA">5-47 Using jdbc.connector in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDDIIHC">5-48 Using jdbc.exclusive-connection.is-lazy in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDEDDBE">5-49 Using jdbc.exclusive-connection.is-lazy in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDBEHHE">5-50 Using jdbc.exclusive-connection.mode in persitence.xml</a></p>
</li>
<li>
<p><a href="#CHDEJGJB">5-51 Using jdbc.exclusive-connection.mode in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDDABBB">5-52 Using jdbc.native-sql in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDIJBIE">5-53 Using jdbc.native-sql in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDHGEBH">5-54 Using jdbc.property in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDJHBDG1">5-55 Using jdbc.sql-cast in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDBHAGA">5-56 Using jdbc.uppercase-column-names in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDJJCBB">5-57 Using jpa.uppercase-column-names in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDCHGGF">5-58 Using jpql.validation in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDDDFJE">5-59 Using logging.connection in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABCGBJA">5-60 Using logging.exceptions in persistence.xml file</a></p>
</li>
<li>
<p><a href="#BABFGBDI">5-61 Using logging.exceptions in a Property Map</a></p>
</li>
<li>
<p><a href="#CACEFJBC">5-62 Using logging.file in persistence.xml file</a></p>
</li>
<li>
<p><a href="#CACJCGAG">5-63 Using logging.file in a Property Map</a></p>
</li>
<li>
<p><a href="#BEIEEBEJ">5-64 Using logging.level in persistence.xml file</a></p>
</li>
<li>
<p><a href="#BEIGJJIH">5-65 Using logging.level in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDGEGJH">5-66 Using logging.logger in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDEFICF">5-67 Using logging.logger in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDDGCCE">5-68 Using logging.parameters in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDCEJIG">5-69 Using logging.session in persistence.xml file</a></p>
</li>
<li>
<p><a href="#CHDCEEBI">5-70 Using logging.session in a Property Map</a></p>
</li>
<li>
<p><a href="#CDFIAHBA">5-71 Using logging.thread in persistence.xml file</a></p>
</li>
<li>
<p><a href="#CDFEHDHJ">5-72 Using logging.thread in a Property Map</a></p>
</li>
<li>
<p><a href="#BABGHIAE">5-73 Using logging.timestamp in persistence.xml file</a></p>
</li>
<li>
<p><a href="#BABGHBDA">5-74 Using logging.timestamp in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDIJADD">5-75 Using metadata-source in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDDJECG">5-76 Using metadata-source.properties.file in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDIACJI">5-77 Using metadata-source.send-refresh-command in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDGHCBE">5-78 Using metadata-source-refresh-command in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDJJCDD">5-79 Using metadata-source.xml.file in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDJAHHH">5-80 Using metadata-source.xml.url in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDDABAB">5-81 Using multitenant.tenants-share-cache in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDFHAJJ">5-82 Using multitenant.tenants-share-cache in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDEGDAH">5-83 Using multitenant.tenants-share-emf in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDJJDGE">5-84 Using nosql.connection-factory in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABHDHCG">5-85 Using nosql.property in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDDCIFJ">5-86 Using eclipselink.oracle.proxy-type with EntityManager</a></p>
</li>
<li>
<p><a href="#CIHCCAJE">5-87 Using orm.throw.exceptions in persistence.xml</a></p>
</li>
<li>
<p><a href="#CIHEIECA">5-88 Using orm.throw.exceptions in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDBCEAB">5-89 Using orm.validate.schema in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDHAJDD">5-90 Using orm.validate.schema in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDJFIJA">5-91 Using partitioning in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDFEFBF">5-92 Using partitioning.callback in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDCEHEE">5-93 Using partitioning.callback in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDIBADB">5-94 Using persistence-context.close-on-commit in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDGGCCD">5-95 Using persistence-context.close-on-commit in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDGJCEE">5-96 Using persistence-context.commit-without-persist-rules in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDHHEIH">5-97 Using persistence-context.commit-without-persist-rules in a Property Map</a></p>
</li>
<li>
<p><a href="#BABJCABF">5-98 Using persistence-context.flush-mode in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDJBHIA">5-99 Using persistence-context.flush-mode in a Property Map</a></p>
</li>
<li>
<p><a href="#BEHGGIEC">5-100 Using persistence-context.persist-on-commit in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDBGCCA">5-101 Using persistence-context.persis-on-commit in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDBACII">5-102 Using persistence-context.reference-mode in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDCIDAH">5-103 Using persistence-context.reference-mode in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDDAJDH">5-104 Using persistenceunits in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDCHHEB">5-105 Using persistencexml in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDDHADB">5-106 Using persistencexml.default in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDBCCED">5-107 Using profiler in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDJFBDI">5-108 Using profiler in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDFBIEI">5-109 Using session.customizer in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDJEDJG">5-110 Using session.customizer in a Property Map</a></p>
</li>
<li>
<p><a href="#BABGAFHH">5-111 Using session.include.descriptor.queries in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABBBGEH">5-112 Using session.include.descriptor.queries in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDJFEIG">5-113 Using session-event-listener in persistence.xml</a></p>
</li>
<li>
<p><a href="#TLJPA1022">5-114 Using session-event-listener in a Property Map</a></p>
</li>
<li>
<p><a href="#CACICICG">5-115 Using session-name in persistence.xml</a></p>
</li>
<li>
<p><a href="#CACIFIGD">5-116 Using session-name in a Property Map</a></p>
</li>
<li>
<p><a href="#CIHGDFAI">5-117 Using sessions-xml in the persistence.xml file</a></p>
</li>
<li>
<p><a href="#CHDBBJAJ">5-118 Using sessions-xml in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDGGJAG">5-119 Using target-database in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDEBFEJ">5-120 Using target-database in a Property Map</a></p>
</li>
<li>
<p><a href="#CCHCEIDA">5-121 Using target-server in persistence.xml</a></p>
</li>
<li>
<p><a href="#CCHHAJEH">5-122 Using target-server in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDCHDCH">5-123 Using temporal.mutable in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDGHCDJ">5-124 Using temporal.mutable in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDFGBED">5-125 Using tenant-id in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDHDGGI">5-126 Using tenant-id in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDEEHAC">5-127 Using transaction.join-existing in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDHDGAJ">5-128 Using transaction.join-existing in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDFBDDA">5-129 Using tuning in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDHEBBG">5-130 Using validate-existence in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDBEGBB">5-131 Using validate-existence in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDJIFBC">5-132 Using validation-only in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDIHEBJ">5-133 Using validation-only in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDEIGFH">5-134 Using weaving in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDIGBIG">5-135 Using weaving in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDCCAFF">5-136 Using weaving.changetracking in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDHDAEG">5-137 Using weaving.changetracking in a Property Map</a></p>
</li>
<li>
<p><a href="#BABFGADF">5-138 Using weaving in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABEECEE">5-139 Using weaving in a Property Map</a></p>
</li>
<li>
<p><a href="#CHDGJJBB">5-140 Using weaving.fetchgroups in persistence.xml</a></p>
</li>
<li>
<p><a href="#CHDCJBAJ">5-141 Using weaving.fetchgroups in a Property Map</a></p>
</li>
<li>
<p><a href="#BABBBCEI">5-142 Using weaving in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABFHGDC">5-143 Using weaving in a Property Map</a></p>
</li>
<li>
<p><a href="#BABCJAID">5-144 Using weaving.lazy in persistence.xml</a></p>
</li>
<li>
<p><a href="#BABHJIGA">5-145 Using weaving.lazy in a Property Map</a></p>
</li>
<li>
<p><a href="#TLJPA702">6-1 Overriding/Merging Example 1</a></p>
</li>
<li>
<p><a href="#TLJPA703">6-2 Overriding/Merging Example 2</a></p>
</li>
<li>
<p><a href="#TLJPA704">6-3 Overriding/Merging Example 3</a></p>
</li>
<li>
<p><a href="#TLJPA705">6-4 Overriding/Merging Example 4</a></p>
</li>
<li>
<p><a href="#TLJPA706">6-5 Overriding/Merging Example 5</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter introduces EclipseLink. EclipseLink is an advanced,
object-persistence and object-transformation framework that provides
development tools and run-time capabilities that reduce development and
maintenance efforts, and increase enterprise application functionality.</p>
</div>
<div class="paragraph">
<p>This chapter includes the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#about-eclipselink">About EclipseLink</a></p>
</li>
<li>
<p><a href="#about-this-documentation">About This Documentation</a></p>
</li>
<li>
<p><a href="#other-resources">Other Resources</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="about-eclipselink"><a class="anchor" href="#about-eclipselink"></a>About EclipseLink</h3>
<div class="paragraph">
<p>EclipseLink is suitable for use with a wide range of Java Enterprise
Edition (Jakarta EE) and Java application architectures. Use EclipseLink
to design, implement, deploy, and optimize an advanced
object-persistence and object-transformation layer that supports a
variety of data sources and formats, including the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JPA – For object-relational persistence, supporting the JPA (Jakarta
Persistence API) specification and a native API</p>
</li>
<li>
<p>NoSQL – For object persistence of non-relational NoSQL and EIS
databases through JPA and a native API</p>
</li>
<li>
<p>JAXB – For object-XML transformation, supporting the JAXB (Java
Architecture for XML Binding) specification and a native API</p>
</li>
<li>
<p>JSON – For object-JSON (JavaScript Object Notation) transformation</p>
</li>
<li>
<p>DBWS – For generation of web services from database tables and stored
procedures</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The EclipseLink native API includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Relational – For transactional persistence of Java objects to a
relational database accessed using Java Database Connectivity (JDBC)
drivers.</p>
</li>
<li>
<p>Object-Relational Data Type – For transactional persistence of Java
objects to special-purpose structured data source representations
optimized for storage in object-relational data type databases such as
Oracle Database.</p>
</li>
<li>
<p>Enterprise information system (EIS) – For transactional persistence of
Java objects to a non-relational data source accessed using a Jakarta EE
Connector architecture (JCA) adapter and any supported EIS record type,
including indexed, mapped, or XML.</p>
</li>
<li>
<p>XML – For non-transactional, non-prescription (in-memory) conversion
between Java objects and XML Schema Document (XSD)-based XML documents
using Java Architecture for XML Binding (JAXB).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EclipseLink includes support for EJB 3.0 and the Jakarta Persistence API
(JPA) in Jakarta EE and Java SE environments including integration with
a variety of application servers including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Oracle WebLogic Server</p>
</li>
<li>
<p>Oracle Glassfish Server</p>
</li>
<li>
<p>JBoss Web Server</p>
</li>
<li>
<p>IBM WebSphere application server</p>
</li>
<li>
<p>SAP NetWeaver</p>
</li>
<li>
<p>Oracle Containers for Jakarta EE (OC4J)</p>
</li>
<li>
<p>Various other web containers, such as Apache Tomcat, Eclipse Gemini,
IBM WebSphere CE, and SpringSource tcServer</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EclipseLink lets you quickly capture and define object-to-data source
and object-to-data representation mappings in a flexible, efficient
metadata format.</p>
</div>
<div class="paragraph">
<p>The EclipseLink runtime lets your application exploit this mapping
metadata with a simple session facade that provides in-depth support for
standard APIs such as JPA, and JAXB as well as EclipseLink-specific
extensions to those standards.</p>
</div>
</div>
<div class="sect2">
<h3 id="about-this-documentation"><a class="anchor" href="#about-this-documentation"></a>About This Documentation</h3>
<div class="paragraph">
<p>EclipseLink is the reference implementation of the Java Persistence
Architecture (JPA) 2.0 specification It also includes many enhancements
and extensions.</p>
</div>
<div class="paragraph">
<p>This document explains the EclipseLink enhancements and extensions to
JPA. Please refer to the JPA specification for full documentation of
core JPA. Where appropriate, this documentation provides links to the
pertinent section of the specification.</p>
</div>
<div class="sect3">
<h4 id="other-resources"><a class="anchor" href="#other-resources"></a>Other Resources</h4>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java Persistence specification for complete information about
JPA`http://jcp.org/en/jsr/detail?id=317`</p>
</li>
<li>
<p>EclipseLink Documentation Center for more information about
EclipseLink support of JPA.
<code><a href="http://www.eclipse.org/eclipselink/documentation/" class="bare">http://www.eclipse.org/eclipselink/documentation/</a></code></p>
</li>
<li>
<p>The EclipseLink API reference documentation (Javadoc) for complete
information on core JPA plus the EclipseLink
enhancements`http://www.eclipse.org/eclipselink/api/`</p>
<div class="ulist">
<ul>
<li>
<p>The schema for the JPA persistence configuration
file`http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd`</p>
</li>
<li>
<p>The schema for the persistence object/relational mapping
file`http://java.sun.com/xml/ns/persistence/orm_2_0.xsd`</p>
</li>
<li>
<p>The schema for the native EclipseLink mapping
file`http://www.eclipse.org/eclipselink/xsds/eclipselink_orm_2_0.xsd`</p>
</li>
</ul>
</div>
</li>
<li>
<p>Examples that display the use of a number of EclipseLink JPA
features`http://wiki.eclipse.org/EclipseLink/Examples/`</p>
</li>
<li>
<p>JavaEE and JPA tutorial. Although this tutorial does not include
EclipseLink-specific information, it does contain useful information to
help you implement JPA 2.0 applications.
<code><a href="http://download.oracle.com/javaee/5/tutorial/doc/bnbpy.html" class="bare">http://download.oracle.com/javaee/5/tutorial/doc/bnbpy.html</a></code></p>
</li>
<li>
<p>Java Persistence, a wiki-based "open book" about JPA
2.0`http://en.wikibooks.org/wiki/Java_Persistence`</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="annotation-extensions-reference"><a class="anchor" href="#annotation-extensions-reference"></a>2. Annotation Extensions Reference</h2>
<div class="sectionbody">
<div id="TLJPA54053" class="paragraph">
<p>This chapter includes information on the EclipseLink extensions to the
Jakarta Persistence API (JPA) annotations. EclipseLink supports the
Jakarta Persistence API (JPA) 2.0 specification. It also includes many
enhancements and extensions.</p>
</div>
<div class="paragraph">
<p>This chapter includes the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACGDIBI">Functional Listing of Annotation Extensions</a></p>
</li>
<li>
<p><a href="#CACBGBJG">Alphabetical Listing of Annotation Extensions</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACGDIBI"></a><a id="TLJPA307"></a></p>
</div>
<div class="sect2">
<h3 id="functional-listing-of-annotation-extensions"><a class="anchor" href="#functional-listing-of-annotation-extensions"></a>Functional Listing of Annotation Extensions</h3>
<div class="paragraph">
<p>The following lists the EclipseLink annotation extensions, categorized
by function:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACFGAIC">Mapping Annotations</a></p>
</li>
<li>
<p><a href="#CACGCEIJ">Entity Annotations</a></p>
</li>
<li>
<p><a href="#CACDIEID">Converter Annotations</a></p>
</li>
<li>
<p><a href="#CACGIACB">Caching Annotations</a></p>
</li>
<li>
<p><a href="#CACJHFEC">Customization and Optimization Annotations</a></p>
</li>
<li>
<p><a href="#CACDCCEG">Copy Policy Annotations</a></p>
</li>
<li>
<p><a href="#CACGFGED">Returning Policy Annotations</a></p>
</li>
<li>
<p><a href="#CACCBFFE">Stored Procedure and Function Annotations</a></p>
</li>
<li>
<p><a href="#CACHIHIB">Partitioning Annotations</a></p>
</li>
<li>
<p><a href="#CACDIHJI">Non-relational (NoSQL) Annotations</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACFGAIC"></a><a id="TLJPA308"></a></p>
</div>
<div class="sect3">
<h4 id="mapping-annotations"><a class="anchor" href="#mapping-annotations"></a>Mapping Annotations</h4>
<div class="paragraph">
<p>EclipseLink includes the following annotation extensions for mappings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDDDDAI">@PrivateOwned</a></p>
</li>
<li>
<p><a href="#CEGFFHHA">@JoinFetch</a></p>
</li>
<li>
<p><a href="#CHDIFIJF">@Mutable</a></p>
</li>
<li>
<p><a href="#BGBCHEDG">@Property</a></p>
</li>
<li>
<p><a href="#BABCJGIG">@Transformation</a></p>
</li>
<li>
<p><a href="#CHDGHHBA">@ReadTransformer</a></p>
</li>
<li>
<p><a href="#BGBGGAEA">@WriteTransformer</a></p>
</li>
<li>
<p><a href="#BCFCCEJF">@WriteTransformers</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACGCEIJ"></a><a id="TLJPA309"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="entity-annotations"><a class="anchor" href="#entity-annotations"></a>Entity Annotations</h4>
<div class="paragraph">
<p>EclipseLink includes the following annotation extensions for entities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#additionalcriteria">@AdditionalCriteria</a></p>
</li>
<li>
<p><a href="#BEICFBDD">@ExcludeDefaultMappings</a></p>
</li>
<li>
<p><a href="#BABIEJGD">@Multitenant</a></p>
</li>
<li>
<p><a href="#BCGIACHD">@OptimisticLocking</a></p>
</li>
<li>
<p><a href="#BGBGEFBD">@ReadOnly</a></p>
</li>
<li>
<p><a href="#CACDCCIA">@SerializedObject</a></p>
</li>
<li>
<p><a href="#CECBEBEA">@TenantDiscriminatorColumns</a></p>
</li>
<li>
<p><a href="#CHECIDGH">@TenantDiscriminatorColumn</a></p>
</li>
<li>
<p><a href="#CHDFJJEC">@TenantTableDiscriminator</a></p>
</li>
<li>
<p><a href="#CBBDCAHG">@Struct</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACDIEID"></a><a id="TLJPA310"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="converter-annotations"><a class="anchor" href="#converter-annotations"></a>Converter Annotations</h4>
<div class="paragraph">
<p>EclipseLink includes the following annotation extensions for converting
data:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BEHGJHCD">@Convert</a></p>
</li>
<li>
<p><a href="#CHDEHJEB">@Converter</a></p>
</li>
<li>
<p><a href="#CIHEBAFB">@Converters</a></p>
</li>
<li>
<p><a href="#CHDHCCJF">@TypeConverter</a></p>
</li>
<li>
<p><a href="#BCFBEIAE">@TypeConverters</a></p>
</li>
<li>
<p><a href="#BGBBDGAI">@ObjectTypeConverter</a></p>
</li>
<li>
<p><a href="#CHDCHJHF">@ObjectTypeConverters</a></p>
</li>
<li>
<p><a href="#BGBJEBBB">@StructConverter</a></p>
</li>
<li>
<p><a href="#CHDCJCDE">@StructConverters</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACGIACB"></a><a id="TLJPA311"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="caching-annotations"><a class="anchor" href="#caching-annotations"></a>Caching Annotations</h4>
<div class="paragraph">
<p>EclipseLink includes the following annotation extensions for caching:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDBBIHE">@Cache</a></p>
</li>
<li>
<p><a href="#CEGFEJCH">@CacheIndex</a></p>
</li>
<li>
<p><a href="#BABIJDDB">@CacheIndexes</a></p>
</li>
<li>
<p><a href="#BABJGDGB">@CacheInterceptor</a></p>
</li>
<li>
<p><a href="#BGBGACHC">@TimeOfDay</a></p>
</li>
<li>
<p><a href="#BABICJEJ">@ExistenceChecking</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACJHFEC"></a><a id="TLJPA312"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="customization-and-optimization-annotations"><a class="anchor" href="#customization-and-optimization-annotations"></a>Customization and Optimization Annotations</h4>
<div class="paragraph">
<p>EclipseLink includes the following annotation extensions for
customization and optimization.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDCCDGC">@Customizer</a></p>
</li>
<li>
<p><a href="#CEGCCCCJ">@ChangeTracking</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACDCCEG"></a><a id="TLJPA313"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="copy-policy-annotations"><a class="anchor" href="#copy-policy-annotations"></a>Copy Policy Annotations</h4>
<div class="paragraph">
<p>EclipseLink includes the following annotation extensions for copy
policies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CDDJGFHA">@CloneCopyPolicy</a></p>
</li>
<li>
<p><a href="#BGBDGCDJ">@CopyPolicy</a></p>
</li>
<li>
<p><a href="#CHDCJEIG">@InstantiationCopyPolicy</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACGFGED"></a><a id="TLJPA314"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="returning-policy-annotations"><a class="anchor" href="#returning-policy-annotations"></a>Returning Policy Annotations</h4>
<div class="paragraph">
<p>EclipseLink includes the following annotation extensions for returning
policies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CIHHEGJE">@ReturnInsert</a></p>
</li>
<li>
<p><a href="#CACHDFCF">@ReturnUpdate</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACCBFFE"></a><a id="TLJPA315"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="stored-procedure-and-function-annotations"><a class="anchor" href="#stored-procedure-and-function-annotations"></a>Stored Procedure and Function Annotations</h4>
<div class="paragraph">
<p>EclipseLink includes the following annotation extensions for stored
procedures and stored functions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBDHGJE">@NamedPLSQLStoredFunctionQueries</a></p>
</li>
<li>
<p><a href="#CHDIAEFF">@NamedPLSQLStoredFunctionQuery</a></p>
</li>
<li>
<p><a href="#BABJCEJH3">@NamedPLSQLStoredProcedureQueries</a></p>
</li>
<li>
<p><a href="#BGBDHGJE2">@NamedPLSQLStoredProcedureQuery</a></p>
</li>
<li>
<p><a href="#CIHJFFDI">@NamedStoredFunctionQueries</a></p>
</li>
<li>
<p><a href="#BABFBIFE">@NamedStoredFunctionQuery</a></p>
</li>
<li>
<p><a href="#BABJCEJH">@NamedStoredProcedureQueries</a></p>
</li>
<li>
<p><a href="#BGBGAEFF">@NamedStoredProcedureQuery</a></p>
</li>
<li>
<p><a href="#CACGHFJB">@OracleArray</a></p>
</li>
<li>
<p><a href="#CACCIBAB">@OracleArrays</a></p>
</li>
<li>
<p><a href="#CACEBEGE">@OracleObject</a></p>
</li>
<li>
<p><a href="#CACFFCEE">@OracleObjects</a></p>
</li>
<li>
<p><a href="#CHDDEBEC">@PLSQLParameter</a></p>
</li>
<li>
<p><a href="#CHDBGAED">@PLSQLRecord</a></p>
</li>
<li>
<p><a href="#CHDBGAED4">@PLSQLRecords</a></p>
</li>
<li>
<p><a href="#CACJBHHF">@PLSQLTable</a></p>
</li>
<li>
<p><a href="#CACCBFBC">@PLSQLTables</a></p>
</li>
<li>
<p><a href="#CHDDEBEC6">@StoredProcedureParameter</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACHIHIB"></a><a id="TLJPA316"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="partitioning-annotations"><a class="anchor" href="#partitioning-annotations"></a>Partitioning Annotations</h4>
<div class="paragraph">
<p>EclipseLink includes the following annotation extensions for using
partitions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CEGBDBEG">@HashPartitioning</a></p>
</li>
<li>
<p><a href="#CHDDAHEB">@Partitioned</a></p>
</li>
<li>
<p><a href="#CEGDCFDA">@Partitioning</a></p>
</li>
<li>
<p><a href="#BCGIIAFB">@PinnedPartitioning</a></p>
</li>
<li>
<p><a href="#BABCFDAJ">@RangePartition</a></p>
</li>
<li>
<p><a href="#BCGCGEIH">@RangePartitioning</a></p>
</li>
<li>
<p><a href="#BABJEFJH">@ReplicationPartitioning</a></p>
</li>
<li>
<p><a href="#BCGBJGFF">@RoundRobinPartitioning</a></p>
</li>
<li>
<p><a href="#BCGEJFAH">@UnionPartitioning</a></p>
</li>
<li>
<p><a href="#CEGHFJDJ">@ValuePartitioning</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACDIHJI"></a><a id="TLJPA54001"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="non-relational-nosql-annotations"><a class="anchor" href="#non-relational-nosql-annotations"></a>Non-relational (NoSQL) Annotations</h4>
<div class="paragraph">
<p>EclipseLink includes the following annotation extensions for
non-relational datasources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CBHHCHAC">@Field</a></p>
</li>
<li>
<p><a href="#CIHCAFEI">@JoinField</a></p>
</li>
<li>
<p><a href="#BEIFHJJE">@JoinFields</a></p>
</li>
<li>
<p><a href="#BJEIEBHC">@NoSql</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACBGBJG"></a><a id="TLJPA317"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="alphabetical-listing-of-annotation-extensions"><a class="anchor" href="#alphabetical-listing-of-annotation-extensions"></a>Alphabetical Listing of Annotation Extensions</h3>
<div class="paragraph">
<p>The following lists the EclipseLink annotation extensions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#additionalcriteria">@AdditionalCriteria</a></p>
</li>
<li>
<p><a href="#CHDDDFDA">@Array</a></p>
</li>
<li>
<p><a href="#CHDCCIDA">@BatchFetch</a></p>
</li>
<li>
<p><a href="#CHDBBIHE">@Cache</a></p>
</li>
<li>
<p><a href="#CEGFEJCH">@CacheIndex</a></p>
</li>
<li>
<p><a href="#BABIJDDB">@CacheIndexes</a></p>
</li>
<li>
<p><a href="#BABJGDGB">@CacheInterceptor</a></p>
</li>
<li>
<p><a href="#CIABIIEB">@CascadeOnDelete</a></p>
</li>
<li>
<p><a href="#CEGCCCCJ">@ChangeTracking</a></p>
</li>
<li>
<p><a href="#BGBHAADB">@ClassExtractor</a></p>
</li>
<li>
<p><a href="#CDDJGFHA">@CloneCopyPolicy</a></p>
</li>
<li>
<p><a href="#BGBHHCJH">@CompositeMember</a></p>
</li>
<li>
<p><a href="#CBBJAJCH">@ConversionValue</a></p>
</li>
<li>
<p><a href="#BEHGJHCD">@Convert</a></p>
</li>
<li>
<p><a href="#CHDEHJEB">@Converter</a></p>
</li>
<li>
<p><a href="#CIHEBAFB">@Converters</a></p>
</li>
<li>
<p><a href="#BGBDGCDJ">@CopyPolicy</a></p>
</li>
<li>
<p><a href="#CHDCCDGC">@Customizer</a></p>
</li>
<li>
<p><a href="#BABDDGFG">@DeleteAll</a></p>
</li>
<li>
<p><a href="#CIHGDDED">@DiscriminatorClass</a></p>
</li>
<li>
<p><a href="#BEICFBDD">@ExcludeDefaultMappings</a></p>
</li>
<li>
<p><a href="#BABICJEJ">@ExistenceChecking</a></p>
</li>
<li>
<p><a href="#BABCHIGE">@FetchAttribute</a></p>
</li>
<li>
<p><a href="#BABJBDEG">@FetchGroup</a></p>
</li>
<li>
<p><a href="#CHDIEBGG">@FetchGroups</a></p>
</li>
<li>
<p><a href="#CBHHCHAC">@Field</a></p>
</li>
<li>
<p><a href="#CEGBDBEG">@HashPartitioning</a></p>
</li>
<li>
<p><a href="#BABGIFEC">@Index</a></p>
</li>
<li>
<p><a href="#CHDHGAIE">@Indexes</a></p>
</li>
<li>
<p><a href="#CHDCJEIG">@InstantiationCopyPolicy</a></p>
</li>
<li>
<p><a href="#CEGFFHHA">@JoinFetch</a></p>
</li>
<li>
<p><a href="#CIHCAFEI">@JoinField</a></p>
</li>
<li>
<p><a href="#BEIFHJJE">@JoinFields</a></p>
</li>
<li>
<p><a href="#BEHBBCDB">@MapKeyConvert</a></p>
</li>
<li>
<p><a href="#BABIEJGD">@Multitenant</a></p>
</li>
<li>
<p><a href="#CHDIFIJF">@Mutable</a></p>
</li>
<li>
<p><a href="#BGBDHGJE">@NamedPLSQLStoredFunctionQueries</a></p>
</li>
<li>
<p><a href="#BGBDHGJE2">@NamedPLSQLStoredProcedureQuery</a></p>
</li>
<li>
<p><a href="#CIHJFFDI">@NamedStoredFunctionQueries</a></p>
</li>
<li>
<p><a href="#BABFBIFE">@NamedStoredFunctionQuery</a></p>
</li>
<li>
<p><a href="#BABJCEJH">@NamedStoredProcedureQueries</a></p>
</li>
<li>
<p><a href="#BGBGAEFF">@NamedStoredProcedureQuery</a></p>
</li>
<li>
<p><a href="#CHDGEFGD">@Noncacheable</a></p>
</li>
<li>
<p><a href="#BJEIEBHC">@NoSql</a></p>
</li>
<li>
<p><a href="#BGBBDGAI">@ObjectTypeConverter</a></p>
</li>
<li>
<p><a href="#CHDCHJHF">@ObjectTypeConverters</a></p>
</li>
<li>
<p><a href="#BCGIACHD">@OptimisticLocking</a></p>
</li>
<li>
<p><a href="#CACGHFJB">@OracleArray</a></p>
</li>
<li>
<p><a href="#CACCIBAB">@OracleArrays</a></p>
</li>
<li>
<p><a href="#CACEBEGE">@OracleObject</a></p>
</li>
<li>
<p><a href="#CACFFCEE">@OracleObjects</a></p>
</li>
<li>
<p><a href="#CHDDIBJF">@OrderCorrection</a></p>
</li>
<li>
<p><a href="#CHDDAHEB">@Partitioned</a></p>
</li>
<li>
<p><a href="#CEGDCFDA">@Partitioning</a></p>
</li>
<li>
<p><a href="#BCGIIAFB">@PinnedPartitioning</a></p>
</li>
<li>
<p><a href="#CHDDEBEC">@PLSQLParameter</a></p>
</li>
<li>
<p><a href="#CHDBGAED">@PLSQLRecord</a></p>
</li>
<li>
<p><a href="#CHDBGAED4">@PLSQLRecords</a></p>
</li>
<li>
<p><a href="#CACJBHHF">@PLSQLTable</a></p>
</li>
<li>
<p><a href="#CACCBFBC">@PLSQLTables</a></p>
</li>
<li>
<p><a href="#BGEBBFJE">@PrimaryKey</a></p>
</li>
<li>
<p><a href="#CHDDDDAI">@PrivateOwned</a></p>
</li>
<li>
<p><a href="#BABJHAFD">@Properties</a></p>
</li>
<li>
<p><a href="#BGBCHEDG">@Property</a></p>
</li>
<li>
<p><a href="#CIHCGHGA">@QueryRedirectors</a></p>
</li>
<li>
<p><a href="#BABCFDAJ">@RangePartition</a></p>
</li>
<li>
<p><a href="#BCGCGEIH">@RangePartitioning</a></p>
</li>
<li>
<p><a href="#BGBGEFBD">@ReadOnly</a></p>
</li>
<li>
<p><a href="#CHDGHHBA">@ReadTransformer</a></p>
</li>
<li>
<p><a href="#BABJEFJH">@ReplicationPartitioning</a></p>
</li>
<li>
<p><a href="#CIHHEGJE">@ReturnInsert</a></p>
</li>
<li>
<p><a href="#CACHDFCF">@ReturnUpdate</a></p>
</li>
<li>
<p><a href="#BCGBJGFF">@RoundRobinPartitioning</a></p>
</li>
<li>
<p><a href="#CACDCCIA">@SerializedObject</a></p>
</li>
<li>
<p><a href="#CHDDEBEC6">@StoredProcedureParameter</a></p>
</li>
<li>
<p><a href="#CBBDCAHG">@Struct</a></p>
</li>
<li>
<p><a href="#BGBJEBBB">@StructConverter</a></p>
</li>
<li>
<p><a href="#CHDCJCDE">@StructConverters</a></p>
</li>
<li>
<p><a href="#CACIJAFA">@Structure</a></p>
</li>
<li>
<p><a href="#CECBEBEA">@TenantDiscriminatorColumns</a></p>
</li>
<li>
<p><a href="#CHECIDGH">@TenantDiscriminatorColumn</a></p>
</li>
<li>
<p><a href="#CHDFJJEC">@TenantTableDiscriminator</a></p>
</li>
<li>
<p><a href="#BGBGACHC">@TimeOfDay</a></p>
</li>
<li>
<p><a href="#BABCJGIG">@Transformation</a></p>
</li>
<li>
<p><a href="#CHDHCCJF">@TypeConverter</a></p>
</li>
<li>
<p><a href="#BCFBEIAE">@TypeConverters</a></p>
</li>
<li>
<p><a href="#CJHFCGEJ">@ValuePartition</a></p>
</li>
<li>
<p><a href="#CEGHFJDJ">@ValuePartitioning</a></p>
</li>
<li>
<p><a href="#CFAFIIFC">@UuidGenerator</a></p>
</li>
<li>
<p><a href="#BCGEJFAH">@UnionPartitioning</a></p>
</li>
<li>
<p><a href="#CHDDFDGF">@VariableOneToOne</a></p>
</li>
<li>
<p><a href="#CIHFBCFI">@VirtualAccessMethods</a></p>
</li>
<li>
<p><a href="#BGBGGAEA">@WriteTransformer</a></p>
</li>
<li>
<p><a href="#BCFCCEJF">@WriteTransformers</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="additionalcriteria"></a><a id="TLJPA318"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="additionalcriteria-2"><a class="anchor" href="#additionalcriteria-2"></a>@AdditionalCriteria</h3>
<div class="paragraph">
<p>Use <code>@AdditionalCriteria</code> to define parameterized views on data.</p>
</div>
<div class="paragraph">
<p>You can define additional criteria on entities or mapped superclass.
When specified at the mapped superclass level, the additional criteria
definition applies to all inheriting entities, unless those entities
define their own additional criteria, in which case those defined for
the mapped superclass are ignored.</p>
</div>
<div id="sthref9" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGJGDCxx">Table 2-1</a> describes this annotation&#8217;s elements.
<a id="TLJPA319"></a><a id="sthref10"></a><a id="CHDGJGDCxx"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-1 @AdditionalCriteria Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Attribute</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The JPQL fragment to use as the additional criteria</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref11" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Additional criteria can provide an additional filtering mechanism for
queries. This filtering option, for example, allows you to use an
existing additional <code>JOIN</code> expression defined for the entity or mapped
superclass and allows you to pass parameters to it.</p>
</div>
<div class="paragraph">
<p>Set additional criteria parameters through properties on the entity
manager factory or on the entity manager. Properties set on the entity
manager override identically named properties set on the entity manager
factory. Properties must be set on an entity manager before executing a
query. Do not change the properties for the lifespan of the entity
manager.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Additional criteria are not supported with native SQL queries.
</td>
</tr>
</table>
</div>
<div id="sthref12" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>Specify additional criteria using the <code>@AdditionalCriteria</code> annotation
or the <code>&lt;additional-criteria&gt;</code> element. The additional criteria
definition supports any valid JPQL string and must use <code>this</code> as an
alias to form the additional criteria. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@AdditionalCriteria("this.address.city IS NOT NULL")</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CFHFACAI">Example 2-1</a> shows additional criteria defined for the
entity <code>Employee</code> and then shows the parameters for the additional
criteria set on the entity manager.</p>
</div>
<div class="paragraph">
<p><a id="CFHFACAI"></a><a id="TLJPA320"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-1 Using @AdditionalCriteria Annotation</em></strong></p>
</div>
<div class="paragraph">
<p>Define additional criteria on <code>Employee</code>, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">package model;

@AdditionalCriteria("this.company=:COMPANY")
public class Employee {

  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Set the property on the <code>EntityManager</code>. This example returns all
employees of <code>MyCompany</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">entityManager.setProperty("COMPANY", "MyCompany");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CFHHBDFE">Example 2-2</a> illustrates the same example as before, but
uses the <code>&lt;additional-criteria&gt;</code> element in the <code>eclipselink-orm.xml</code>
mapping file.</p>
</div>
<div class="paragraph">
<p><a id="CFHHBDFE"></a><a id="TLJPA321"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-2 Using &lt;additional-criteria&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;additional-criteria&gt;
  &lt;criteria&gt;this.address.city IS NOT NULL&lt;/criteria&gt;
&lt;/additional-criteria&gt;</code></pre>
</div>
</div>
<div id="TLJPA322" class="paragraph">
<p><strong>Uses for Additional Criteria</strong></p>
</div>
<div class="paragraph">
<p>Uses for additional criteria include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDIFCDI">Multitenancy</a></p>
</li>
<li>
<p><a href="#CHDJGCJG">Soft Delete</a></p>
</li>
<li>
<p><a href="#CHDFJFFA">Data History</a></p>
</li>
<li>
<p><a href="#CHDEGFBA">Temporal Filtering</a></p>
</li>
<li>
<p><a href="#CHDBGJHD">Shared Table</a></p>
</li>
</ul>
</div>
<div id="CHDIFCDI" class="paragraph">
<p><strong>Multitenancy</strong></p>
</div>
<div class="paragraph">
<p>In a multitenancy environment, tenants (users, clients, organizations,
applications) can share database tables, but the views on the data are
restricted so that tenants have access only to their own data. You can
use additional criteria to configure such restrictions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In most cases, you use the <code>@Multitenant</code> annotation in multitenancy
environments instead, as shown.
</td>
</tr>
</table>
</div>
<div id="TLJPA54054" class="paragraph">
<p><strong><em>Example 2-3 Multitenancy Example 1</em></strong></p>
</div>
<div class="paragraph">
<p>The following example restricts the data for a <strong>Billing</strong> client, such as
a billing application or billing organization:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@AdditionalCriteria("this.tenant = 'Billing'")</code></pre>
</div>
</div>
<div id="TLJPA54055" class="paragraph">
<p><strong><em>Example 2-4 Multitenancy Example 2</em></strong></p>
</div>
<div class="paragraph">
<p>The following example could be used in an application used by multiple
tenants at the same time. The additional criteria is defined as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@AdditionalCriteria("this.tenant = :tenant")</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the tenant acquires its <code>EntityManagerFactory</code> or <code>EntityManager</code>,
the persistence/entity manager property tenant is set to the name of the
tenant acquiring it. For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">Map properties = new HashMap();
properties.put("tenant", "ACME");
EntityManagerFactory emf = Persistence.createEntityManagerFactory(properties);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">Map properties = new HashMap();
properties.put("tenant", "ACME");
EntityManager em = factory.createEntityManager(properties);</code></pre>
</div>
</div>
<div id="CHDJGCJG" class="paragraph">
<p><strong>Soft Delete</strong></p>
</div>
<div class="paragraph">
<p>The following example filters data that is marked as deleted (but which
still exists in the table) from a query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@AdditionalCriteria("this.isDeleted = false")</code></pre>
</div>
</div>
<div id="CHDFJFFA" class="paragraph">
<p><strong>Data History</strong></p>
</div>
<div class="paragraph">
<p>The following example returns the current data from a query, thus
filtering out any out-of-date data, for example data stored in a history
table.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@AdditionalCriteria("this.endDate is null")</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
EclipseLink also provides specific history support, via <code>HistoryPolicy</code>
. See Tracking Changes Using History Policy at
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/History" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/History</a></code>.
</td>
</tr>
</table>
</div>
<div id="CHDEGFBA" class="paragraph">
<p><strong>Temporal Filtering</strong></p>
</div>
<div class="paragraph">
<p>The following example filters on a specific date:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@AdditionalCriteria("this.startDate &lt;= :viewDate and this.endDate &gt;= :viewDate")</code></pre>
</div>
</div>
<div id="CHDBGJHD" class="paragraph">
<p><strong>Shared Table</strong></p>
</div>
<div class="paragraph">
<p>For a shared table, there may be inheritance in the table but not in the
object model. For example, a <code>SavingsAccount</code> class may be mapped to an
<code>ACCOUNT</code> table, but the <code>ACCOUNT</code> table contains both savings account
data (<code>SAVINGS</code>) and checking account (<code>CHECKING</code>) data. You can use
additional criteria to filter out the checking account data.</p>
</div>
<div id="sthref15" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="jpql.html#column">"COLUMN"</a></p>
</li>
<li>
<p><a href="#BABIEJGD">"@Multitenant"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDDDFDA"></a><a id="TLJPA325"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="array"><a class="anchor" href="#array"></a>@Array</h3>
<div class="paragraph">
<p>Use <code>@Array</code> to define object-relational data types supported by
specific databases, such as Oracle <code>VARRAY</code> types or PostgreSQL JDBC
<code>Array</code> types.</p>
</div>
<div id="sthref16" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBABBAJF">Table 2-2</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA326"></a><a id="sthref17"></a><a id="CBABBAJF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-2 @Array Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>databaseType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the database array structure
type</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>targetClass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional only if the collection field or property is
defined using Java generics; otherwise Required) The class (basic or
embeddable) that is the element type of the collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameterized
type of the collection.</p></td>
</tr>
</tbody>
</table>
<div id="sthref18" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use <code>@Array</code> on a collection attribute that is persisted to an <code>Array</code>
type. The collection can be of basic types or embeddable class mapped
using a <code>Struct</code>.</p>
</div>
<div id="sthref19" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBABHEHD">Example 2-5</a> shows how to use this annotation with an
Oracle <code>VARRAY</code> type.</p>
</div>
<div class="paragraph">
<p><a id="CBABHEHD"></a><a id="TLJPA327"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-5 Using @Array with Oracle VARRAY</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">VARRAY DDL:
CREATE TYPE TASKS_TYPE AS VARRAY(10) OF VARCHAR(100)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Struct
@Entity
public class Employee {
    @Id
    private long id;
    @Array(databaseType="TASKS_TYPE")
    private List&lt;String&gt; tasks;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CBACGBDA">Example 2-6</a> shows how to use this annotation with an
PostgreSQL <code>Struct</code> type.</p>
</div>
<div class="paragraph">
<p><a id="CBACGBDA"></a><a id="TLJPA328"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-6 Using @Array with PostgreSQL Struct</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">DDL:
CREATE TABLE EMPLOYEE (ID BIGINT, TASKS TEXT[])</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Struct
@Entity
public class Employee {
    @Id
    private long id;
    @Array(databaseType="TEXT")
    private List&lt;String&gt; tasks;
}</code></pre>
</div>
</div>
<div id="sthref20" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CBBDCAHG">"@Struct"</a></p>
</li>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
<li>
<p><em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDCCIDA"></a><a id="TLJPA329"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="batchfetch"><a class="anchor" href="#batchfetch"></a>@BatchFetch</h3>
<div class="paragraph">
<p>Use <code>@BatchFetch</code> to read objects related to a relationship mapping
(such as <code>@OneToOne</code>, <code>@OneToMany</code>, <code>@ManyToMany</code>, and
<code>@ElementCollection</code>) to be read in a single query.</p>
</div>
<div id="sthref21" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJBJBC">Table 2-3</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA330"></a><a id="sthref22"></a><a id="CHDJBJBC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-3 @BatchFetch Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default size of the batch fetch, used only when
<code>BatchFetchType</code>=<code>IN</code> to define the number of keys in each <code>IN</code> clause</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>256</code> or the query&#8217;s <code>pageSize</code> (for cursor queries)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BatchFetchType</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The type of batch fetch to use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>JOIN</code> – The original query&#8217;s selection criteria is joined with the
batch query</p>
</li>
<li>
<p><code>EXISTS</code> – Uses an SQL <code>EXISTS</code> clause and a sub-select in the batch
query instead of a <code>JOIN</code></p>
</li>
<li>
<p><code>IN</code> – Uses an SQL <code>IN</code> clause in the batch query, passing in the
source object IDs.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JOIN</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref23" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Batch fetching allows for the optimal loading of a tree. Setting the
<code>@BatchFetch</code> annotation on a <em>child</em> relationship of a tree structure
causes EclipseLink to use a <em>single</em> SQL statement for each level. For
example, consider an object with an <code>EMPLOYEE</code> and <code>PHONE</code> table in
which <code>PHONE</code> has a foreign key to <code>EMPLOYEE</code>. By default, reading a
list of employees' addresses by default requires <em>n</em> queries, for each
employee&#8217;s address. With batch fetching, you use <em>one query</em> for all the
addresses.</p>
</div>
<div class="paragraph">
<p>Using <code>BatchFetchType=EXISTS</code> does not require an SQL <code>DISTINCT</code>
statement (which may cause issues with LOBs) and may be more efficient
for some types of queries or on specific databases.</p>
</div>
<div class="paragraph">
<p>When using <code>BatchFetchType=IN</code>, EclipseLink selects only objects not
already in the cache. This method may work better with cursors or
pagination, or in situations in which you cannot use a <code>JOIN</code>. On some
databases, this may only work for singleton IDs.</p>
</div>
<div id="sthref24" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>The following examples show how to use this annotation (and XML) with
different batch fetch types.</p>
</div>
<div id="TLJPA331" class="paragraph">
<p><strong><em>Example 2-7 Using JOIN BatchFetch Type</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@OneToOne
@BatchFetch(BatchFetchType.JOIN)
private Address address;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;one-to-one name="address"&gt;
    &lt;batch-fetch type="JOIN" /&gt;
&lt;/one-to-one&gt;</code></pre>
</div>
</div>
<div id="TLJPA332" class="paragraph">
<p><strong><em>Example 2-8 Using EXISTS BatchFetch Type</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@BatchFetch(BatchFetchType.EXISTS)
@OneToOne
public Map&lt;String, String&gt; getStringMap() {
return stringMap;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;one-to-one name="StringMap"&gt;
    &lt;batch-fetch type="EXISTS"/&gt;
&lt;/one-to-one&gt;</code></pre>
</div>
</div>
<div id="TLJPA333" class="paragraph">
<p><strong><em>Example 2-9 Using IN BatchFetch Type</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@BatchFetch(BatchFetchType.IN, size=50)
@OneToOne
public Map&lt;String, String&gt; getStringMap() {
return stringMap;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;one-to-one name="StringMap"&gt;
    &lt;batch-fetch type="IN" size="50" /&gt;
&lt;/one-to-one&gt;</code></pre>
</div>
</div>
<div id="sthref28" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CEGFFHHA">"@JoinFetch"</a></p>
</li>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
<li>
<p><em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDBBIHE"></a><a id="TLJPA334"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache"><a class="anchor" href="#cache"></a>@Cache</h3>
<div class="paragraph">
<p>Use <code>@Cache</code> (in place of the JPA <code>@Cachable</code> annotation) to configure
the EclipseLink object cache. By default, EclipseLink uses a shared
object cache to cache all objects. You can configure the caching type
and options on a per class basis to allow optimal caching.</p>
</div>
<div id="sthref29" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDEJJHDG">Table 2-4</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA335"></a><a id="sthref30"></a><a id="CDEJJHDG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-4 @Cache Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Set this attribute to the type
(<code>org.eclipse.persistence.annotations.CacheType</code> enumerated type) of the
cache that you will be using:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>FULL</code></p>
</li>
<li>
<p><code>WEAK</code></p>
</li>
<li>
<p><code>SOFT</code></p>
</li>
<li>
<p><code>SOFT_WEAK</code></p>
</li>
<li>
<p><code>HARD_WEAK</code></p>
</li>
<li>
<p><code>CACHE</code> (not recommended)</p>
</li>
<li>
<p><code>NONE</code> (not recommended, use <code>isolation=ISOLATED</code> instead)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can override this attribute with these persistence unit properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>eclipselink.cache.type.&lt;`<em>`ENTITY`</em></code>&gt;`</p>
</li>
<li>
<p><code>eclipselink.cache.type.default</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CacheType.SOFT_WEAK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Set this attribute to an int value to define the
size of cache to use (number of objects).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>100</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>isolation</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The caching level of the Entity:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>shared</code> – Entity instances will be cached within the
EntityManagerFactory/ServerSession level</p>
</li>
<li>
<p><code>isolated</code> – The Entity and its data is not stored in the shared
cache, but is isolated to the Persistence Context/UnitOfWork or
IsolatedClientSession</p>
</li>
<li>
<p><code>protected</code> – Entity state information will be cached in the shared
cache, but Entity instances will not be shared</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shared</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>expiry</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The <code>int</code> value to enable the expiration of the
cached instance after a fixed period of time (milliseconds). Queries
executed against the cache after this will be forced back to the
database for a refreshed copy.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no expiry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>expiryTimeOfDay</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specific time of day
(<code>org.eclipse.persistence.annotations.TimeOfDay</code>) when the cached
instance will expire. Queries executed against the cache after this will
be forced back to the database for a refreshed copy.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no expiry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>alwaysRefresh</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Set to a boolean value of true to force all
queries that go to the database to always refresh the cache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>refreshOnlyIfNewer</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Set to a boolean value of <code>true</code> to force all queries that go
to the database to refresh the cache only if the data received from the
database by a query is newer than the data in the cache (as determined
by the optimistic locking field)</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>This option only applies if one of the other refreshing options, such
as <code>alwaysRefresh</code>, is already enabled.</p>
</li>
<li>
<p>A version field is necessary to apply this feature.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>disableHits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Set to a boolean value of true to force all
queries to bypass the cache for hits, but still resolve against the
cache for identity. This forces all queries to hit the database.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>coordinationType</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Set this attribute to the cache coordination mode
(<code>org.eclipse.persistence.annotations.CacheCoordinationType</code> enumerated
type).</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEND_OBJECT_CHANGES</code> – Sends a list of changed objects, including
data about the changes. This data is merged into the receiving cache.</p>
</li>
<li>
<p>I`NVALIDATE_CHANGED_OBJECTS` – Sends a list of the identities of the
objects that have changed. The receiving cache invalidates the objects
(rather than changing any of the data).</p>
</li>
<li>
<p><code>SEND_NEW_OBJECTS_WITH_CHANGES</code> – Same as <code>SEND_OBJECT_CHANGES</code>
excepts it also includes any newly-created objects from the transaction</p>
</li>
<li>
<p><code>NONE</code> – Does not cache coordination</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You must also configure cache coordination in your persistence unit
properties. See <a href="#CACDCCEG2">"Caching"</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SEND_OBJECT_CHANGES</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>databaseChangeNotificationType</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The database change notification mode:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Invalidate – Invalidates the EclipseLink cache when a database change
event is received for an object.</p>
</li>
<li>
<p>None – No database change events will be processed. The database event
listener must also be configured for the persistence unit/session.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INVALIDATE</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref31" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use the <code>@Cache</code> annotation instead of the JPA <code>@Cachable</code> annotation to
provide additional caching configuration.</p>
</div>
<div class="paragraph">
<p>You can define the <code>@Cache</code> annotation on the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@Entity</code></p>
</li>
<li>
<p><code>@MappedSuperclass</code></p>
</li>
<li>
<p>the root of the inheritance hierarchy (if applicable)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you define the <code>@Cache</code> annotation on an inheritance subclass, the
annotation will be ignored. If you define the <code>@Cache</code> annotation on
<code>@Embeddable</code> EclipseLink will throw an exception.</p>
</div>
<div id="TLJPA336" class="paragraph">
<p><strong>Caching in EclipseLink</strong></p>
</div>
<div class="paragraph">
<p>The EclipseLink cache is an in-memory repository that stores recently
read or written objects based on class and primary key values.
EclipseLink uses the cache to do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Improve performance by holding recently read or written objects and
accessing them in-memory to minimize database access.</p>
</li>
<li>
<p>Manage locking and isolation level.</p>
</li>
<li>
<p>Manage object identity.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about the EclipseLink cache and its default
behavior, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Caching examples:</p>
<div class="paragraph">
<p><code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Caching" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Caching</a></code></p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>EclipseLink defines the following entity caching annotations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@Cache</code></p>
</li>
<li>
<p><code>@TimeOfDay</code></p>
</li>
<li>
<p><code>@ExistenceChecking</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EclipseLink also provides a number of persistence unit properties that
you can specify to configure the cache. These properties may compliment
or provide an alternative to the usage of annotations.</p>
</div>
<div class="paragraph">
<p>For more information, see
<a href="#CACDCCEG2">"Caching"</a>.</p>
</div>
<div id="sthref32" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEEGCI">Example 2-10</a> illustrates an <code>@Cache</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDEEGCI"></a><a id="TLJPA337"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-10 Using @Cache Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">...
@Entity
@Cache(
  type=CacheType.SOFT, // Cache everything until the JVM decides memory is low.
  size=64000  // Use 64,000 as the initial cache size.
  expiry=36000000,  // 10 minutes
  coordinationType=CacheCoordinationType.INVALIDATE_CHANGED_OBJECTS  // if cache coordination is used, only send invalidation messages.
)
public class Employee {
  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CDEJDBFJ">Example 2-11</a> shows how to use this annotation in the
<code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CDEJDBFJ"></a><a id="TLJPA338"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-11 Using &lt;cache&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity-mappings
  xmlns="http://www.eclipse.org/eclipselink/xsds/persistence/orm"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.eclipse.org/eclipselink/xsds/persistence/orm
  http://www.eclipse.org/eclipselink/xsds/eclipselink_orm_2_4.xsd"
  version="2.4"&gt;
    &lt;entity name="Employee" class="org.acme.Employee" access="FIELD"&gt;
      &lt;cache type="SOFT" size="64000" expiry="36000000" coordination-type="INVALIDATE_CHANGED_OBJECTS"/&gt;
    &lt;/entity&gt;
&lt;/entity-mappings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also specify caching properties at the persistence unit level
(in the <code>persistence.xml</code> file) as shown here:</p>
</div>
<div class="paragraph">
<p><a id="CACHFEFD"></a><a id="TLJPA339"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-12 Specifying Caching in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/persistence persistence_2_0.xsd"
  version="2.0"&gt;
    &lt;persistence-unit name="acme" transaction-type="RESOURCE_LOCAL"&gt;
      &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;
        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;
        &lt;properties&gt;
          &lt;property name="eclipselink.cache.shared.default" value="false"/&gt;
          &lt;property name="eclipselink.cache.shared.Employee" value="true"/&gt;
          &lt;property name="eclipselink.cache.type.Employee" value="SOFT"/&gt;
          &lt;property name="eclipselink.cache.size.Employee" value="64000"/&gt;
        &lt;/properties&gt;
    &lt;/persistence-unit&gt;
&lt;/persistence&gt;</code></pre>
</div>
</div>
<div id="sthref33" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABICJEJ">"@ExistenceChecking"</a></p>
</li>
<li>
<p><a href="#BGBGACHC">"@TimeOfDay"</a></p>
</li>
<li>
<p><a href="#BABJGDGB">"@CacheInterceptor"</a></p>
</li>
<li>
<p>"Understanding Caching" in the <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Object Caching" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>EclipseLink Caching examples:
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Caching" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Caching</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CEGFEJCH"></a><a id="TLJPA340"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cacheindex"><a class="anchor" href="#cacheindex"></a>@CacheIndex</h3>
<div class="paragraph">
<p>Use <code>@CacheIndex</code> to define a cached index. Cache indexes are used only
when caching is enabled.</p>
</div>
<div id="sthref34" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFJHIC">Table 2-5</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA341"></a><a id="sthref35"></a><a id="BABFJHIC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-5 @CacheIndex Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>columnNames</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The set of columns on which to define the
index. Not required when annotated on a field/method.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>updateable</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Specify if the indexed field is updateable.</p>
</div>
<div class="paragraph">
<p>If <code>true</code>, the object will be re-indexed on each update or refresh.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
<div id="sthref36" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>A cache index allows <code>singleResult</code> queries to obtain a cache hit when
querying on the indexed fields. A <code>resultList</code> query cannot obtain cache
hits, as it is unknown if all of the objects are in memory, (unless the
cache usage query hint is used).</p>
</div>
<div class="paragraph">
<p>The index should be unique. If it is not, the first indexed object will
be returned.</p>
</div>
<div class="paragraph">
<p>You can use <code>@CacheIndex</code> on an Entity class or on an attribute. The
column is defaulted when defined on a attribute.</p>
</div>
<div id="sthref37" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEECHH">Example 2-13</a> shows an example of using the <code>@CacheIndex</code>
annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABEECHH"></a><a id="TLJPA342"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-13 Using @CacheIndex Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@CacheIndex(columnNames={"F_NAME", "L_NAME"}, updateable=true)
public class Employee {
  @Id
  private long id;
  @CacheIndex
  private String ssn;
  @Column(name="F_NAME")
  private String firstName;
  @Column(name="L_NAME")
  private String lastName;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABIHBCC">Example 2-14</a> shows an example of using the
<code>&lt;cache-index&gt;</code> XML element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABIHBCC"></a><a id="TLJPA343"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-14 Using &lt;cache-index&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;?xml version="1.0"?&gt;
&lt;entity-mappings
  xmlns="http://www.eclipse.org/eclipselink/xsds/persistence/orm"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.eclipse.org/eclipselink/xsds/persistence/orm http://www.eclipse.org/eclipselink/xsds/eclipselink_orm_2_4.xsd"
  version="2.4"&gt;
    &lt;entity name="Employee" class="org.acme.Employee" access="FIELD"&gt;
        &lt;cache-index updateable="true"&gt;
            &lt;column-name&gt;F_NAME&lt;/column-name&gt;
            &lt;column-name&gt;L_NAME&lt;/column-name&gt;
        &lt;/cache-index&gt;
        &lt;attributes&gt;
            &lt;id name="id"/&gt;
            &lt;basic name="ssn"&gt;
                &lt;cache-index/&gt;
            &lt;/basic&gt;
            &lt;basic name="firstName"&gt;
                &lt;column name="F_NAME"/&gt;
            &lt;/basic&gt;
            &lt;basic name="lastName"&gt;
                &lt;column name="L_NAME"/&gt;
            &lt;/basic&gt;
        &lt;/attributes&gt;
    &lt;/entity&gt;
&lt;/entity-mappings&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABBIAGH">Example 2-15</a> shows an example query using a cache index.</p>
</div>
<div class="paragraph">
<p><a id="BABBIAGH"></a><a id="TLJPA344"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-15 Caching an Index Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">Query query = em.createQuery("Select e from Employee e where e.firstName = :firstName and e.lastName = :lastName");
query.setParameter("firstName", "Bob");
query.setParameter("lastName", "Smith");
Employee employee = (Employee)query.getSingleResult();</code></pre>
</div>
</div>
<div id="sthref38" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDBBIHE">"@Cache"</a></p>
</li>
<li>
<p>"About Cache Indexes" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABIJDDB"></a><a id="TLJPA345"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cacheindexes"><a class="anchor" href="#cacheindexes"></a>@CacheIndexes</h3>
<div class="paragraph">
<p>Use <code>@CacheIndexes</code> to define a set of <code>@CacheIndex</code> on an entity.</p>
</div>
<div id="sthref39" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHJDAHF">Table 2-6</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA346"></a><a id="sthref40"></a><a id="CIHJDAHF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-6 @CacheIndexes Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CacheIndex[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of cache indexes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref41" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CEGFEJCH">"@CacheIndex"</a> for examples of using the
<code>@CacheIndexes</code> annotation.</p>
</div>
<div id="sthref42" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CEGFEJCH">"@CacheIndex"</a></p>
</li>
<li>
<p>"About Cache Indexes" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABJGDGB"></a><a id="TLJPA347"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cacheinterceptor"><a class="anchor" href="#cacheinterceptor"></a>@CacheInterceptor</h3>
<div class="paragraph">
<p>Use <code>@CacheInterceptor</code> on an entity to intercept all EclipseLink cache
access to the entity instead of responding to cache operations through
an event.</p>
</div>
<div id="sthref43" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBBHFBF">Table 2-7</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA348"></a><a id="sthref44"></a><a id="BGBBHFBF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-7 @CacheInterceptor Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The class to be used to intercept EclipseLink&#8217;s cache access</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref45" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Once set, the specified class will receive all caching calls. Existing
EclipseLink cache settings will continue to be used, any calls allowed
to continue to the EclipseLink cache will execute against the configured
cache.</p>
</div>
<div class="paragraph">
<p>When using with an entity in inheritance, you should define the
<code>@CacheInterceptor</code> on the <em>root</em> of the inheritance hierarchy.</p>
</div>
<div id="sthref46" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBGHHFI">Example 2-16</a> shows how to integrate an external cache
with EclipseLink.</p>
</div>
<div class="paragraph">
<p><a id="BGBGHHFI"></a><a id="TLJPA349"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-16 Using @CacheInterceptor Annotation</em></strong></p>
</div>
<div class="paragraph">
<p>In this example, the <code>Employee</code> class intercepts all EclipseLink calls
to the internal EclipseLink cache and redirects them to the Oracle
Coherence Grid cache (<code>CoherenceInterceptor</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import oracle.eclipselink.coherence.integrated.cache.CoherenceInterceptor;
import org.eclipse.persistence.annotations.Customizer;

@Entity
@CacheInterceptor(value = CoherenceInterceptor.class)
public class Employee {
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BGBEBHDH">Example 2-17</a> shows an example of using the
<code>&lt;cache-interceptor&gt;</code> XML element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BGBEBHDH"></a><a id="TLJPA350"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-17 Using &lt;cache-interceptor&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="Employee"&gt;
    &lt;cache-interceptor class="CoherenceInterceptor"/&gt;
...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref47" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
<li>
<p><em>Oracle Coherence Integration Guide for EclipseLink with Coherence
Grid</em></p>
</li>
<li>
<p><a href="#CHDBBIHE">"@Cache"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CIABIIEB"></a><a id="TLJPA351"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cascadeondelete"><a class="anchor" href="#cascadeondelete"></a>@CascadeOnDelete</h3>
<div class="paragraph">
<p>Use the <code>@CascadeOnDelete</code> annotation to specify that a delete operation
performed on a database object is cascaded on secondary or related
tables.</p>
</div>
<div class="paragraph">
<p><code>ON DELETE CASCADE</code> is a database foreign key constraint option that
automatically removes the dependent rows.</p>
</div>
<div id="sthref48" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p>There are no elements for this annotation.</p>
</div>
<div id="sthref49" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can place <code>@CascadeOnDelete</code> on any relationship in which the target
is defined as foreign key to the source Entity.</p>
</div>
<div class="paragraph">
<p>Add the annotation on the source relationship: <code>@OneToOne</code>,
<code>@OneToMany</code>, <code>@ManyToMany</code>, and <code>@ElementCollection</code> You can also add
<code>@CascadeOnDelete</code> to an Entity with a <code>@SecondaryTable</code> or <code>JOINED</code>
inheritance. <a href="#CHDECJGE">Table 2-8</a> describes the affect of placing
<code>@CascadeOnDelete</code> on these different elements</p>
</div>
<div class="paragraph">
<p><a id="TLJPA353"></a><a id="sthref50"></a><a id="CHDECJGE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-8 Using @Cascade on Different Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Effect of @CascadeOnDelete</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines that secondary or joined inheritance tables should
cascade the delete on the database</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OneToOne mapping</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The deletion of the related object is cascaded on the database.</p>
</div>
<div class="paragraph">
<p>This is only allowed for mappedBy/target-foreign key OneToOne mappings
(because of constraint direction).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OneToMany mapping</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For a OneToMany using a <code>mappedBy</code> or <code>JoinColumn</code>, the deletion of the
related objects is cascaded on the database.</p>
</div>
<div class="paragraph">
<p>For a OneToMany using a <code>JoinTable</code>, the deletion of the join table is
cascaded on the database (target objects cannot be cascaded even if
private because of constraint direction).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ManyToMany mapping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The deletion of the join table is cascaded on the
database (target objects cannot be cascaded even if private because of
constraint direction).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ElementCollection mapping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The deletion of the collection table is
cascaded on the database.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><code>@CascadeOnDelete</code> has the following behavior:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DDL generation: If DDL generation is used, the generated constraint
will include the cascade deletion option.</p>
</li>
<li>
<p>Entity: Remove will not execute SQL for deletion from secondary or
joined inheritance tables (as constraint will handle deletion).</p>
</li>
<li>
<p>OneToOne: If the mapping uses cascading or orphanRemoval, SQL will not
be executed to delete target object.</p>
</li>
<li>
<p>OneToMany: If the mapping uses cascading or orphanRemoval, SQL will
not be executed to delete target objects.</p>
</li>
<li>
<p>ManyToMany: SQL will not be executed to delete from the join table.</p>
</li>
<li>
<p>ElementCollection: SQL will not be executed to delete from the
collection table.</p>
</li>
<li>
<p>Cache: Cascaded objects will still be removed from the cache and
persistence context.</p>
</li>
<li>
<p>Version locking: Version will not be verified on deletion of cascaded
object.</p>
</li>
<li>
<p>Events: Deletion events may not be executed on the cascaded objects if
the objects are not loaded.</p>
</li>
<li>
<p>Cascading: The remove operation should still be configured to cascade
in the mapping if using CascadeOnDelete.</p>
</li>
</ul>
</div>
<div id="sthref51" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHCIGF">Example 2-18</a> shows the cascading deletion of the
Employee secondary table and all of its owned relationships.</p>
</div>
<div class="paragraph">
<p><a id="CHDHCIGF"></a><a id="TLJPA354"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-18 Using @CascadeOnDelete Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@SecondaryTable(name="EMP_SALARY")
@CascadeOnDelete
public class Employee{
    @Id
    private long id;
    private String firstName;
    private String lastName;
    @Column(table="EMP_SALARY")
    private String salary;
    @OneToOne(mappedBy="owner", orphanRemoval=true, cascade={CascadeType.ALL})
    @CascadeOnDelete
    private Address address;
    @OneToMany(mappedBy="owner", orphanRemoval=true, cascade={CascadeType.ALL})
    @CascadeOnDelete
    private List&lt;Phone&gt; phones;
    @ManyToMany
    @JoinTable(name="EMP_PROJ")
    @CascadeOnDelete
    private List&lt;Project&gt; projects;
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the <code>eclipselink-orm.xml</code> descriptor file, specify cascade on delete
as shown in <a href="#CHDJIBAJ">Example 2-19</a></p>
</div>
<div class="paragraph">
<p><a id="CHDJIBAJ"></a><a id="TLJPA355"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-19 Using &lt;cascade-on-delete&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">...
&lt;cascade-on-delete&gt;true&lt;/cascade-on-delete&gt;
...</code></pre>
</div>
</div>
<div id="sthref52" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>EclipseLink example:
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/DeleteCascade" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/DeleteCascade</a></code></p>
</li>
<li>
<p>"@CascadeOnDelete"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Schema_Generation/CascadeOnDelete`</p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CEGCCCCJ"></a><a id="TLJPA356"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="changetracking"><a class="anchor" href="#changetracking"></a>@ChangeTracking</h3>
<div class="paragraph">
<p>Use <code>@ChangeTracking</code> to specify the
<code>org.eclipse.persistence.descriptors.changetracking.ObjectChangePolicy</code>.
This policy computes change sets for the EclipseLink commit process and
optimizes the transaction by including objects in the change set
calculation that have at least one changed attribute.</p>
</div>
<div id="sthref53" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCGCIDCD">Table 2-9</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA357"></a><a id="sthref54"></a><a id="BCGCIDCD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-9 @ChangeTracking Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ChangeTrackingType</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The change tracking policy to use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ATTRIBUTE</code> – The object&#8217;s <code>set</code> method is weaved to raise change
events to collect changes as they are made.</p>
<div class="paragraph">
<p>Requires usage of weaving, and LAZY collection relationships, or eager
weaving.</p>
</div>
</li>
<li>
<p><code>OBJECT</code> – The object&#8217;s set method is weaved to mark the object as
<em>dirty</em>. Any dirty objects are compared against a copy of their original
state for changes on commit or flush operations.</p>
<div class="paragraph">
<p>Requires usage of weaving, and LAZY collection relationships, or eager
weaving.</p>
</div>
</li>
<li>
<p><code>DEFERRED</code> – All managed objects are compared against a copy of their
original state for changes on commit or flush.</p>
<div class="paragraph">
<p>Does not require weaving.</p>
</div>
</li>
<li>
<p><code>AUTO</code> – Does not set any change tracking policy; change tracking will
be determined at runtime.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AUTO</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref55" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this annotation to configure an alternative change policy, if the
automatic policy is having issues with your application. Using
<code>@ChangeTracking</code> may improve commit performance for objects with few
attributes or objects with many changed attributes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When using change tracking with <code>ATTRIBUTE</code> or <code>OBJECT</code>, if you modify
an object&#8217;s field through reflection, EclipseLink <em>will not</em> detect the
change. However, if you use <code>DEFERRED</code>, EclipseLink <em>will</em> detect the
change.
</td>
</tr>
</table>
</div>
<div id="sthref56" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCGCHJHG">Example 2-20</a> shows how to use <code>@ChangeTracking</code> to set
the unit of work&#8217;s change policy.</p>
</div>
<div class="paragraph">
<p><a id="BCGCHJHG"></a><a id="TLJPA358"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-20 Using @ChangeTracking Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@ChangeTracking(DEFERRED)
@Entity
public class Employee {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BCGHFGBB">Example 2-21</a> shows how to use the <code>&lt;change-tracking&gt;</code>
element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BCGHFGBB"></a><a id="TLJPA359"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-21 Using &lt;change-tracking&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="Employee"
    &lt;change-tracking type="DEFERRED"/&gt;
...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BCGICDII">Example 2-22</a> shows how to configure change tracking in
the persistence unit <code>persistence.xml</code> file or by importing a <code>property</code>
map.</p>
</div>
<div class="paragraph">
<p><a id="BCGICDII"></a><a id="TLJPA360"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-22 Specifying Change Tracking in persistence.xml</em></strong></p>
</div>
<div class="paragraph">
<p>Using <code>persistence.xml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.weaving.changetracking" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using <code>property</code> map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.WEAVING_CHANGE_TRACKING, "false");</code></pre>
</div>
</div>
<div id="sthref57" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#weaving">"weaving"</a></p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBHAADB"></a><a id="TLJPA361"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="classextractor"><a class="anchor" href="#classextractor"></a>@ClassExtractor</h3>
<div class="paragraph">
<p>Use <code>@ClassExtractor</code> to define a custom class indicator in place of
providing a discriminator column.</p>
</div>
<div id="sthref58" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGCAFI">Table 2-10</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA362"></a><a id="sthref59"></a><a id="BABGCAFI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-10 @ClassExtractor Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.Class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the class extractor to apply
to the entity&#8217;s descriptor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref60" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>If you are mapping to an existing database, and the tables do not have a
discriminator column you can still define inheritance using the
<code>@ClassExtractor</code> annotation or <code>&lt;class-extractor&gt;</code> element. The class
extractor takes a class that implements the <code>ClassExtractor</code> interface.
An instance of this class is used to determine the class type to use for
a database row. The class extractor must define a <code>extractClassFromRow</code>
method that takes the database <code>Record</code> and <code>Session</code>.</p>
</div>
<div class="paragraph">
<p>If a class extractor is used with <code>SINGLE_TABLE</code> inheritance, the rows
of the class type must be able to be filtered in queries. This can be
accomplished by setting an <code>onlyInstancesExpression</code> or
<code>withAllSubclassesExpression</code> for branch classes. These can be set to
<code>Expression</code> objects using a <code>DescriptorCustomizer</code>.</p>
</div>
<div id="sthref61" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBEDADF">Example 2-23</a> shows an example of using <code>ClassExtractor</code>
to define inheritance.</p>
</div>
<div class="paragraph">
<p><a id="BGBEDADF"></a><a id="TLJPA363"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-23 Using @ClassExtractor Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name="MILES_ACCOUNT")
@Inheritance(strategy=InheritanceType.SINGLE_TABLE)
@ClassExtractor(AirMilesClassExtractor.class)
@Customizer(AirMilesCustomizer.class)
public class AirMilesAccount implements Serializable {
    @Id
    private Long id;
    @Basic
    private String totalMiles;
    @Basic
    private String milesBalance;
    ...
}

@Entity
@Customizer(PreferredCustomizer.class)
public class PreferredAccount extends AirMilesAccount {
    ...
}

public class AirMilesClassExtractor implements ClassExtractor {
    public void extractClassFromRow(Record row, Session session) {
        if (row.get("TOTALMILES").lessThan(100000)) {
            return AirMilesAccount.class;
        } else {
            return PreferredAccount.class;
        }
    }
}

public class AirMilesCustomizer implements DescriptorCustomizer {
    public void customize(ClassDescriptor descriptor) {
        ExpressionBuilder account = new ExpressionBuilder();
        Expression expression = account.getField("TOTALMILES").lessThan(100000);
        descriptor.getInheritancePolicy().setOnlyInstancesExpression(expression);
    }
}

public class PreferredCustomizer implements DescriptorCustomizer {
    public void customize(ClassDescriptor descriptor) {
        ExpressionBuilder account = new ExpressionBuilder();
        Expression expression = account.getField("TOTALMILES").greaterThanEqual(100000);
        descriptor.getInheritancePolicy().setOnlyInstancesExpression(expression);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABDIJEG">Example 2-24</a> shows how to use the <code>&lt;class-extractor&gt;</code>
element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABDIJEG"></a><a id="TLJPA364"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-24 Using &lt;class-extractor&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="AirMilesAccount"&gt;
    &lt;table name="MILES_ACCOUNT"/&gt;
    &lt;inheritance strategy="SINGLE_TABLE"/&gt;
    &lt;class-extractor class="AirMilesClassExtractor"/&gt;
...
&lt;/entity&gt;

&lt;entity class="PreferredAccount"&gt;
    &lt;customizer class="PreferredCustomizer"/&gt;
...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref62" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Entities" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p><a href="#CHDCCDGC">"@Customizer"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CDDJGFHA"></a><a id="TLJPA365"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="clonecopypolicy"><a class="anchor" href="#clonecopypolicy"></a>@CloneCopyPolicy</h3>
<div class="paragraph">
<p>Use <code>@CloneCopyPolicy</code> to specify an
<code>org.eclipse.persistence.descriptors.copying.CloneCopyPolicy</code> on an
Entity.</p>
</div>
<div id="sthref63" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFHGIH">Table 2-11</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA366"></a><a id="sthref64"></a><a id="BABFHGIH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-11 @CloneCopyPolicy Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>method</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The method that will be used to create a clone for
comparison with EclispeLink&#8217;s <code>DeferredChangeDetectionPolicy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>workingCopyMethod</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The <code>workingCopyoMethod</code> that will be
used to create a clone that will be used when registering an object in
an EclipseLink <code>UnitOfWork</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You must specify either a <code>method</code> or <code>workingCopyMenthod</code>.
</td>
</tr>
</table>
</div>
<div id="sthref65" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The clone <code>method</code> should perform a shallow clone of the object. This
can be used to clone non-persistent fields from a instance in the shared
cache.</p>
</div>
<div class="paragraph">
<p>You can specify <code>@CloneCopyPolicy</code> on an Entity, MappedSuperclass, or
Embeddable class.</p>
</div>
<div id="sthref66" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEIGHC">Example 2-25</a> and <a href="#BABJAHCB">Example 2-26</a> show
several examples of the <code>@CloneCopyPolicy</code> annotation and
<code>&lt;clone-copy-policy&gt;</code> XML element, respectively.</p>
</div>
<div class="paragraph">
<p><a id="BABEIGHC"></a><a id="TLJPA367"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-25 Using @CloneCopyPolicy Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@CloneCopyPolicy(method="myClone")</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@CloneCopyPolicy(method="myClone", workingCopyMethod="myWorkingCopyClone")</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@CloneCopyPolicy(workingCopyMethod="myWorkingCopyClone")</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="BABJAHCB"></a><a id="TLJPA368"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-26 Using &lt;clone-copy-policy&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;clone-copy-policy type="copy" method="myClone" workingCopyMethod="myWorkingCopyClone"/&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;clone-copy-policy type="copy" workingCopyMethod="myWorkingCopyClone"/&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;clone-copy-policy type="copy" method="myClone"/&gt;</code></pre>
</div>
</div>
<div id="sthref67" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
<li>
<p><a href="#BGBDGCDJ">"@CopyPolicy"</a></p>
</li>
<li>
<p><a href="#CHDCJEIG">"@InstantiationCopyPolicy"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBHHCJH"></a><a id="TLJPA369"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="compositemember"><a class="anchor" href="#compositemember"></a>@CompositeMember</h3>
<div class="paragraph">
<p>Use <code>@CompositeMember</code> to indicate that a class belongs to a composite
persistence unit.</p>
</div>
<div class="paragraph">
<p>It should be used if target type is a primitive type and
<code>@CollectionTable</code> designates the table that belongs to composite member
persistence unit other than the source composite member persistence
unit. This allows the source and target to be mapped to different
databases.</p>
</div>
<div id="sthref68" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABBCHAA">Table 2-12</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA370"></a><a id="sthref69"></a><a id="BABBCHAA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-12 @CompositeMember Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of a target composite member persistence unit to
which element table belongs (if differs from source composite member
persistence unit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref70" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>@CompositeMember</code> annotation is ignored unless it is in a composite
member persistence unit. It may be used in conjunction with
<code>@ElementCollection</code> and <code>@CollectionTable</code> annotations.</p>
</div>
<div id="sthref71" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>You can configure the <code>CompositeMember</code> using annotations or the
<code>eclipselink-orm.xml</code> file, as shown in these examples.</p>
</div>
<div id="TLJPA371" class="paragraph">
<p><strong><em>Example 2-27 Using @CompositeMember Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@ElementCollection()
@CollectionTable(name = "MBR1_RESPONS", joinColumns=@JoinColumn(name="EMP_ID"))
@CompositeMember("branch-database")
@Column(name = "DESCRIPTION")
public Collection&lt;String&gt; getResponsibilities() {
    return responsibilities;
}</code></pre>
</div>
</div>
<div id="TLJPA372" class="paragraph">
<p><strong><em>Example 2-28 Using &lt;composite-member&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;element-collection name="responsibilities" composite-member="branch-database"&gt;
  &lt;column name="DESCRIPTION"/&gt;
  &lt;collection-table name="XML_MBR3_RESPONS"&gt;
    &lt;join-column name="EMP_ID"/&gt;
  &lt;/collection-table&gt;
&lt;/element-collection&gt;</code></pre>
</div>
</div>
<div id="sthref74" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Using Multiple Databases with a Composite Persistence Unit" in
<em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p><a href="#composite-unit">"composite-unit"</a></p>
</li>
<li>
<p><a href="#compositeunitmember">"composite-unit.member"</a></p>
</li>
<li>
<p>"Composite Persistence Units"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Composite_Persistence_Units" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Composite_Persistence_Units</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CBBJAJCH"></a><a id="TLJPA373"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="conversionvalue"><a class="anchor" href="#conversionvalue"></a>@ConversionValue</h3>
<div class="paragraph">
<p>Use <code>@ConversionValue</code> to specify the database and object values for an
<code>ObjectTypeConverter</code>.</p>
</div>
<div id="sthref75" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABBEGIB">Table 2-13</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA374"></a><a id="sthref76"></a><a id="BABBEGIB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-13 @ConversionValue Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dataValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The database value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>objectValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The object value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref77" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The JPA specification allows you to map an <code>Enum</code> to database columns
using the <code>@Enumerated</code> annotation, when the database value is either
the name of the <code>Enum</code> or its ordinal value. With EclipseLink, you can
also map an <code>Enum</code> to a coded value, using a converter.</p>
</div>
<div id="sthref78" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>In <a href="#BABFEJHJ">Example 2-29</a>, the <code>enum</code> <code>Gender(MALE, FEMALE)</code> is
mapped to a single character in the database where M=MALE and F=FEMALE.</p>
</div>
<div class="paragraph">
<p><a id="BABFEJHJ"></a><a id="TLJPA375"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-29 Using @ConversionValue Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@ObjectTypeConverter(name = "gender", objectType = Gender.class, dataType = String.class, conversionValues = {
  @ConversionValue(objectValue = "Male", dataValue = "M"),
  @ConversionValue(objectValue = "Female", dataValue = "F") })

...

@Basic
@Convert("gender")
private Gender gender = Gender.Male;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABIHAFA">Example 2-30</a> illustrates the same function using XML.</p>
</div>
<div class="paragraph">
<p><a id="BABIHAFA"></a><a id="TLJPA376"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-30 Using &lt;conversion-value&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;object-type-converter name="gender" object-type="model.Gender   "data-type="java.lang.String"&gt;
  &lt;conversion-value object-value="Male" data-value="M" /&gt;
  &lt;conversion-value object-value="Female" data-value="F" /&gt;
&lt;/object-type-converter&gt;

...

&lt;basic name="gender"&gt;
  &lt;column name="GENDER" /&gt;
  &lt;convert&gt;gender&lt;/convert&gt;
&lt;/basic&gt;</code></pre>
</div>
</div>
<div id="sthref79" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBBDGAI">"@ObjectTypeConverter"</a></p>
</li>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BEHGJHCD"></a><a id="TLJPA377"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="convert"><a class="anchor" href="#convert"></a>@Convert</h3>
<div class="paragraph">
<p>Use <code>@Convert</code> to specify that a named converter should be used with the
corresponding mapped attribute.</p>
</div>
<div id="sthref80" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEHICGDB">Table 2-14</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA378"></a><a id="sthref81"></a><a id="BEHICGDB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-14 @Convert Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The <code>String</code> name for your converter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>none</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref82" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>@Convert</code> has the following reserved names:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>serialized</strong> – Places the
<code>org.eclipse.persistence.mappings.converters.SerializedObjectConverter</code>
on the associated mapping.</p>
</li>
<li>
<p><strong>class-instance</strong> – Uses an <code>ClassInstanceConverter</code> on the associated
mapping. When using a <code>ClassInstanceConverter</code>, the database
representation is a <code>String</code> representing the Class name and the
object-model representation is an instance of that class built with a
no-args constructor</p>
</li>
<li>
<p><strong>none</strong> – Does not place a converter on the associated mapping.</p>
</li>
</ul>
</div>
<div id="sthref83" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEHFAGHF">Example 2-31</a> shows how to use the <code>@Convert</code> annotation
to define the <code>gender</code> field.</p>
</div>
<div class="paragraph">
<p><a id="BEHFAGHF"></a><a id="TLJPA379"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-31 Using the <code>@Convert</code> Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
 @Table(name="EMPLOYEE")
 @Converter(
     name="genderConverter",
         converterClass=org.myorg.converters.GenderConverter.class
 )
 public class Employee implements Serializable{
     ...
     @Basic
     @Convert("genderConverter")
     public String getGender() {
         return gender;
     }
     ...
 }</code></pre>
</div>
</div>
<div id="sthref84" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDEHJEB">"@Converter"</a></p>
</li>
<li>
<p><a href="#BGBBDGAI">"@ObjectTypeConverter"</a></p>
</li>
<li>
<p><a href="#CHDHCCJF">"@TypeConverter"</a></p>
</li>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDEHJEB"></a><a id="TLJPA380"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="converter"><a class="anchor" href="#converter"></a>@Converter</h3>
<div class="paragraph">
<p>Use the <code>@Converter</code> annotation to specify a custom converter for
modification of the data value(s) during the reading and writing of a
mapped attribute.</p>
</div>
<div id="sthref85" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBJIHHG">Table 2-15</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA381"></a><a id="sthref86"></a><a id="BGBJIHHG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-15 @Converter Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>String</code> name for your converter, must be unique across the
persistence unit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>converterClass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The class of your converter. This class must
implement the <code>org.eclipse.persistence.mappings.converters.Converter</code>
interface.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
</tbody>
</table>
<div class="literalblock">
<div class="content">
<pre>+</pre>
</div>
</div>
<div id="sthref87" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use <code>@Converter</code> to define a named converter that can be used with
mappings. A converter can be defined on an entity class, method, or
field. Specify a converter with the <a href="#BEHGJHCD">@Convert</a> annotation
on a Basic or ElementCollection mapping.</p>
</div>
<div id="TLJPA382" class="paragraph">
<p><strong>Using non-JPA Converter Annotations</strong></p>
</div>
<div class="paragraph">
<p>EclipseLink provides a set of non-JPA converter annotations (in addition
to the JPA default type mappings):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>@Converter</p>
</li>
<li>
<p><a href="#CHDHCCJF">@TypeConverter</a></p>
</li>
<li>
<p><a href="#BGBBDGAI">@ObjectTypeConverter</a></p>
</li>
<li>
<p><a href="#BGBJEBBB">@StructConverter</a></p>
</li>
<li>
<p><a href="#BEHGJHCD">@Convert</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The persistence provider searches the converter annotations in the
following order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>@Convert</code></p>
</li>
<li>
<p><code>@Enumerated</code></p>
</li>
<li>
<p><code>@Lob</code></p>
</li>
<li>
<p><code>@Temporal</code></p>
</li>
<li>
<p>Serialized (automatic)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Specify the converters on the following classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@Entity</code></p>
</li>
<li>
<p><code>@MappedSuperclass</code></p>
</li>
<li>
<p><code>@Embeddable</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Use the converters with the following mappings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@Basic</code></p>
</li>
<li>
<p><code>@Id</code></p>
</li>
<li>
<p><code>@Version</code></p>
</li>
<li>
<p><code>@ElementCollection</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An exception is thrown if a converter is specified with any other type
of mapping annotation.</p>
</div>
<div id="sthref88" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDFGEFJ">Example 2-32</a> shows how to use the <code>@Converter</code>
annotation to specify a converter class for the <code>gender</code> field.</p>
</div>
<div class="paragraph">
<p><a id="CHDFGEFJ"></a><a id="TLJPA383"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-32 Using the @Converter Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
 public class Employee implements Serializable{
    ...
     @Basic
     @Converter (
         name="genderConverter",
         converterClass=org.myorg.converters.GenderConverter.class
     )
     @Convert("genderConverter")
     public String getGender() {
         return gender;
     }
     ...
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BGBBDAAJ">Example 2-33</a> shows how to use the <code>&lt;converter&gt;</code> element
in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BGBBDAAJ"></a><a id="TLJPA384"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-33 Using &lt;converter&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="Employee"&gt;
...
    &lt;attributes&gt;
    ...
      &lt;basic name="gender"&gt;
        &lt;convert&gt;genderConverter&lt;/convert&gt;
        &lt;converter name="genderConverter" class="org.myorg.converters.GenderConverter"/&gt;
      &lt;/basic&gt;
    ...
    &lt;/attributes&gt;
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref89" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CIHEBAFB">"@Converters"</a></p>
</li>
<li>
<p><a href="#BEHGJHCD">"@Convert"</a></p>
</li>
<li>
<p><a href="#BEHBBCDB">"@MapKeyConvert"</a></p>
</li>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CIHEBAFB"></a><a id="TLJPA385"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="converters"><a class="anchor" href="#converters"></a>@Converters</h3>
<div class="paragraph">
<p>Use <code>@Converters</code> annotation to define multiple <code>@Converter</code> elements.</p>
</div>
<div id="sthref90" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCFIJFIB">Table 2-16</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA386"></a><a id="sthref91"></a><a id="BCFIJFIB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-16 @Converters Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Converter[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of converters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref92" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CHDEHJEB">"@Converter"</a> for an example of this annotation.</p>
</div>
<div id="sthref93" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDEHJEB">"@Converter"</a></p>
</li>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBDGCDJ"></a><a id="TLJPA387"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="copypolicy"><a class="anchor" href="#copypolicy"></a>@CopyPolicy</h3>
<div class="paragraph">
<p>Use <code>@CopyPolicy</code> to set an
<code>org.eclipse.persistence.descriptors.copying.CopyPolicy</code> on an entity to
produce a copy of the persistent element.</p>
</div>
<div id="sthref94" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFHFGC">Table 2-17</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA388"></a><a id="sthref95"></a><a id="BABFHFGC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-17 @CopyPolicy Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.Class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The class of the copy policy. The class
must implement <code>org.eclipse.persistence.descriptors.copying.CopyPolicy</code>.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref96" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify <code>@CopyPolicy</code> on an Entity, MappedSuperclass, or
Embeddable class.</p>
</div>
<div id="sthref97" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCIIIJ">Example 2-34</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABCIIIJ"></a><a id="TLJPA389"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-34 Using @CopyPolicy Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
  @Table(name="EMPLOYEE")
  @CopyPolicy(mypackage.MyCopyPolicy.class)
  public class Employee implements Serializable {
    ...
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABECEEG">Example 2-35</a> shows how to use the <code>&lt;copy-policy&gt;</code>
element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABECEEG"></a><a id="TLJPA390"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-35 Using &lt;copy-policy&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="Employee"&gt;
  &lt;table name="EMPLOYEE"/&gt;
  &lt;copy-policy class="mypackage.MyCopyPolicy"/&gt;
...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref98" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CDDJGFHA">"@CloneCopyPolicy"</a></p>
</li>
<li>
<p><a href="#CHDCJEIG">"@InstantiationCopyPolicy"</a></p>
</li>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDCCDGC"></a><a id="TLJPA391"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="customizer"><a class="anchor" href="#customizer"></a>@Customizer</h3>
<div class="paragraph">
<p>Use <code>@Customizer</code> to specify a class that implements
<code>org.eclipse.persistence.config.DescriptorCustomizer</code> and is to run
against an entity&#8217;s class descriptor after all metadata processing has
been completed.</p>
</div>
<div id="sthref99" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCJCHB">Table 2-18</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA392"></a><a id="sthref100"></a><a id="BABCJCHB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-18 @Customizer Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.Class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the descriptor customizer to
apply to the entity&#8217;s descriptor</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref101" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this annotation to customize or extend the mapping metadata through
the EclipseLink native API. With <code>@Customizer</code>, you can access
additional EclipseLink functionality and configurations.</p>
</div>
<div class="paragraph">
<p>You can specify <code>@Customizer</code> on an Entity, MappedSuperclass, or
Embeddable class.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A <code>@Customizer</code> is not inherited from its parent classes.
</td>
</tr>
</table>
</div>
<div id="sthref102" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABBFAGB">Example 2-36</a> show how to use the <code>@Customizer</code>
annotation with the following <code>DescriptorCustomer</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">public class MyCustomizer implements DescriptorCustomizer {
  public void customize(ClassDescriptor descriptor) {
    DirectToFieldMapping genderMapping = (DirectToFieldMapping)descriptor.getMappingForAttributeName("gender");
    ObjectTypeConverter converter = new ObjectTypeConverter();
    convert.addConversionValue("M", Gender.MALE);
    convert.addConversionValue("F", Gender.FEMALE);
    genderMapping.setConverter(converter);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="BABBFAGB"></a><a id="TLJPA393"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-36 Using @Customizer Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
 @Table(name="EMPLOYEE")
 @Customizer(mypackage.MyCustomizer.class)
 public class Employee implements Serializable {
     ...
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABDJIFC">Example 2-37</a> show how to use the <code>&lt;customizer&gt;</code> element
in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABDJIFC"></a><a id="TLJPA394"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-37 Using &lt;customizer&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="Employee"&gt;
  &lt;table name="EMPLOYEE"/&gt;
  &lt;customizer class="mypackage.MyCustomizer"/&gt;
...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref103" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#descriptorcustomizer">"descriptor.customizer"</a></p>
</li>
<li>
<p>"Binding JPA Entities to XML" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>EclipseLink Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/MappingSelectionCriteria" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/MappingSelectionCriteria</a></code></p>
</li>
<li>
<p>"Customizers"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Customizers" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Customizers</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABDDGFG"></a><a id="TLJPA395"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="deleteall"><a class="anchor" href="#deleteall"></a>@DeleteAll</h3>
<div class="paragraph">
<p>Use <code>@DeleteAll</code> to indicate that when an relationship is deleted,
EclipseLink should use a delete all query. This typically happens if the
relationship is <code>PrivateOwned</code> and its owner is deleted. In that case,
the members of the relationship will be deleted without reading them in.</p>
</div>
<div id="sthref104" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p>There are no elements for this annotation.</p>
</div>
<div id="sthref105" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>WARNING:</strong></p>
</div>
<div class="paragraph">
<p><strong>Use this annotation with caution. EclipseLink will not validate whether
the target entity is mapped in such a way as to allow the delete all to
work.</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref106" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBHBIFII">Example 2-38</a> shows how to use <code>@DeleteAll</code> on a
relationship mapping.</p>
</div>
<div class="paragraph">
<p><a id="CBHBIFII"></a><a id="TLJPA396"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-38 Using @DeleteAll Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
public class Department {
  ...
  @OneToMany(mappedBy = "department")
  @PrivateOwned
  @DeleteAll
  public List&lt;Equipment&gt; getEquipment() {
    return equipment;
    }
  ...
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CBHBIFII">Example 2-38</a> shows how to use the <code>&lt;delete-all&gt;</code> element
in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div id="TLJPA397" class="paragraph">
<p><strong><em>Example 2-39 Using &lt;delete-all&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="Department"&gt;
  ...
  &lt;attributes&gt;
    &lt;one-to-many name="equipment" target-entity="Equipment" mapped-by="department"&gt;
      &lt;private-owned/&gt;
      &lt;delete-all/&gt;
    &lt;/one-to-many&gt;
...
&lt;/attributes&gt;
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref108" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDDDDAI">"@PrivateOwned"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CIHGDDED"></a><a id="TLJPA398"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="discriminatorclass"><a class="anchor" href="#discriminatorclass"></a>@DiscriminatorClass</h3>
<div class="paragraph">
<p>Use <code>@DiscriminatorClass</code> with a <code>@VariableOneToOne</code> annotation to
determine which entities will be added to the list of types for the
mapping.</p>
</div>
<div id="sthref109" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGACBF">Table 2-19</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA399"></a><a id="sthref110"></a><a id="BABGACBF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-19 @DiscriminatorClass Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>discriminator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The discriminator to be stored in the
database</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The class to be instantiated with the <code>discriminator</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref111" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>@DiscriminatorClass</code> annotation can be specified only within a
<code>@VariableOneToOne</code> mapping.</p>
</div>
<div id="sthref112" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CHDDFDGF">"@VariableOneToOne"</a> for an example of a variable
one-to-one mapping with <code>@DiscriminatorClass</code>.</p>
</div>
<div id="sthref113" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDDFDGF">"@VariableOneToOne"</a></p>
</li>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BEICFBDD"></a><a id="TLJPA400"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="excludedefaultmappings"><a class="anchor" href="#excludedefaultmappings"></a>@ExcludeDefaultMappings</h3>
<div class="paragraph">
<p>Use <code>@ExcludeDefaultMappings</code> to specify that no default mapping should
be added to a specific class. Instead, EclipseLink will use only
mappings that are explicitly defined by annotations or the XML mapping
file.</p>
</div>
<div id="sthref114" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p>There are no elements for this annotation.</p>
</div>
<div id="sthref115" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify <code>@ExcludeDefaultMappings</code> on an Entity,
MappedSuperclass, or Embeddable class.</p>
</div>
<div id="sthref116" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BACGGFEH">Example 2-40</a> shows how to use the
<code>@ExcludeDefaultMapping</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="BACGGFEH"></a><a id="TLJPA54002"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-40 Using the @ExcludeDefaultMappings Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@ExcludeDefaultMappings
@Entity
public class Dealer {
    @Id
    private long id;
    @Basic
    private String name;
    // These would be ignored
    private List&lt;Card&gt; deck;
    private List&lt;Card&gt; hand;
    ...
}</code></pre>
</div>
</div>
<div id="sthref117" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Building Blocks for a EclipseLink Project" in <em>Understanding
EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABICJEJ"></a><a id="TLJPA401"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="existencechecking"><a class="anchor" href="#existencechecking"></a>@ExistenceChecking</h3>
<div class="paragraph">
<p>Use <code>@ExistenceChecking</code> to specify how EclipseLink should check to
determine if an entity is new or exists.</p>
</div>
<div class="paragraph">
<p>On <code>merge()</code> operations, use <code>@ExistenceChecking</code> to specify if
EclipseLink uses only the cache to determine if an object exists, or if
the object should be read (from the database or cache). By default the
object will be read from the database.</p>
</div>
<div id="sthref118" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CEGHFAIB">Table 2-20</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA402"></a><a id="sthref119"></a><a id="CEGHFAIB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-20 @ExistenceChecking Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ExistenceType</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Set the existence checking type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ASSUME_EXISTENCE</code></p>
</li>
<li>
<p><code>ASSUME_NON_EXISTENCE</code></p>
</li>
<li>
<p><code>CHECK_CHACHE</code></p>
</li>
<li>
<p><code>CHECK_DATABASE</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CHECK_CACHE</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref120" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify <code>@ExistenceChecking</code> on an Entity or MappedSuperclass.</p>
</div>
<div class="paragraph">
<p>EclipseLink supports the following existence checking types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ASSUME_EXISTENCE</code> – If the object&#8217;s primary key does not include
<code>null</code> then it must exist. You may use this option if the application
guarantees or does not care about the existence check.</p>
</li>
<li>
<p><code>ASSUME_NON_EXISTENCE</code> – Assume that the object does not exist. You
may use this option if the application guarantees or does not care about
the existence check. This will always force an <code>INSERT</code> operation.</p>
</li>
<li>
<p><code>CHECK_CHACHE</code> – If the object&#8217;s primary key does not include <code>null</code>
and it is in the cache, then it must exist.</p>
</li>
<li>
<p><code>CHECK_DATABASE</code> – Perform a <code>SELECT</code> on the database.</p>
</li>
</ul>
</div>
<div id="sthref121" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CEGDGCHF">Example 2-41</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="CEGDGCHF"></a><a id="TLJPA54003"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-41 Using @ExistenceChecking Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Cache(type=CacheType.HARD_WEAK,  expiryTimeOfDay=@TimeOfDay(hour=1))
@ExistenceChecking(ExistenceType.CHECK_DATABASE)
public  class  Employee  implements  Serializable  {
...
}</code></pre>
</div>
</div>
<div id="sthref122" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDBBIHE">"@Cache"</a></p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABCHIGE"></a><a id="TLJPA403"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="fetchattribute"><a class="anchor" href="#fetchattribute"></a>@FetchAttribute</h3>
<div class="paragraph">
<p>Use <code>@FetchAttribute</code> to improve performance within a fetch group; it
allows on-demand loading of a group of an object&#8217;s attributes. As a
result, the data for an attribute might not be loaded from the
datasource until an explicit access call occurs.</p>
</div>
<div class="paragraph">
<p>This avoids loading all the data of an object&#8217;s attributes if the user
requires only some of the attributes.</p>
</div>
<div id="sthref123" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABDFABA">Table 2-21</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA404"></a><a id="sthref124"></a><a id="BABDFABA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-21 @FetchAttribute Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) Name of the fetch attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref125" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>EclipseLink provides two types of fetch groups:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pre-defined fetch groups at the Entity or MappedSuperclass level</p>
</li>
<li>
<p>Dynamic (use case) fetch groups at the query level</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You should extensively review your use cases when using fetch groups. In
many cases, additional round-trips will offset any gains from deferred
loading.</p>
</div>
<div id="sthref126" class="ulist">
<ul>
<li>
<p>+
Examples*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#BABFDFHD">Example 2-42</a> shows how to use <code>@FetchAttribute</code> within a
<code>@FetchGroup</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABFDFHD"></a><a id="TLJPA405"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-42 Using @FetchAttribute Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@FetchGroup(name="basic-fetch-group", attributes={
        @FetchAttribute(name="id"),
        @FetchAttribute(name="name"),
        @FetchAttribute(name="address")})
public class Person {

   @Id
   private int id;

   private String name;

   @OneToOne(fetch=LAZY)
   private Address address;

   @ManyToOne(fetch=EAGER)
   private ContactInfo contactInfo;</code></pre>
</div>
</div>
<div id="TLJPA54004" class="paragraph">
<p><strong><em>Example 2-43 Using &lt;fetch-group&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;fetch-group name="basic-fetch-group"&gt;
    &lt;attribute name="id"/&gt;
    &lt;attribute name="name"/&gt;
    &lt;attribute name="address"/&gt;
&lt;/fetch-group&gt;</code></pre>
</div>
</div>
<div id="sthref128" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
<li>
<p><a href="#BABJBDEG">"@FetchGroup"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABJBDEG"></a><a id="TLJPA406"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="fetchgroup"><a class="anchor" href="#fetchgroup"></a>@FetchGroup</h3>
<div class="paragraph">
<p>Use <code>@FetchGroup</code> to load a group of attributes on demand, as needed.</p>
</div>
<div class="paragraph">
<p>This avoids wasteful practice of loading all data of the object&#8217;s
attributes, if the user is interested in only partial of them. However,
it also means that the data for an attribute might not be loaded from
the underlying data source until an explicit access call for the
attribute first occurs.</p>
</div>
<div id="sthref129" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFGBBD">Table 2-22</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA407"></a><a id="sthref130"></a><a id="BABFGBBD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-22 @FetchGroup Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FetchAttribute[] attributes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The list of attributes to
fetch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The fetch group name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean load</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Indicates whether all relationship
attributes specified in the fetch group should be loaded.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref131" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You should perform a careful use case analysis when using <code>@FetchGroup</code>;
any gains realized from the deferred loading could be offset by the
extra round-trip.</p>
</div>
<div class="paragraph">
<p>EclipseLink supports fetch groups at two levels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pre-defined fetch groups at the Entity or MappedSuperclass level</p>
</li>
<li>
<p>Dynamic (use case) fetch groups at the query level</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can use fetch groups only when using weaving or when individual
classes that define them explicitly implement the
<code>org.eclipse.persistence.queries.FetchGroupTracker</code> interface.</p>
</div>
<div class="paragraph">
<p>When using a fetch group, you can define a subset of an object&#8217;s
attributes and associate the fetch group with a query. When you execute
the query, EclipseLink retrieves only the attributes in the fetch group.
EclipseLink automatically executes a query to fetch all the attributes
excluded from this subset when and if you call a get method on any one
of the excluded attributes.</p>
</div>
<div class="paragraph">
<p>You can define more than one fetch group for a class. You can optionally
designate at most one such fetch group as the default fetch group. If
you execute a query without specifying a fetch group, EclipseLink will
use the default fetch group, unless you configure the query otherwise.</p>
</div>
<div class="paragraph">
<p>Before using fetch groups, it is recommended that you perform a careful
analysis of system use. In many cases, the extra queries required to
load attributes not in the fetch group could well offset the gain from
the partial attribute loading.</p>
</div>
<div id="sthref132" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGHDJB">Example 2-44</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABGHDJB"></a><a id="TLJPA408"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-44 Using @FetchGroup Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@FetchGroup(name="names", attributes={
    @FetchAttribute(name="firstName"),
    @FetchAttribute(name="lastName")})</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CACEFCDH">Example 2-45</a> shows how to use this feature in the
<code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CACEFCDH"></a><a id="TLJPA409"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-45 Using &lt;fetch-group&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="model.Employee"&gt;
    &lt;secondary-table name="SALARY" /&gt;
    &lt;fetch-group name="names"&gt;
        &lt;attribute name="firstName" /&gt;
        &lt;attribute name="lastName" /&gt;
    &lt;/fetch-group&gt;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also use a named fetch group with a query, as shown in
<a href="#BABGFDJA">Example 2-46</a>.</p>
</div>
<div class="paragraph">
<p><a id="BABGFDJA"></a><a id="TLJPA410"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-46 Using a Named Fetch Group on a Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">TypedQuery query = em.createQuery("SELECT e FROM Employee e", Employee.class);

query.setHint(QueryHints.FETCH_GROUP_NAME, "names");</code></pre>
</div>
</div>
<div id="sthref133" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
<li>
<p><a href="#BABCHIGE">"@FetchAttribute"</a></p>
</li>
<li>
<p><a href="#CHDIEBGG">"@FetchGroups"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDIEBGG"></a><a id="TLJPA411"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="fetchgroups"><a class="anchor" href="#fetchgroups"></a>@FetchGroups</h3>
<div class="paragraph">
<p>Use <code>@FetchGroups</code> to define a group of <code>@FetchGroup</code>.</p>
</div>
<div id="sthref134" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BACDEJEJ">Table 2-23</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA412"></a><a id="sthref135"></a><a id="BACDEJEJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-23 @FetchGroups Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FetchGroup</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of fetch groups (<code>@FetchGroup</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref136" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify <code>@FetchGroups</code> on an Entity or MappedSuperclass.</p>
</div>
<div class="paragraph">
<p>You can also enable or disable fetch groups through weaving for the
persistence unit.</p>
</div>
<div id="sthref137" class="ulist">
<ul>
<li>
<p>+
Examples*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="#BABJBDEG">"@FetchGroup"</a> for an example of using fetch groups.</p>
</div>
<div class="paragraph">
<p><a href="#CHDJCEHI">Example 2-47</a> shows how to configure fetch groups in the
persistence unit <code>persistence.xml</code> file or by importing a <code>property</code>
map.</p>
</div>
<div class="paragraph">
<p><a id="CHDJCEHI"></a><a id="TLJPA413"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-47 Specifying Fetch Groups in persistence.xml</em></strong></p>
</div>
<div class="paragraph">
<p>Using <code>persistence.xml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.weaving.fetchgroups" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using <code>property</code> map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.WEAVING_FETCHGROUPS, "false");</code></pre>
</div>
</div>
<div id="sthref138" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABJBDEG">"@FetchGroup"</a></p>
</li>
<li>
<p><a href="#BABCHIGE">"@FetchAttribute"</a></p>
</li>
<li>
<p><a href="#weaving">"weaving"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CBHHCHAC"></a><a id="TLJPA414"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="field"><a class="anchor" href="#field"></a>@Field</h3>
<div class="paragraph">
<p>Use <code>@Field</code> to define a structured data type&#8217;s field name for an object
mapped to NoSql data.</p>
</div>
<div id="sthref139" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBHEEEGE">Table 2-24</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA415"></a><a id="sthref140"></a><a id="CBHEEEGE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-24 @Field Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The data type&#8217;s name of the field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref141" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>@Field</code> annotation is a generic form of the <code>@Column</code> annotation,
which is not specific to relational databases. You can use <code>@Field</code> to
map EIS and NoSQL data.</p>
</div>
<div id="sthref142" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BJEIEBHC">"@NoSql"</a> for an example of the <code>@Field</code> annotation.</p>
</div>
<div id="sthref143" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BJEIEBHC">"@NoSql"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CEGBDBEG"></a><a id="TLJPA416"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="hashpartitioning"><a class="anchor" href="#hashpartitioning"></a>@HashPartitioning</h3>
<div class="paragraph">
<p>Use <code>@HashPartitioning</code> to partition access to a database cluster by the
hash of a field value from the object (such as the object&#8217;s location or
tenant). The hash indexes into the list of connection pools.</p>
</div>
<div id="sthref144" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CEGCAGJF">Table 2-25</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA417"></a><a id="sthref145"></a><a id="CEGCAGJF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-25 @HashPartitioning Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the partition policy. The name must be
unique within the persistence unit.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>partitionColumn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The database column or query parameter by
which to partition queries</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionPools</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) List of connection pool names across
which to partition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All defined pools in the ServerSession</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unionUnpartitionableQueries</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specify if queries that <em>do
not</em> contain the partition hash should be sent to every database and
union the result.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
</tbody>
</table>
<div id="sthref146" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>All write or read requests for objects with the hash value are sent to
the server. Queries that do not include the field as a parameter will
be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sent to all servers and unioned</p>
<div class="paragraph">
<p>or</p>
</div>
</li>
<li>
<p>Handled based on the session&#8217;s default behavior.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can enable partitioning on an Entity, relationship, query, or
session/persistence unit. Partition policies are globally named (to
allow reuse) and must set using the <code>@Partitioned</code> annotation.</p>
</div>
<div class="paragraph">
<p>The persistence unit properties support adding named connection pools in
addition to the existing configuration for read/write/sequence. A named
connection pool must be defined for each node in the database cluster.</p>
</div>
<div class="paragraph">
<p>If a transaction modifies data from multiple partitions, you should use
JTA to ensure proper two-phase commit of the data. You can also
configure an exclusive connection in the EntityManager to ensure that
only a single node is used for a single transaction.</p>
</div>
<div id="sthref147" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CHDDAHEB">"@Partitioned"</a> for an example of partitioning with
EclipseLink.</p>
</div>
<div id="sthref148" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Data
Partitioning"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Data_Partitioning`</p>
</li>
<li>
<p><a href="#CHDDAHEB">"@Partitioned"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABGIFEC"></a><a id="TLJPA418"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="index"><a class="anchor" href="#index"></a>@Index</h3>
<div class="paragraph">
<p>An index is a database structure defined for a table, to improve query
and look-up performance for a set of columns. Use the <code>@Index</code>
annotation in code or the <code>&lt;index&gt;</code> element in the <code>eclipselink-orm.xml</code>
descriptor to create an index on a table.</p>
</div>
<div class="paragraph">
<p>An index can be defined on an entity or on an attribute. For the entity
it must define a set of columns to index.</p>
</div>
<div class="paragraph">
<p>Index creation is database specific. Some databases may not support
indexes. Most databases auto-index primary key and foreign key columns.
Some databases support advanced index DDL options. To create more
advanced index DDL, a DDL script or native query can be used.</p>
</div>
<div id="sthref149" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCGCDG">Table 2-26</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA419"></a><a id="sthref150"></a><a id="BABCGCDG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-26 @Index Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String catalog</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The catalog of the <code>INDEX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default catalog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String[] columnNames</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Not required when annotated on a
field or method) Specify the set of columns to define the index on.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For an Entity, none.</p>
</div>
<div class="paragraph">
<p>For an attribute, the attribute&#8217;s column.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">j`ava.lang.String name`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The name of the <code>INDEX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;table&gt;_&lt;column&gt;_INDEX</code> (but a name should be provided)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String schema</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The schema of the <code>INDEX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default schema</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String table</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The table to define the index on;
defaults to entities primary table.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The entity&#8217;s primary table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean unique</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specify whether the index is unique or
non-unique.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref151" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use <code>@Index</code> annotation to index any attributes or columns that will
commonly be used in queries.</p>
</div>
<div id="sthref152" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>This example defines three indexes, one on <strong>first name</strong>, one on <strong>last
name</strong>, and a multiple column index on <strong>first name</strong> <em>and</em> <strong>last name</strong>.</p>
</div>
<div id="TLJPA420" class="paragraph">
<p><strong><em>Example 2-48 Using @Index Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Index(name="EMP_NAME_INDEX", columns={"F_NAME","L_NAME"})
public class Employee{
    @Id
    private long id;
    @Index
    @Column(name="F_NAME")
    private String firstName;
    @Index
    @Column(name="L_NAME")
    private String lastName;
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also create an index in the <code>eclipselink-orm.xml</code> descriptor
using <code>&lt;index&gt;</code>, as shown in the following example. Define columns using
the <code>&lt;column&gt;</code> subelement. All the attributes supported in the <code>@Index</code>
annotation are also supported in the <code>&lt;index&gt;</code> element.</p>
</div>
<div id="TLJPA421" class="paragraph">
<p><strong><em>Example 2-49 Using &lt;index&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;index name="EMP_NAME_INDEX" table="EMPLOYEE" unique="true"&gt;
    &lt;column&gt;F_NAME&lt;/column&gt;
    &lt;column&gt;L_NAME&lt;/column&gt;
&lt;/index&gt;</code></pre>
</div>
</div>
<div id="sthref155" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDHGAIE">"@Indexes"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDHGAIE"></a><a id="TLJPA422"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="indexes"><a class="anchor" href="#indexes"></a>@Indexes</h3>
<div class="paragraph">
<p>Use <code>@Indexes</code> to define a set of database indexes for an Entity.</p>
</div>
<div id="sthref156" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHCABJ">Table 2-27</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA423"></a><a id="sthref157"></a><a id="CHDHCABJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-27 @Indexes Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Index[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of database indexes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref158" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABGIFEC">"@Index"</a> for an example of using the <code>@Index</code>
annotation.</p>
</div>
<div id="sthref159" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBDGCDJ">"@CopyPolicy"</a></p>
</li>
<li>
<p><a href="#CDDJGFHA">"@CloneCopyPolicy"</a></p>
</li>
<li>
<p><a href="#BABGIFEC">"@Index"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDCJEIG"></a><a id="TLJPA424"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="instantiationcopypolicy"><a class="anchor" href="#instantiationcopypolicy"></a>@InstantiationCopyPolicy</h3>
<div class="paragraph">
<p>Use <code>@InstantiationCopyPolicy</code> to set an
<code>org.eclipse.persistence.descriptors.copying.InstantiationCopyPolicy</code> on
an Entity.</p>
</div>
<div id="sthref160" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p>There are no elements for this annotation.</p>
</div>
<div id="sthref161" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The copy policy specifies how EclipseLink clones objects to and from the
shared cache. With <code>@InstantiationCopyPolicy</code>, in order to clone an
object EclipseLink will create a new instance of the object and copy
each persistent attribute. Alternative methods include
<code>@CloneCopyPolicy</code>, which clones the object.</p>
</div>
<div class="paragraph">
<p>Cloning is more efficient than creating a new instance and maintains
transient or non-persistent attribute values. If you do not need
transient or non-persistent attribute values in the shared cache, then
use <code>@InstantiationCopyPolicy</code>.</p>
</div>
<div class="paragraph">
<p>The default EclipseLink copy policy depends on your configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When using
<a href="#weavinginternal">weaving.internal</a> (and field
access), EclipseLink generates a specialized clone method to copy
objects.</p>
</li>
<li>
<p>Without weaving, EclipseLink uses instantiation to copy objects.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can specify <code>@InstantiationCopyPolicy</code> on an Entity,
MappedSuperclass, or Embeddable entity.</p>
</div>
<div id="sthref162" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDBCHI">Example 2-50</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDDBCHI"></a><a id="TLJPA426"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-50 Using @InstantiationCopyPolicy Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@InstantiationCopyPolicy
public class Employee {
    ...
    transient List events = new ArrayList();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDGCDAI">Example 2-51</a> shows how to use this extension in the
<code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDGCDAI"></a><a id="TLJPA427"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-51 Using &lt;instantiation-copy-policy&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity name="Employee" class="org.acme.Employee" access="FIELD"&gt;
    &lt;instantiation-copy-policy/&gt;
    ...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref163" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBDGCDJ">"@CopyPolicy"</a></p>
</li>
<li>
<p><a href="#CDDJGFHA">"@CloneCopyPolicy"</a></p>
</li>
<li>
<p><a href="#weavinginternal">"weaving.internal"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CEGFFHHA"></a><a id="TLJPA428"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="joinfetch"><a class="anchor" href="#joinfetch"></a>@JoinFetch</h3>
<div class="paragraph">
<p>Use the <code>@JoinFetch</code> annotation to enable the joining and reading of the
related objects in the same query as the source object.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You should set join fetching at the query level, as not all queries
require joining.
</td>
</tr>
</table>
</div>
<div id="sthref164" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CEGFCHJB">Table 2-28</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA429"></a><a id="sthref165"></a><a id="CEGFCHJB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-28 @JoinFetch Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Set this attribute to the
<code>org.eclipse.persistence.annotations.``JoinFetchType</code> enumerated type of
the fetch that you will be using.</p>
</div>
<div class="paragraph">
<p>The following are the valid values for the <code>JoinFetchType</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>INNER</code>—This option provides the inner join fetching of the related
object.</p>
<div class="paragraph">
<p><strong>Note</strong>: Inner joining does not allow for null or empty values.</p>
</div>
</li>
<li>
<p><code>OUTER</code>—This option provides the outer join fetching of the related
object.</p>
<div class="paragraph">
<p><strong>Note</strong>: Outer joining allows for null or empty values.</p>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JoinFetchType.INNER</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref166" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify the <code>@JoinFetch</code> annotation for the following mappings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@OneToOne</code></p>
</li>
<li>
<p><code>@OneToMany</code></p>
</li>
<li>
<p><code>@ManyToOne</code></p>
</li>
<li>
<p><code>@ManyToMany</code></p>
</li>
<li>
<p><code>@ElementCollection</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternatively, you can use batch fetching which is more efficient,
especially for collection relationships.</p>
</div>
<div id="sthref167" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>The following example shows how to use the <code>@JoinFetch</code> annotation to
specify Employee field <code>managedEmployees</code>.</p>
</div>
<div id="TLJPA430" class="paragraph">
<p><strong><em>Example 2-52 Using @JoinFetch Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
 public class Employee implements Serializable {
    ...
    @OneToMany(cascade=ALL, mappedBy="owner")
    @JoinFetch(value=OUTER)
    public Collection&lt;Employee&gt; getManagedEmployees() {
        return managedEmployees;
    }
    ...
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CEGJIBCF">Example 2-53</a> shows how to use this extension in the
<code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CEGJIBCF"></a><a id="TLJPA54005"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-53 Using &lt;join-fetch&gt; in XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;one-to-many name="managedEmployees"&gt;
    &lt;join-fetch&gt;OUTER&lt;/join-fetch&gt;
&lt;/one-to-many&gt;</code></pre>
</div>
</div>
<div id="sthref169" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p><a href="#CHDCCIDA">"@BatchFetch"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CIHCAFEI"></a><a id="TLJPA431"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="joinfield"><a class="anchor" href="#joinfield"></a>@JoinField</h3>
<div class="paragraph">
<p>Use <code>@JoinField</code> to define a structured data type&#8217;s foreign key field
for an object mapped to NoSql data.</p>
</div>
<div id="sthref170" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHEHJJH">Table 2-29</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA432"></a><a id="sthref171"></a><a id="CIHEHJJH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-29 @JoinField Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The name of the foreign key/ID reference field in
the source record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>referencedFieldName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The name of the ID field in the
target record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref172" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>@JoinField</code> annotation is a generic form of the <code>@JoinColumn</code>
annotation, which is not specific to relational databases. You can use
<code>@JoinField</code> to map EIS and NoSQL data.</p>
</div>
<div id="sthref173" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>These examples show how to use this extension as an annotation and in
XML.</p>
</div>
<div class="paragraph">
<p><a id="CIHCFEJH"></a><a id="TLJPA54006"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-54 Using @JoinField Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@NoSql
public class Order {
    ...
    @ManyToOne
    @JoinField(name="customerId")
    private Customer customer;
}</code></pre>
</div>
</div>
<div id="TLJPA54007" class="paragraph">
<p><strong><em>Example 2-55 Using &lt;join-field&gt; in XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity name="Order" class="org.acme.Order"&gt;
    &lt;no-sql/&gt;
    ...
    &lt;many-to-one name="customer"&gt;
        &lt;join-field name="customerId"/&gt;
    &lt;/many-to-one&gt;
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref175" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Mappings"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL/Mappings`</p>
</li>
<li>
<p><a href="#BEIFHJJE">"@JoinFields"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BEIFHJJE"></a><a id="TLJPA433"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="joinfields"><a class="anchor" href="#joinfields"></a>@JoinFields</h3>
<div class="paragraph">
<p>Use <code>@JoinFields</code> to define a set of <code>@JoinField</code> annotations on a
relationship.</p>
</div>
<div id="sthref176" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEIBIGIJ">Table 2-30</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA434"></a><a id="sthref177"></a><a id="BEIBIGIJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-30 @JoinFields Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`JoinField[]`J</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of join fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref178" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CIHCAFEI">"@JoinField"</a> for an example of using the <code>@Index</code>
annotation.</p>
</div>
<div id="sthref179" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CIHCAFEI">"@JoinField"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BEHBBCDB"></a><a id="TLJPA435"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="mapkeyconvert"><a class="anchor" href="#mapkeyconvert"></a>@MapKeyConvert</h3>
<div class="paragraph">
<p>Use <code>@MapKeyConvert</code> to specify a named converter to be used with the
corresponding mapped attribute key column.</p>
</div>
<div id="sthref180" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEHBBBEH">Table 2-31</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA436"></a><a id="sthref181"></a><a id="BEHBBBEH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-31 @MapKeyConvert Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Name of the converter to use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>serialized</code></p>
</li>
<li>
<p><code>class-instance</code></p>
</li>
<li>
<p><code>none</code></p>
</li>
<li>
<p>custom converter</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
</tbody>
</table>
<div id="sthref182" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use <code>@MapKeyConvert</code> to convert the key value used in a <code>@MapKeyColumn</code>
to have a different type or value than the database column.</p>
</div>
<div class="paragraph">
<p>The <code>@MapKeyConvert</code> annotation has the following reserved names:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>serialized</code>: Will use a <code>SerializedObjectConverter</code> on the associated
mapping. When using a <code>SerializedObjectConverter</code> the database
representation is a binary field holding a serialized version of the
object and the object-model representation is a the actual object</p>
</li>
<li>
<p><code>class-instance</code>: Will use an ClassInstanceConverter on the associated
mapping. When using a ClassInstanceConverter the database representation
is a String representing the Class name and the object-model
representation is an instance of that class built with a no-args
constructor</p>
</li>
<li>
<p><code>none</code> - Will place no converter on the associated mapping. This can
be used to override a situation where either another converter is
defaulted or another converter is set.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you do not use one of these reserved names, you must define a custom
converter, using the <code>@Converter</code> annotation.</p>
</div>
<div id="sthref183" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEHEHJJC">Example 2-56</a> shows using a <code>@MapKeyConvert</code> annotation
to apply a converter to a map&#8217;s key.</p>
</div>
<div class="paragraph">
<p><a id="BEHEHJJC"></a><a id="TLJPA437"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-56 Using @MapKeyConvert Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
public class Entity
 …
    @ElementCollection
    @MapKeyColumn(name=”BANK”)
    @Column(name=”ACCOUNT”)
    @Convert(”Long2String”)
    @MapKeyConvert(”CreditLine”)
    public Map&lt;String,Long&gt; getCreditLines() {
        return creditLines;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BEHCFGDH">Example 2-57</a> shows how to use the <code>&lt;map-key-convert&gt;</code>
element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BEHCFGDH"></a><a id="TLJPA438"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-57 Using &lt;map-key-convert&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;element-collection name="creditLines"&gt;
  &lt;map-key-convert&gt;CreditLine&lt;/map-key-convert&gt;
  &lt;map-key-column name="BANK"/&gt;
  &lt;column name="ACCOUNT"/&gt;
  &lt;convert&gt;Long2String&lt;/convert&gt;
  &lt;object-type-converter name="CreditLine"&gt;
    &lt;conversion-value data-value="RBC" object-value="RoyalBank"/&gt;
    &lt;conversion-value data-value="CIBC" object-value="CanadianImperial"/&gt;
    &lt;conversion-value data-value="SB" object-value="Scotiabank"/&gt;
    &lt;conversion-value data-value="TD" object-value="TorontoDominion"/&gt;
  &lt;/object-type-converter&gt;
  &lt;type-converter name="Long2String" data-type="String" object-type="Long"/&gt;
  &lt;collection-table name="EMP_CREDITLINES"&gt;
    &lt;join-column name="EMP_ID"/&gt;
  &lt;/collection-table&gt;
&lt;/element-collection&gt;</code></pre>
</div>
</div>
<div id="sthref184" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDEHJEB">"@Converter"</a></p>
</li>
<li>
<p><a href="#BEHGJHCD">"@Convert"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABIEJGD"></a><a id="TLJPA707"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="multitenant"><a class="anchor" href="#multitenant"></a>@Multitenant</h3>
<div class="paragraph">
<p>The <code>@Multitenant</code> annotation specifies that a given entity is shared
among multiple tenants of an application. The multitenant type specifies
how the data for these entities are to be stored on the database for
each tenant. Multitenancy can be specified at the entity or mapped
superclass level.</p>
</div>
<div id="sthref185" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGJGDC">Table 2-32</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA708"></a><a id="sthref186"></a><a id="CHDGJGDC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-32 @Multitenant Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean includeCriteria</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates if the database requires the
tenant criteria to be added to the <code>SELECT</code>, <code>UPDATE</code>, and <code>DELETE</code>
queries.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MultitenantType value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the multitenant strategy to use:
<code>SINGLE_TABLE</code>, <code>TABLE_PER_TENANT</code>, or <code>VPD</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SINGLE_TABLE</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref187" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>To use the <code>@Multitenant</code> annotation, include the annotation with an
<code>@Entity</code> or <code>@MappedSuperclass</code> annotation. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Multitenant
...
public class Employee() {
  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Three types of multitenancy are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABICDGI">Single-Table Multitenancy</a></p>
</li>
<li>
<p><a href="#BABEGBIJ">Table-Per-Tenanat Multitenancy</a></p>
</li>
<li>
<p><a href="#CHDBFBGI">VPD Multitenancy</a></p>
</li>
</ul>
</div>
<div id="sthref188" class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEHCGI">Example 2-58</a> shows a simple example of a <code>@Multitenant</code>
annotation. In this example, the <strong>Player</strong> entity has rows for multiple
tenants stored in its default <code>PLAYER</code> table and that the default
<code>TENANT_ID</code> column is used as a discriminator along with the default
context property <code>eclipselink.tenant-id</code>.</p>
</div>
<div class="paragraph">
<p><a id="BABEHCGI"></a><a id="TLJPA54008"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-58 Minimal @Multitenant Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Multitenant
public class Player  {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To have your application use a shared <code>EntityManagerFactory</code> and have
the <code>EntityManager</code> be tenant specific, your runtime code might be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">Map&lt;String, Object&gt; emProperties = new HashMap&lt;String, Object&gt;();

emProperties.set("eclipselink.tenant-id", "HTHL");

EntityManager em = emf.createEntityManager(emProperties);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Review <a href="#BABICDGI">"Single-Table Multitenancy"</a>,
<a href="#BABEGBIJ">"Table-Per-Tenanat Multitenancy"</a>, and
<a href="#CHDBFBGI">"VPD Multitenancy"</a> for more detailed examples.</p>
</div>
<div class="paragraph">
<p><a id="BABICDGI"></a><a id="TLJPA709"></a></p>
</div>
<hr>
<div class="sect3">
<h4 id="single-table-multitenancy"><a class="anchor" href="#single-table-multitenancy"></a>Single-Table Multitenancy</h4>
<div class="paragraph">
<p>The <code>SINGLE_TABLE</code> multitenant type specifies that any table to which an
entity or mapped superclass maps can include rows for multiple tenants.
Access to tenant-specific rows is restricted to the tenant.</p>
</div>
<div class="paragraph">
<p>Tenant-specific rows are associated with the tenant by using tenant
discriminator columns. The discriminator columns are used with
application context values to limit what a persistence context can
access.</p>
</div>
<div class="paragraph">
<p>The results of queries on the mapped tables are limited to the tenant
discriminator value(s) provided as property values. This applies to all
insert, update, and delete operations on the table. When multitenant
metadata is applied at the mapped superclass level, it is applied to all
subentities unless they specify their own multitenant metadata.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the context of single-table multitenancy, ”single-table” means
multiple tenants can share a single table, and each tenant&#8217;s data is
distinguished from other tenants' data via the discriminator column(s).
It is possible to use multiple tables with single-table multitenancy;
but in that case, an entity&#8217;s persisted data is stored in multiple
tables (<code>Table</code> and <code>SecondaryTable</code>), and multiple tenants can share
all the tables.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information how to use tenant discriminator columns to
configure single-table multitenancy, see
<a href="#CHECIDGH">"@TenantDiscriminatorColumn"</a>.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA710"></a><a id="sthref189"></a></p>
</div>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>The following example uses <code>@Multitenant</code>, <code>@TenantDiscriminatorColumn</code>,
and a context property to define single-table multitenancy on an entity:</p>
</div>
<div id="TLJPA711" class="paragraph">
<p><strong><em>Example 2-59 Example Using @Multitenant</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name=”EMP”)
@Multitenant(SINGLE_TABLE)
@TenantDiscriminatorColumn(name = ”TENANT_ID”,
   contextProperty = "employee-tenant.id")</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example uses the <code>&lt;multitenant&gt;</code> element to specify a
minimal single-table multitenancy. <code>SINGLE_TABLE</code> is the default value
and therefore does not have to be specified.</p>
</div>
<div id="TLJPA712" class="paragraph">
<p><strong><em>Example 2-60 Example Using &lt;multitenant&gt;</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="model.Employee"&gt;
  &lt;multitenant/&gt;
  &lt;table name="EMP"/&gt;
  ...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="BABEGBIJ"></a><a id="TLJPA713"></a></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="table-per-tenanat-multitenancy"><a class="anchor" href="#table-per-tenanat-multitenancy"></a>Table-Per-Tenanat Multitenancy</h4>
<div class="paragraph">
<p>The <code>TABLE_PER_TENANT</code> multitenant type specifies that the table(s)
(<code>Table</code> and <code>SecondaryTable</code>) for an entity are tenant-specific tables
based on the tenant context.. Access to these tables is restricted to
the specified tenant. Relationships within an entity that use a join or
collection table are also assumed to exist within that context.</p>
</div>
<div class="paragraph">
<p>As with other multitenant types, table-per-tenant multitenancy can be
specified at the entity or mapped superclass level. At the entity level,
a tenant context property must be provided on each entity manager after
a transaction has started.</p>
</div>
<div class="paragraph">
<p>Table-per-tenant entities can be mixed with other multitenant-type
entities within the same persistence unit.</p>
</div>
<div class="paragraph">
<p>All read, insert, update, and delete operations for the tenant apply
only to the tenant&#8217;s table(s).</p>
</div>
<div class="paragraph">
<p>Tenants share the same server session by default. The table-per-tenant
identifier must be set or updated for each entity manager. ID generation
is assumed to be unique across all the tenants in a table-per-tenant
strategy.</p>
</div>
<div class="paragraph">
<p>To configure table-per-tenant multitenancy, you must specify:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A table-per-tenant property to identify the user. This can be set per
entity manager, or it can be set at the entity manager factory to
isolate table-per-tenant per persistence unit.)</p>
</li>
<li>
<p>A tenant table discriminator to identify and isolate the tenant&#8217;s
tables from other tenants' tables. The discriminator types are <code>SCHEMA</code>,
<code>SUFFIX</code>, and <code>PREFIX</code>. For more information about tenant discriminator
types, see <a href="#CHDFJJEC">"@TenantTableDiscriminator"</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="TLJPA714"></a><a id="sthref192"></a></p>
</div>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>The following example shows the <code>@Multitenant</code> annotation used to define
table-per-tenant multitenancy on an entity.
<code>@TenantTableDiscriminator(SCHEMA)</code> specifies that the discriminator
table is identified by schema.</p>
</div>
<div id="TLJPA715" class="paragraph">
<p><strong><em>Example 2-61 Example Using @Multitenant with
@TenantTableDiscriminator</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name=”EMP”)
@Multitenant(TABLE_PER_TENANT)
@TenantTableDiscriminator(SCHEMA)
public class Employee {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows the <code>&lt;multitenant&gt;</code> element and the
<code>&lt;tenant-table-discriminator&gt;</code> elements used to define a minimal
table-per-tenant multitenancy.</p>
</div>
<div id="TLJPA716" class="paragraph">
<p><strong><em>Example 2-62 Example Using &lt;multitenant&gt; with
&lt;tenant-table-discriminator&gt;</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="Employee"&gt;
  &lt;multitenant type="TABLE_PER_TENANT"&gt;
    &lt;tenant-table-discriminator type="SCHEMA"/&gt;
  &lt;/multitenant&gt;
  &lt;table name="EMP"&gt;
  ...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="CHDBFBGI"></a><a id="TLJPA717"></a></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="vpd-multitenancy"><a class="anchor" href="#vpd-multitenancy"></a>VPD Multitenancy</h4>
<div class="paragraph">
<p>The <code>VPD</code> (Virtual Private Database) multitanancy type specifies that
the database handles the tenant filtering on all SELECT, UPDATE and
DELETE queries. To use this type, the platform used with the persistence
unit must support VPD.</p>
</div>
<div class="paragraph">
<p>To use EclipseLink VPD multitenancy, you must first configure VPD in the
database and then specify multitenancy on the entity or mapped
superclass, using <code>@Multitenant</code> and <code>@TenantDiscriminatorColumn</code>:</p>
</div>
<div class="paragraph">
<p><a id="TLJPA718"></a><a id="sthref195"></a></p>
</div>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIEFCF">Example 2-63</a> shows VPD multitenancy defined on an
entity. As noted above, VPD in the database must also be configured to
enable VPD multitenancy. In this case, the VPD database was configured
to use the USER_ID column to restrict access to specified rows by
specified clients. Therefore, <code>USER_ID</code> is also specified as the tenant
discriminator column for the EclipseLink multitenant operations.</p>
</div>
<div class="paragraph">
<p><a id="CHDIEFCF"></a><a id="TLJPA719"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-63 Example Using @Multitenant(VPD)</em></strong></p>
</div>
<div class="paragraph">
<p>The following example shows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn"></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Multitenant(VPD)
@TenantDiscriminatorColumn(name = "USER_ID", contextProperty = "tenant.id")
@Cacheable(false)

public class Task implements Serializable {
...
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows&#8230;&#8203;</p>
</div>
<div id="TLJPA720" class="paragraph">
<p><strong><em>Example 2-64 Example Using &lt;multitenant&gt;</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="model.Employee"&gt;
  &lt;multitenant type="VPD"&gt;
    &lt;tenant-discriminator-column name="USER_ID" context-property="tenant.id"/&gt;
  &lt;/multitenant&gt;
  &lt;table name="EMPLOYEE"/&gt;
  ...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref197" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHECIDGH">"@TenantDiscriminatorColumn"</a></p>
</li>
<li>
<p><a href="#CECBEBEA">"@TenantDiscriminatorColumns"</a></p>
</li>
<li>
<p>"Using Multitenancy" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>Multitenant Examples at
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Multitenant" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Multitenant</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDIFIJF"></a><a id="TLJPA454"></a></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="mutable"><a class="anchor" href="#mutable"></a>@Mutable</h3>
<div class="paragraph">
<p>Use <code>@Mutable</code> on a <code>@Basic</code> mapping to specify if the value of a
complex field type can be <em>changed</em> (or not changed) instead of being
<em>replaced</em>. Mutable mappings may affect the performance of change
tracking; attribute change tracking can only be weaved with non-mutable
mappings.</p>
</div>
<div id="sthref198" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDHGFD">Table 2-33</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA455"></a><a id="sthref199"></a><a id="CHDDHGFD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-33 @Mutable Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specifies if the mapping is mutable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
<div id="sthref200" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Most basic types (such as <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>, <code>String</code>,
and <code>BigDecimal</code>) are not mutable.</p>
</div>
<div class="paragraph">
<p>By default, <code>Date</code> and <code>Calendar</code> types are assumed to be not mutable.
To make these types mutable, use the <code>@Mutable</code> annotation. You can also
use the global persistence property <code>eclipselink.temporal.mutable</code> to
set the mappings as mutable.</p>
</div>
<div class="paragraph">
<p>By default, serialized types are assumed to be mutable. You can set the
<code>@Mutable</code> annotation to <code>false</code> to make these types not mutable.</p>
</div>
<div class="paragraph">
<p>You can also configure mutable mappings for <code>Date</code> and <code>Calendar</code> fields
in the persistence unit in the <code>persistence.xml</code> file.</p>
</div>
<div id="sthref201" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDJJEE">Example 2-65</a> shows how to use the <code>@Mutable</code> annotation
to specify <code>Employee</code> field <code>hireDate</code>.</p>
</div>
<div class="paragraph">
<p><a id="CHDDJJEE"></a><a id="TLJPA456"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-65 Using @Mutable Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
public class Employee implements Serializable {

    ...

    @Temporal(DATE)
    @Mutable
    public Calendar getHireDate() {
        return hireDate;
    }

..
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDCDIBH">Example 2-66</a> shows how to configure mutable mappings in
the persistence unit <code>persistence.xml</code> file or by importing a <code>property</code>
map.</p>
</div>
<div class="paragraph">
<p><a id="CHDCDIBH"></a><a id="TLJPA457"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-66 Specifying Mutable Mappings in persistence.xml</em></strong></p>
</div>
<div class="paragraph">
<p>Using <code>persistence.xml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.temporal.mutable" value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using <code>property</code> map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.TEMPORAL_MUTABLE, "false");</code></pre>
</div>
</div>
<div id="sthref202" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACFGAIC">"Mapping Annotations"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBDHGJE"></a><a id="TLJPA458"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="namedplsqlstoredfunctionqueries"><a class="anchor" href="#namedplsqlstoredfunctionqueries"></a>@NamedPLSQLStoredFunctionQueries</h3>
<div class="paragraph">
<p>Use the <code>@NamedPLSQLStoredFunctionQueries</code> annotation to define multiple
<code>NamedPLSQLStoredFunctionQuery</code> items.</p>
</div>
<div id="sthref203" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHJIIDJ2">Table 2-34</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA459"></a><a id="sthref204"></a><a id="CIHJIIDJ2"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-34 @NamedPLSQLStoredFunctionQueries Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NamedStoredFunctionQuery[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of named stored
procedure query</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref205" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBDHGJE">"@NamedPLSQLStoredFunctionQueries"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDIAEFF"></a><a id="TLJPA54056"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="namedplsqlstoredfunctionquery"><a class="anchor" href="#namedplsqlstoredfunctionquery"></a>@NamedPLSQLStoredFunctionQuery</h3>
<div class="paragraph">
<p>Use the <code>@NamedPLSQLStoredFunctionQuery</code> annotation to define queries
that call Oracle PLSQL stored functions as named queries</p>
</div>
<div id="sthref206" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCHEIG3">Table 2-36</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54057"></a><a id="sthref207"></a><a id="sthref208"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-35 @NamedPLSQLStoredFunctionQuery Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>functionName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the stored function</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The unique name that references this stored function
query</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>returnParamter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The return value of the stored function</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hints</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Query hints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>parameters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The parameters for the stored function</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resultSetMapping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The name of the <code>SQLResultMapping</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref209" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This annotation adds support for complex PLSQL types such as <code>RECORD</code>
and <code>TABLE</code>, that are not accessible from JDBC.</p>
</div>
<div class="paragraph">
<p>You can specify <code>@NamedPLSQLStoredFunctionQuery</code> on an Entity or
MappedSuperclass.</p>
</div>
<div id="sthref210" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDICCEF">Example 2-67</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDICCEF"></a><a id="TLJPA54058"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-67 Using @NamedPLSQLStoredFunctionQuery Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@NamedPLSQLStoredFunctionQuery(
    name="getEmployee",
    functionName="EMP_PKG.GET_EMP",
    returnParameter=@PLSQLParameter(
        name="RESULT",
        databaseType="EMP_PKG.EMP_TABLE"
    )
)
@Embeddable
@Struct(name="EMP_TYPE", fields={"F_NAME", "L_NAME", "SALARY"})
@PLSQLRecord(
    name="EMP_PKG.EMP_REC",
    compatibleType="EMP_TYPE",
    javaType=Employee.class,
    fields={
        @PLSQLParameter(name="F_NAME"),
        @PLSQLParameter(name="L_NAME"),
        @PLSQLParameter(
            name="SALARY",
            databaseType="NUMERIC_TYPE"
        )
    }
)

public class Employee { ...}</code></pre>
</div>
</div>
<div id="sthref211" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Oracle PL/SQL<br>
<code><a href="http://www.oracle.com/technetwork/database/features/plsql/index.html" class="bare">http://www.oracle.com/technetwork/database/features/plsql/index.html</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABJCEJH3"></a><a id="TLJPA465"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="namedplsqlstoredprocedurequeries"><a class="anchor" href="#namedplsqlstoredprocedurequeries"></a>@NamedPLSQLStoredProcedureQueries</h3>
<div class="paragraph">
<p>Use the <code>@NamedPLSQLStoredProcedureQueries</code> annotation to define
multiple <code>NamedPLSQLStoredProcedureQuery</code> items.</p>
</div>
<div id="sthref212" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCHEIG3">Table 2-36</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA466"></a><a id="sthref213"></a><a id="BABCHEIG3"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-36 @NamedPLSQLStoredProcedureQueries Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of named stored procedure query</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref214" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFCGCE">Example 2-68</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABFCGCE"></a><a id="TLJPA467"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-68 Using @NamedPLSQLStoredProcedureQueries Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@NamedPLSQLStoredProcedureQueries({
    @NamedPLSQLStoredProcedureQuery(name="getEmployee",
    functionName="EMP_PKG.GET_EMP",
    parameters={ @PLSQLParameter( name="EMP_OUT", direction=:Direction.OUT, databaseType="EMP_PKG.EMP_REC") } )
    })</code></pre>
</div>
</div>
<div id="sthref215" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBDHGJE2">"@NamedPLSQLStoredProcedureQuery"</a></p>
</li>
<li>
<p>"Stored Procedures" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>Oracle PL/SQL
<code><a href="http://www.oracle.com/technetwork/database/features/plsql/index.html" class="bare">http://www.oracle.com/technetwork/database/features/plsql/index.html</a></code></p>
</li>
<li>
<p>PLSQL Stored Procedure
Examples`http://wiki.eclipse.org/EclipseLink/Examples/JPA/PLSQLStoredFunction`</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBDHGJE2"></a><a id="TLJPA54012"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="namedplsqlstoredprocedurequery"><a class="anchor" href="#namedplsqlstoredprocedurequery"></a>@NamedPLSQLStoredProcedureQuery</h3>
<div class="paragraph">
<p>Use the <code>@NamedPLSQLStoredProcedureQuery</code> annotation to define queries
that call Oracle PLSQL stored procedures as named queries.</p>
</div>
<div id="sthref216" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBEAJEH2">Table 2-37</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54013"></a><a id="sthref217"></a><a id="BGBEAJEH2"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-37 @NamedPLSQLStoredProcedureQuery Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>procedureName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the stored procedure</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The unique name that references this stored
procedure query</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resultClass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The class of the result</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hints</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Query hints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>parameters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The parameters for the stored procedure</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resultSetMapping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The name of the <code>SQLResultMapping</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref218" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This annotation adds support for complex PLSQL types such as <code>RECORD</code>
and <code>TABLE</code>, that are not accessible from JDBC.</p>
</div>
<div class="paragraph">
<p>You can specify <code>@NamedPLSQLStoredProcedureQuery</code> on an Entity,
Embeddable, or MappedSuperclass.</p>
</div>
<div id="sthref219" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBICFEB2">Example 2-69</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="BGBICFEB2"></a><a id="TLJPA54014"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-69 Using @NamedPLSQLStoredProcedureQuery Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@NamedPLSQLStoredProcedureQuery(
    name="getEmployee",
    procedureName="MyStoredProcedure",
    functionName="EMP_PKG.GET_EMP",
    parameters={
        @PLSQLParameter(
            name="EMP_OUT",
            direction=Direction.OUT,
            databaseType="EMP_PKG.EMP_REC"
        )
    }
)
@Embeddable
@Struct(name="EMP_TYPE", fields={"F_NAME", "L_NAME", "SALARY"})
@OracleObject(
    name="EMP_PKG.EMP_REC",
    compatibleType="EMP_TYPE",
    javaType=Employee.class,
    fields={
        @PLSQLParameter(name="F_NAME"),
        @PLSQLParameter(name="L_NAME"),
        @PLSQLParameter(
            name="SALARY",
            databaseType="NUMERIC_TYPE"
        )
    }
)

public class Employee { ...}</code></pre>
</div>
</div>
<div id="sthref220" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Stored Procedures" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>Oracle PL/SQL
<code><a href="http://www.oracle.com/technetwork/database/features/plsql/index.html" class="bare">http://www.oracle.com/technetwork/database/features/plsql/index.html</a></code></p>
</li>
<li>
<p>PLSQL Stored Procedure
Examples`http://wiki.eclipse.org/EclipseLink/Examples/JPA/PLSQLStoredFunction`</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CIHJFFDI"></a><a id="TLJPA54015"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="namedstoredfunctionqueries"><a class="anchor" href="#namedstoredfunctionqueries"></a>@NamedStoredFunctionQueries</h3>
<div class="paragraph">
<p>Use the <code>@NamedStoredFunctionQueries</code> annotation to define multiple
<code>NamedStoredFunctionQuery</code> items.</p>
</div>
<div id="sthref221" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHJIIDJ">Table 2-38</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54016"></a><a id="sthref222"></a><a id="CIHJIIDJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-38 @NamedStoredFunctionQueries Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NamedStoredFunctionQuery[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of named stored
procedure query</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref223" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHBJIHJ">Example 2-70</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="CIHBJIHJ"></a><a id="TLJPA54017"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-70 Using @NamedStoredFunctionQueries Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@NamedStoredFunctionQueries{(
    @NamedStoredFunctionQuery(
        name="StoredFunction_In",
        functionName="StoredFunction_In",
        parameters={
            @StoredProcedureParameter(direction=IN, name="P_IN", queryParameter="P_IN", type=Long.class)
        },
        returnParameter=@StoredProcedureParameter(queryParameter="RETURN", type=Long.class)
    )
)}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To define multiple named stored procedures in the <code>eclipselink-orm.xml</code>
file, create a list of multiple <code>&lt;named-stored-function_query&gt;</code>
elements.</p>
</div>
<div id="sthref224" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABFBIFE">"@NamedStoredFunctionQuery"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABFBIFE"></a><a id="TLJPA461"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="namedstoredfunctionquery"><a class="anchor" href="#namedstoredfunctionquery"></a>@NamedStoredFunctionQuery</h3>
<div class="paragraph">
<p>Use <code>@NamedStoredFunctionQuery</code> to define queries that call stored
functions as named queries.</p>
</div>
<div id="sthref225" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFFDDG">Table 2-39</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA462"></a><a id="sthref226"></a><a id="BABFFDDG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-39 @NamedStoredFunctionQuery Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>functionName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the stored function</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The unique name that references this stored function
query</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>returnParamter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The return value of the stored function</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>callByIndex</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Specifies if the stored function should be called by <strong>index</strong>
or by <strong>name</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If by index, the parameters must be defined in the same order as the
procedure on the database.</p>
</li>
<li>
<p>If by name, you must use the database platform support naming
procedure parameters.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hints</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Query hints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>parameters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The parameters for the stored function</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resultSetMapping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The name of the SQLResultMapping</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref227" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify <code>@NamedStoredFunctionQuery</code> on an Entity or
MappedSuperclass.</p>
</div>
<div id="sthref228" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHABEG">Example 2-71</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABHABEG"></a><a id="TLJPA463"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-71 Using @NamedStoredFunctionQuery Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name="CMP3_ADDRESS")

@NamedStoredFunctionQuery(
  name="StoredFunction_In",
  functionName="StoredFunction_In",
  parameters={
    @StoredProcedureParameter(direction=IN, name="P_IN", queryParameter="P_IN", type=Long.class)
    },
  returnParameter=@StoredProcedureParameter(queryParameter="RETURN", type=Long.class)
  )
public class Address implements Serializable {
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABGJGJJ">Example 2-72</a> shows how to use the
<code>&lt;named-stored-function-query&gt;</code> element in the <code>eclipselink-orm.xml</code>
file.</p>
</div>
<div class="paragraph">
<p><a id="BABGJGJJ"></a><a id="TLJPA464"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-72 Using &lt;named-stored-function-query&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;named-stored-function-query name="StoredFunction_In" procedure-name="StoredFunction_In"&gt;
    &lt;parameter direction="IN" name="P_IN" query-parameter="P_IN" type="Long"/&gt;
&lt;/named-stored-function-query&gt;</code></pre>
</div>
</div>
<div id="sthref229" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CIHJFFDI">"@NamedStoredFunctionQueries"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABJCEJH"></a><a id="TLJPA54018"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="namedstoredprocedurequeries"><a class="anchor" href="#namedstoredprocedurequeries"></a>@NamedStoredProcedureQueries</h3>
<div class="paragraph">
<p>Use the <code>@NamedStoredProcedureQueries</code> annotation to define multiple
<code>NamedStoredProcedureQuery</code> items.</p>
</div>
<div id="sthref230" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCHEIG">Table 2-40</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54019"></a><a id="sthref231"></a><a id="BABCHEIG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-40 @NamedStoredProcedureQueries Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of named stored procedure query</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref232" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABIFCAJ">Example 2-73</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABIFCAJ"></a><a id="TLJPA54020"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-73 Using @NamedStoredProcedureQueries Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name="EMPLOYEE")
@NamedStoredProcedureQueries({
  @NamedStoredProcedureQuery(
    name="ReadEmployeeInOut",
     resultClass=org.eclipse.persistence.testing.models.jpa.customfeatures.Employee.class,
    procedureName="Read_Employee_InOut",
    parameters={
      @StoredProcedureParameter(direction=IN_OUT, name="employee_id_v", queryParameter="ID", type=Integer.class),
      @StoredProcedureParameter(direction=OUT, name="nchar_v", queryParameter="NCHARTYPE", type=Character.class)}
    ),
    @NamedStoredProcedureQuery(
      name="ReadEmployeeCursor",
      resultClass=org.eclipse.persistence.testing.models.jpa.customfeatures.Employee.class,
      procedureName="Read_Employee_Cursor",
      parameters={
        @StoredProcedureParameter(direction=IN, name="employee_id_v", queryParameter="ID", type=Integer.class),
        @StoredProcedureParameter(direction=OUT_CURSOR, queryParameter="RESULT_CURSOR")})
})
public class Employee implements Serializable {</code></pre>
</div>
</div>
<div class="paragraph">
<p>To define multiple named stored procedure queries in the
<code>eclipselink-orm.xml</code> file, simply create a list of multiple
<code>&lt;named-stored-procedure_query&gt;</code> elements.</p>
</div>
<div id="sthref233" class="paragraph">
<p>*
See Also*</p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBGAEFF">"@NamedStoredProcedureQuery"</a></p>
</li>
<li>
<p>"Stored Procedures" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBGAEFF"></a><a id="TLJPA468"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="namedstoredprocedurequery"><a class="anchor" href="#namedstoredprocedurequery"></a>@NamedStoredProcedureQuery</h3>
<div class="paragraph">
<p>Use the <code>@NamedStoredProcedureQuery</code> annotation to define queries that
call stored procedures as named queries.</p>
</div>
<div id="sthref234" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBHHIAB">Table 2-41</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA469"></a><a id="sthref235"></a><a id="BGBHHIAB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-41 @NamedStoredProcedureQuery Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) Unique name that references this stored procedure
query</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>procedureName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) Name of the stored procedure</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>callByIndex</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Specifies if the stored procedure should be called by name.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <strong>true</strong>, the StoredProcedureParameters must be defined in the same
order as the procedure on the database.</p>
</li>
<li>
<p>If <strong>false</strong>, the database platform must support naming procedure
parameters.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hints</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) An array of query hints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>multipleResultSets</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Specifies if the stored procedure returns multiple result
sets.</p>
</div>
<div class="paragraph">
<p>This applies only for databases that support multiple result sets from
stored procedures.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>parameters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) An array of parameters for the stored
procedure</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resultClass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The class of the result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resultSetMapping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Name of the <code>SQLResultMapping</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>returnsResultSet</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Specifies if the stored procedure retainers a result set.</p>
</div>
<div class="paragraph">
<p>This applies only for databases that support result sets from stored
procedures.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref236" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify <code>@NamedStoredProcedureQuery</code> on an Entity or MappedSuper
class.</p>
</div>
<div id="sthref237" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBJBAFD">Example 2-74</a> shows how to use
<code>@NamedStoredProcedureQuery</code> to define a stored procedure.</p>
</div>
<div class="paragraph">
<p><a id="BGBJBAFD"></a><a id="TLJPA470"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-74 Using @NamedStoredProcedureQuery Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@NamedStoredProcedureQuery(name="findAllEmployees", procedureName="EMP_READ_ALL", resultClass=Employee.class, parameters={
    @StoredProcedureParameter(queryParameter="result", name="RESULT_CURSOR", direction=Direction.OUT_CURSOR})
@Entity
public class Employee {
 ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BGBIHIHB">Example 2-75</a> shows how to use the
<code>&lt;named-stored-procedure-query&gt;</code> element in the <code>eclipselink-orm.xml</code>
file.</p>
</div>
<div class="paragraph">
<p><a id="BGBIHIHB"></a><a id="TLJPA471"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-75 Using &lt;named-stored-procedure-query&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;named-stored-procedure-query name="SProcXMLInOut" result-class="Address" procedure-name="SProc_Read_XMLInOut"&gt;
    &lt;parameter direction="IN_OUT" name="address_id_v" query-parameter="ADDRESS_ID" type="Long"/&gt;
    &lt;parameter direction="OUT" name="street_v" query-parameter="STREET" type="String"/&gt;
&lt;/named-stored-procedure-query&gt;</code></pre>
</div>
</div>
<div id="sthref238" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABJCEJH">"@NamedStoredProcedureQueries"</a></p>
</li>
<li>
<p>"Stored Procedures" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Stored Procedures Examples"
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/StoredProcedures" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/StoredProcedures</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDGEFGD"></a><a id="TLJPA472"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="noncacheable"><a class="anchor" href="#noncacheable"></a>@Noncacheable</h3>
<div class="paragraph">
<p>Use <code>@Noncacheable</code> to configure caching behavior for relationships. If
used on a relationship, that relationship <em>will not</em> be cached, even
though the parent Entity may be cached.</p>
</div>
<div id="sthref239" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p>There are no elements for this annotation.</p>
</div>
<div id="sthref240" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Each time EclipseLink retrieves the Entity, the relationship will be
reloaded from the datasource. This may be useful for situations where
caching of relationships is not desired or when using different
EclipseLink cache types and having cached references extends the cache
lifetime of related Entities using a different caching scheme. For
instance Entity A references Entity B, Entity A is Full and Entity B is
Weak. Without removing the caching of the relationsip the Entity B&#8217;s
cache effectively become Full.</p>
</div>
<div id="sthref241" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDEGCI">Example 2-76</a> shows how to use <code>@Noncacheable</code> to create
a protected cache.</p>
</div>
<div class="paragraph">
<p><a id="CHDDEGCI"></a><a id="TLJPA473"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-76 Using @Noncacheable Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Cache(
  isolation=CacheIsolationType.PROTECTED
)
public class Employee {
  @Id
  private long id;
  ...
  @OneToMany(mappedBy="manager")
  @Noncacheable
  private List&lt;Employee&gt; managedEmployees;
  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDDFJCH">Example 2-77</a> shows using the <code>&lt;noncacheable&gt;</code> XML
element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDDFJCH"></a><a id="TLJPA474"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-77 Using &lt;noncacheable&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;?xml version="1.0"?&gt;
&lt;entity-mappings
    xmlns="http://www.eclipse.org/eclipselink/xsds/persistence/orm"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.eclipse.org/eclipselink/xsds/persistence/orm http://www.eclipse.org/eclipselink/xsds/eclipselink_orm_2_4.xsd"
    version="2.4"&gt;
    &lt;entity name="Employee" class="org.acme.Employee" access="FIELD"&gt;
        &lt;cache isolation="PROTECTED"/&gt;
        &lt;attributes&gt;
            &lt;id name= "id"/&gt;
            &lt;one-to-many name="managedEmployees" mapped-by="manager"&gt;
                &lt;noncacheable/&gt;
            &lt;/one-to-many&gt;
        &lt;/attributes&gt;
    &lt;/entity&gt;
&lt;/entity-mappings</code></pre>
</div>
</div>
<div id="sthref242" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Caching"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching`</p>
</li>
<li>
<p>"EclipseLink Caches" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BJEIEBHC"></a><a id="TLJPA475"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="nosql"><a class="anchor" href="#nosql"></a>@NoSql</h3>
<div class="paragraph">
<p>Use <code>@NoSql</code> to specify a non-relational (that is, no SQL) data source.
EclipseLink can map non-relational data to objects and access that data
through JPA.</p>
</div>
<div id="sthref243" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BJEBBCFE">Table 2-42</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA476"></a><a id="sthref244"></a><a id="BJEBBCFE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-42 @NoSql Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dataType</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the entities structure. The purpose of the <code>dataType</code>
depends on the NoSQL platform used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For MongoDB, it is the collection name that the JSON documents are
stored to.</p>
</li>
<li>
<p>For Oracle NoSQL, it is the first part of the major key value.</p>
</li>
<li>
<p>For XML files, it is the file name. and XML messaging, use <code>XML</code>.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dataFormat</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The type structure (data format) in which the data is stored
within the database:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>INDEXED</code> – Maps a class to an array of values.</p>
</li>
<li>
<p><code>MAPPED</code> – Maps a class to a set of nested key/value pairs, a value
can be an embedded map or list.</p>
<div class="paragraph">
<p>Use to map to key/value stores, JSON databases, and other structured
data systems.</p>
</div>
</li>
<li>
<p><code>XML</code> – Maps a class to an XML document.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Use with XML data-stores, XML files, XML messaging systems, and other
XML systems.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XML</p></td>
</tr>
</tbody>
</table>
<div id="sthref245" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>dataFormat</code> depends on the NoSQL platform used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For MongoDB, use <code>MAPPED</code>.</p>
</li>
<li>
<p>For Oracle NoSQL, use <code>MAPPED</code> (for key/value data) or <code>XML</code> (for a
single XML document).</p>
</li>
<li>
<p>For XML files and XML messaging, use <code>XML</code>.</p>
</li>
</ul>
</div>
<div id="TLJPA721" class="paragraph">
<p><strong>Supported Datasources</strong></p>
</div>
<div class="paragraph">
<p>EclipseLink supports several NoSQL and EIS platforms, as well as generic
NoSQL and EIS datasources through the JavaEE Connector Architecture CCI
(Common Client Interface) API. You can also define your own
<code>EISPlatform</code> subclass and JCA adapter</p>
</div>
<div class="paragraph">
<p>EclipseLink supports the following datasources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MongoDB</p>
</li>
<li>
<p>Oracle NoSQL</p>
</li>
<li>
<p>XML Files</p>
</li>
<li>
<p>JMS</p>
</li>
<li>
<p>Oracle AQ</p>
</li>
</ul>
</div>
<div id="sthref246" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BJECFBJG">Example 2-78</a> shows using <code>@NoSql</code> with an XML data
source.</p>
</div>
<div class="paragraph">
<p><a id="BJECFBJG"></a><a id="TLJPA477"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-78 Using @NoSql Annotation with XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@NoSql(dataType="order")
public class Order {
  @Id
  @GeneratedValue
  @Field(name="@id")
  private long id;
  @Basic
  @Field(name="@description")
  private String description;
  @Embedded
  @Field(name="delivery-address")
  private Address deliveryAddress
  @ElementCollection
  @Field(name="orderLines/order-line")
  private List&lt;OrderLine&gt; orderLines;
  @ManyToOne
  @JoinField(name="customer-id")
  private Customer customer;
}

@Embeddable
@NoSql
public class OrderLine {
    @Field(name="@line-number")
    private int lineNumber;
    @Field(name="@item-name")
    private String itemName;
    @Field(name="@quantity")
    private int quantity;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This would produce the following XML data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;order id="4F99702B271B1948027FAF06" description="widget order"&gt;
  &lt;deliveryAddress street="1712 Hasting Street" city="Ottawa" province="ON" postalCode="L5J1H5"/&gt;
  &lt;order-lines&gt;
      &lt;order-line lineNumber="1" itemName="widget A" quantity="5"/&gt;
      &lt;order-line lineNumber="2" itemName="widget B" quantity="1"/&gt;
      &lt;order-line lineNumber="3" itemName="widget C" quantity="2"/&gt;
  &lt;order-lines&gt;
  &lt;customer-id&gt;4F99702B271B1948027FAF08&lt;/customer-id&gt;
&lt;order&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BJECHGJH">Example 2-79</a> shows using <code>@NoSql</code> with a JSON data
source.</p>
</div>
<div class="paragraph">
<p><a id="BJECHGJH"></a><a id="TLJPA722"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-79 Using @NoSql Annotation with JSON</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@NoSql(dataType="orders", dataFormat=DataFormatType.MAPPED)
public class Order {
  @Id
  @GeneratedValue
  @Field(name="_id")
  private long id;
  @Basic
  @Field(name="description")
  private String description;
  @Embedded
  @Field(name="deliveryAddress")
  private Address deliveryAddress
  @ElementCollection
  @Field(name="orderLines")
  private List&lt;OrderLine&gt; orderLines;
  @ManyToOne
  @JoinField(name="customerId")
  private Customer customer;
}

@Embeddable
@NoSql(dataFormat=DataFormatType.MAPPED)
public class OrderLine {
    @Field(name="lineNumber")
    private int lineNumber;
    @Field(name="itemName")
    private String itemName;
    @Field(name="quantity")
    private int quantity;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This would produce the following JSON document:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">{
  "_id": "4F99702B271B1948027FAF06",
  "description": "widget order",
  "deliveryAddress": {
      "street": "1712 Hasting Street",
      "city": "Ottawa",
      "province": "ON",
      "postalCode": "L5J1H5",
  },
  "orderLines": [
      {"lineNumber": "1", "itemName": "widget A", "quantity": "5"},
      {"lineNumber": "2", "itemName": "widget B", "quantity": "1"},
      {"lineNumber": "3", "itemName": "widget C", "quantity": "2"}
  ],
  "customerId": "4F99702B271B1948027FAF08",
}</code></pre>
</div>
</div>
<div id="sthref247" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>@NoSQL
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL</a></code></p>
</li>
<li>
<p>NoSQL Persistence Units
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL/Persistence_Units" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL/Persistence_Units</a></code></p>
</li>
<li>
<p>Examples <code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/NoSQL" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/NoSQL</a></code></p>
</li>
<li>
<p><em>Oracle Coherence Integration Guide for EclipseLink with Coherence
Grid</em></p>
</li>
<li>
<p>"Using Non-SQL Databases" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Using NoSQL Databases" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Using EclipseLink with Nonrelational Databases" in <em>Solutions Guide
for EclispeLink</em></p>
</li>
<li>
<p><a href="#nosqlproperty">"nosql.property"</a></p>
</li>
<li>
<p>EclipseLink Platform Incubator
<code><a href="http://wiki.eclipse.org/EclipseLink/Development/Incubator/Platform" class="bare">http://wiki.eclipse.org/EclipseLink/Development/Incubator/Platform</a></code></p>
</li>
<li>
<p>Supported NoSQL and EIS Datasources
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL/Supported_Data-sources" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL/Supported_Data-sources</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBBDGAI"></a><a id="TLJPA478"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="objecttypeconverter"><a class="anchor" href="#objecttypeconverter"></a>@ObjectTypeConverter</h3>
<div class="paragraph">
<p>The <code>@ObjectTypeConverter</code> annotation specifies an
<code>org.eclipse.persistence.mappings.converters.ObjectTypeConverter</code> that
converts a fixed number of database data value(s) to Java object
value(s) during the reading and writing of a mapped attribute.</p>
</div>
<div id="sthref248" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBDHDHC">Table 2-43</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA479"></a><a id="sthref249"></a><a id="BGBDHDHC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-43 @ObjectTypeConverter Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set this attribute to the <code>String</code> name for your converter.
Ensure that this name is unique across the persistence unit.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dataType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Set this attribute to the type stored in the
database.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code> <sup class="footnote" id="_footnote_disclaimer">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>objectType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Set the value of this attribute to the type
stored on the entity.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code> <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>conversionValues</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the value of this attribute to the array of
conversion values (instances of <code>ConversionValue: String objectValue</code>
and <code>String dataValue</code>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>defaultObjectValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the value of this attribute to the default
object value. Note that this argument is for dealing with legacy data if
the data value is missing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Empty <code>String</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref251" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>EclipseLink also includes <code>@TypeConverter</code> and <code>@StructConverter</code>
converters.</p>
</div>
<div id="sthref252" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBFDFEJ">Example 2-80</a> shows how to use the <code>@ObjectTypeConverter</code>
annotation to specify object converters for the <code>gender</code> field.</p>
</div>
<div class="paragraph">
<p><a id="BGBFDFEJ"></a><a id="TLJPA480"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-80 Using the @ObjectTypeConverter Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">public class Employee implements Serializable{
     ...
     @ObjectTypeConverter (
         name="genderConverter",
         dataType=java.lang.String.class,
         objectType=java.lang.String.class,
         conversionValues={
             @ConversionValue(dataValue="F", objectValue="Female"),
             @ConversionValue(dataValue="M", objectValue="Male")}
     )
     @Convert("genderConverter")
     public String getGender() {
         return gender;
     }
     ...
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use the <code>&lt;object-type-converter&gt;</code> element in the deployment
descriptor as an alternative to using the <code>@ObjectTypeConverter</code>
annotation in the source code, as shown in <a href="#BGBCECGI">Example 2-81</a>.</p>
</div>
<div class="paragraph">
<p><a id="BGBCECGI"></a><a id="TLJPA481"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-81 Using &lt;object-type-converter&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;object-type-converter name="gender-converter" object-type="model.Gender"     data-type="java.lang.String"&gt;
    &lt;conversion-value object-value="Male" data-value="M" /&gt;
    &lt;conversion-value object-value="Female" data-value="F" /&gt;
&lt;/object-type-converter&gt;</code></pre>
</div>
</div>
<div id="sthref253" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"@TypeConverter"</code></p>
</li>
<li>
<p><code>"@StructConverter"</code></p>
</li>
<li>
<p><a href="#CBBJAJCH">"@ConversionValue"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDCHJHF"></a><a id="TLJPA482"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="objecttypeconverters"><a class="anchor" href="#objecttypeconverters"></a>@ObjectTypeConverters</h3>
<div class="paragraph">
<p>Use <code>@ObjectTypeConverters</code> to define multiple <code>ObjectTypeConverter</code>
items.</p>
</div>
<div id="sthref254" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBIIEH">Table 2-44</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA483"></a><a id="sthref255"></a><a id="CHDBIIEH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-44 @ObjectTypeConverters Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ObjectTypeConverter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of <code>@ObjectTypeConverter</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref256" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBGGJB">Example 2-82</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDBGGJB"></a><a id="TLJPA484"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-82 Using @ObjectTypeConverters Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity(name="Employee")
@Table(name="CMP3_FA_EMPLOYEE")
@ObjectTypeConverters({
  @ObjectTypeConverter(
    name="sex",
    dataType=String.class,
    objectType=org.eclipse.persistence.testing.models.jpa.fieldaccess.advanced.Employee.Gender.class,
    conversionValues={
      @ConversionValue(dataValue="F", objectValue="Female"),
      @ConversionValue(dataValue="M", objectValue="Male")
    }
  )
})</code></pre>
</div>
</div>
<div class="paragraph">
<p>To define multiple object type converts in the <code>eclipselink-orm.xml</code>
file, simply create a list of multiple <code>&lt;object-type-converter&gt;</code>
elements.</p>
</div>
<div id="sthref257" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBBDGAI">"@ObjectTypeConverter"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BCGIACHD"></a><a id="TLJPA485"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="optimisticlocking"><a class="anchor" href="#optimisticlocking"></a>@OptimisticLocking</h3>
<div class="paragraph">
<p>Use <code>@OptimisticLocking</code> to specify the type of optimistic locking
EclipseLink should use when updating or deleting entities.</p>
</div>
<div id="sthref258" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCGEDBBI">Table 2-45</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA486"></a><a id="sthref259"></a><a id="BCGEDBBI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-45 @OptimisticLocking Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cascade</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Specify where the optimistic locking policy should cascade
lock. When changing <strong>private owned</strong> and <strong>delete orphan</strong> object,
EclipseLink will update the version.</p>
</div>
<div class="paragraph">
<p>This element is currently only supported with <code>VERSION_COLUMN</code> locking.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selectedColumns</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Specify a list of columns that will be optimistically locked.</p>
</div>
<div class="paragraph">
<p>This element is required when <code>type=SELECTED_COLUMNS</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The type of optimistic locking policy to use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ALL_COLUMNS</code> – EclipseLink compares every field in the table with the
<code>WHERE</code> clause, when performing and update or delete operation.</p>
</li>
<li>
<p><code>CHANGED_COLUMNS</code> – EclipseLink compares only the changed fields in
the <code>WHERE</code> clause when performing an update.</p>
</li>
<li>
<p><code>SELECTED_COLUMNS</code> – EclipseLink compares the selected field in the
<code>WHERE</code> clause when performing and update or delete operation on the
<code>SelectedColumns</code>.</p>
</li>
<li>
<p><code>VERSION_COLUMN</code> – EclipseLink compares a single version number in the
<code>WHERE</code> clause when performing an update.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VERSION_COLUMN</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref260" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify <code>@OptimisticLocking</code> on an Entity or MappedSuperclass.</p>
</div>
<div id="sthref261" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCGJBJFJ">Example 2-83</a> shows how to use the <code>@OptimisticLocking</code>
annotation for all columns</p>
</div>
<div class="paragraph">
<p><a id="BCGJBJFJ"></a><a id="TLJPA487"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-83 Using @OptimisticLocking Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Table(name = "EMPLOYEES")
  @OptimisticLocking(type=OptimisticLockingType.ALL_COLUMNS)
  public class Employee implements Serializable {
      ...
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BCGJBJFJ">Example 2-83</a> shows how to use the <code>&lt;optimistic-locking&gt;</code>
element in the <code>eclipselink-orm.xml</code> file for a single column.</p>
</div>
<div id="TLJPA488" class="paragraph">
<p><strong><em>Example 2-84 Using &lt;optimistic-locking&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity name="Employee" class="my.Employee" access="PROPERTY" change-tracking="DEFERRED"&gt;
...
    &lt;optimistic-locking type="SELECTED_COLUMNS" cascade="false"&gt;
      &lt;selected-column name="id"/&gt;
      &lt;selected-column name="firstName"/&gt;
    &lt;/optimistic-locking&gt;
...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref263" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACGHFJB"></a><a id="TLJPA54101"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="oraclearray"><a class="anchor" href="#oraclearray"></a>@OracleArray</h3>
<div class="paragraph">
<p>Use the <code>@OracleArray</code> annotation to define an Oracle database <code>VARRAY</code>
type, which you can use within PLSQL procedure calls.</p>
</div>
<div id="sthref264" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACCDHDF">Table 2-46</a> describes the annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54102"></a><a id="sthref265"></a><a id="CACCDHDF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-46 @OracleArray Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the <code>VARRAY</code> in the database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nestedType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the database type that the <code>VARRAY</code>
holds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VARCHAR_TYPE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">javaType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The Java <code>Collection</code> class to which the <code>VARRAY</code>
is mapped</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArrayList</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref266" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACFFDHH">Example 2-85</a> shows how to use the <code>@OracleArray</code>
annotation to define a <code>VARRAY</code> type.</p>
</div>
<div class="paragraph">
<p><a id="CACFFDHH"></a><a id="TLJPA54109"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-85 Using the @OracleArray Annoation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@NamedPLSQLStoredFunctionQuery(
name="getEmployee",
functionName="EMP_PKG.GET_EMP",
parameters={
   @PLSQLParameter(
     name="EMP_OUT",
     direction=Direction.OUT,
     databaseType="EMP_PKG.EMP_REC"
     )
   }
)
@Embeddable
@Struct(name="EMP_TYPE", fields={"F_NAME",
"L_NAME","SALARY"})
@OracleArray(
   name="EMP_PKG.EMP_REC",
   nestedType=VARCHAR_TYPE
   javaType=Employee.class,
)
public class Employee{...}</code></pre>
</div>
</div>
<div id="sthref267" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBDHGJE2">"@NamedPLSQLStoredProcedureQuery"</a></p>
</li>
<li>
<p><a href="#CACCIBAB">"@OracleArrays"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACCIBAB"></a><a id="TLJPA54103"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="oraclearrays"><a class="anchor" href="#oraclearrays"></a>@OracleArrays</h3>
<div class="paragraph">
<p><sub>~</sub><sub>~</sub><sub>~</sub><sub>~</sub>~</p>
</div>
<div class="paragraph">
<p>Use the <code>@OracleArrays</code> annotation to define multiple <code>VARRAY</code> types.</p>
</div>
<div id="sthref268" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACBFHJC">Table 2-47</a> describes the annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54104"></a><a id="sthref269"></a><a id="CACBFHJC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-47 @OracleArrays Attribute Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of Oracle <code>VARRAY</code> types</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref270" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CACGHFJB">"@OracleArray"</a> for an example of how to use this
annotation.</p>
</div>
<div id="sthref271" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACGHFJB">"@OracleArray"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACEBEGE"></a><a id="TLJPA54105"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="oracleobject"><a class="anchor" href="#oracleobject"></a>@OracleObject</h3>
<div class="paragraph">
<p>Use the <code>@OracleObject</code> annotation to define an Oracle database <code>OBJECT</code>
type, which you can use within PLSQL procedure calls.</p>
</div>
<div id="sthref272" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACGCCBA">Table 2-48</a> describes the annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54106"></a><a id="sthref273"></a><a id="CACGCCBA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-48 @OracleObject Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the <code>OBJECT</code> type in the database</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">javaType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The Java type to which you want to map the
<code>OBJECT</code> type. This class must be mapped using an <code>@STRUCT</code> annotation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">void</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) Defines the parameter fields in the record type</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref274" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACBHHBD">Example 2-86</a> shows how to use the <code>@OracleObject</code>
annotation to define an Oracle <code>OBJECT</code> type.</p>
</div>
<div class="paragraph">
<p><a id="CACBHHBD"></a><a id="TLJPA54110"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-86 Using the @OracleObject Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@NamedPLSQLStoredFunctionQuery(
name="getEmployee",
functionName="EMP_PKG.GET_EMP",
parameters={
   @PLSQLParameter(
     name="EMP_OUT",
     direction=Direction.OUT,
     databaseType="EMP_PKG.EMP_REC"
     )
   }
)
@Embeddable
@Struct(name="EMP_TYPE", fields={"F_NAME",
"L_NAME","SALARY"})
@OracleObject(
   name="EMP_PKG.EMP_REC",
   javaType=Employee.class,
   fields={
     @PLSQLParameter(name="F_NAME"),
     @PLSQLParameter(name="L_NAME"),
     @PLSQLParameter(
      name="SALARY",
      databaseType="NUMERIC_TYPE"
     )
   }
)
public class Employee{...}</code></pre>
</div>
</div>
<div id="sthref275" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBDHGJE2">"@NamedPLSQLStoredProcedureQuery"</a></p>
</li>
<li>
<p><a href="#CACFFCEE">"@OracleObjects"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACFFCEE"></a><a id="TLJPA54107"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="oracleobjects"><a class="anchor" href="#oracleobjects"></a>@OracleObjects</h3>
<div class="paragraph">
<p>Use the <code>@OracleObjects</code> annotation to define multiple Oracle <code>OBJECT</code>
types.</p>
</div>
<div id="sthref276" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACDICGC">Table 2-49</a> describes the annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54108"></a><a id="sthref277"></a><a id="CACDICGC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-49 @OracleObjects Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of Oracle <code>OBJECT</code> types</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref278" class="ulist">
<ul>
<li>
<p>+
Examples*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="#CACEBEGE">"@OracleObject"</a> for an example of how to use this
annotation.</p>
</div>
<div id="sthref279" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACEBEGE">"@OracleObject"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDDIBJF"></a><a id="TLJPA489"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="ordercorrection"><a class="anchor" href="#ordercorrection"></a>@OrderCorrection</h3>
<div class="paragraph">
<p>Use <code>@OrderCorrection</code> to specify a strategy to use if the order list
read from the database is invalid (for example, it has nulls,
duplicates, negative values, or values greater than or equal to the list
size).</p>
</div>
<div class="paragraph">
<p>To be valid, an order list of <em>n</em> elements must be <code>{0, 1,&#8230;&#8203;, n-1}</code></p>
</div>
<div id="sthref280" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIFBBF">Table 2-50</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA490"></a><a id="sthref281"></a><a id="CHDIFBBF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-50 @OrderCorrection Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Specify a strategy to use if the order list read from the
database is invalid:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EXCEPTION</code></p>
</li>
<li>
<p><code>READ</code></p>
</li>
<li>
<p><code>READ_WRITE</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>READ_WRITE</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref282" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>When using <code>@OrderCorrection</code>, you can specify how EclipseLink should
handle invalid list orders:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EXCEPTION</code> – When <code>OrderCorrectionType=EXCEPTION</code>, EclipseLink will
not correct the list. Instead, EclipseLink will throw a <code>QueryException</code>
with error code <code>QueryException.LIST_ORDER_FIELD_WRONG_VALUE</code></p>
<div class="paragraph">
<p>For example, given the following list of three objects in the database:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">{null, objectA}; {2, objectB}, {5, ObjectC};</code></pre>
</div>
</div>
<div class="paragraph">
<p>When read into the application, EclipseLink will throw an exception.</p>
</div>
</li>
<li>
<p><code>READ</code> – When <code>OrderCorrectionType=READ</code>, EclipseLink corrects the
list read into application, but does not retain any information about
the invalid list order that remains in the database. Although this is
not an issue in read-only uses of the list, if the list is modified and
then saved into the database, the order will most likely differ from the
cache and be invalid.</p>
<div class="paragraph">
<p>The <code>READ</code> mode is used as the default when the mapped attribute is not
a <code>List</code>.</p>
</div>
<div class="paragraph">
<p>For example, given the following list of three objects in the database:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">{null, objectA}; {2, objectB}, {5, ObjectC}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>When read as a list: <code>{objectA, objectB, objectC}</code></p>
</li>
<li>
<p>When adding a new element to the list:
<code>{objectA, objectB, objectC, objectD}</code></p>
</li>
<li>
<p>When saving the updated list to the database:
<code>{null, objectA}, {2, objectB}, {5, objectC}, {3, objectD}</code></p>
</li>
<li>
<p>When reading the list again: <code>{objectA, objectB, objectD, objectC}</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>READ_WRITE</code> – When <code>OrderCorrectionType=READ_WRITE</code>, EclipseLink
corrects the order of the list read into application <em>and</em> remembers the
invalid list order left in the database. If the list is updated and
saved to the database, the order indexes are saved ensuring that the
list order in the data base will be exactly the same as in cache (and
therefore valid).</p>
<div class="paragraph">
<p>The <code>READ_WRITE</code> mode is used as the default when the mapped attribute
is either a <code>List</code> or <code>Vector</code> (that is, it is assignable from the
EclipseLink internal class <code>IndirectList</code>). In JPA, if the mode is not
specified, <code>READ_WRITE</code> is used by default.</p>
</div>
<div class="paragraph">
<p>For example, given the following list of three objects in the database:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">{null, objectA}; {2, objectB}, {5, ObjectC}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>When read as a list: <code>{objectA, objectB, objectC}</code></p>
</li>
<li>
<p>When adding a new element to the list:
<code>{objectA, objectB, objectC, objectD}</code></p>
</li>
<li>
<p>When saving the updated list to the database:
<code>{0, objectA}, {1, objectB}, {2, objectC}, {3, objectD}</code></p>
</li>
<li>
<p>When reading the list again: <code>{objectA, objectB, objectC, objectD}</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="sthref283" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDFIAIE">Example 2-87</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDFIAIE"></a><a id="TLJPA491"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-87 Using @OrderCorrection Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@OrderColumn(name="ORDER_COLUMN")
@OrderCorrection(EXCEPTION)
List&lt;String&gt; designations;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHIFFI">Example 2-88</a> shows how to use this extension in the
<code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDHIFFI"></a><a id="TLJPA54021"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-88 Using &lt;element-collection&gt; in XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;element-collection name="designations"&gt;
    &lt;order-column name="ORDER_COLUMN" correction-type="EXCEPTION"/&gt;
&lt;/element-collection&gt;</code></pre>
</div>
</div>
<div id="sthref284" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACGCEIJ">"Entity Annotations"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDDAHEB"></a><a id="TLJPA492"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="partitioned"><a class="anchor" href="#partitioned"></a>@Partitioned</h3>
<div class="paragraph">
<p>Use <code>@Partitioned</code> to specify a partitioning policy to use for an Entity
or relationship.</p>
</div>
<div id="sthref285" class="ulist">
<ul>
<li>
<p>+
Annotation Elements*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#CHDCJBCE">Table 2-51</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA493"></a><a id="sthref286"></a><a id="CHDCJBCE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-51 @Partitioned Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) Name of the partitioning policy</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref287" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use partitioning to partition the data for a class across multiple
databases or a database cluster (such as Oracle RAC). Partitioning can
provide improved scalability by allowing multiple database machines to
service requests.</p>
</div>
<div class="paragraph">
<p>You can specify <code>@Partitioned</code> on an Entity, relationship, query, or
session/persistence unit.</p>
</div>
<div id="TLJPA497" class="paragraph">
<p><strong>Partitioning Policies</strong></p>
</div>
<div class="paragraph">
<p>To configure data partitioning, use the <code>@Partitioned</code> annotation and
one or more partitioning policy annotations. The annotations for
defining the different kinds of policies are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@HashPartitioning</code>: Partitions access to a database cluster by the
hash of a field value from the object, such as the object&#8217;s ID,
location, or tenant. The hash indexes into the list of connection
pools/nodes. All write or read request for objects with that hash value
are sent to the same server. If a query does not include the hash field
as a parameter, it can be sent to all servers and unioned, or it can be
left to the session&#8217;s default behavior.</p>
</li>
<li>
<p><code>@PinnedPartitioning</code>: Pins requests to a single connection pool/node.
This allows for vertical partitioning.</p>
</li>
<li>
<p><code>@RangePartitioning</code>: Partitions access to a database cluster by a
field value from the object, such as the object&#8217;s ID, location, or
tenant. Each server is assigned a range of values. All write or read
requests for objects with that value are sent to the same server. If a
query does not include the field as a parameter, then it can either be
sent to all server&#8217;s and unioned, or left to the session&#8217;s default
behavior.</p>
</li>
<li>
<p><code>@ReplicationPartitioning</code>: Sends requests to a set of connection
pools/nodes. This policy is for replicating data across a cluster of
database machines. Only modification queries are replicated.</p>
</li>
<li>
<p><code>@RoundRobinPartitioning</code>: Sends requests in a round-robin fashion to
the set of connection pools/nodes. It is for load balancing read queries
across a cluster of database machines. It requires that the full
database be replicated on each machine, so it does not support
partitioning. The data should either be read-only, or writes should be
replicated.</p>
</li>
<li>
<p><code>@UnionPartitioning</code>: Sends queries to all connection pools and unions
the results. This is for queries or relationships that span partitions
when partitioning is used, such as on a <code>ManyToMany</code> cross partition
relationship.</p>
</li>
<li>
<p><code>@ValuePartitioning</code>: Partitions access to a database cluster by a
field value from the object, such as the object&#8217;s location or tenant.
Each value is assigned a specific server. All write or read requests for
objects with that value are sent to the same server. If a query does not
include the field as a parameter, then it can be sent to all servers and
unioned, or it can be left to the session&#8217;s default behavior.</p>
</li>
<li>
<p><code>@Partitioning</code>: Partitions access to a database cluster by a custom
partitioning policy. A PartitioningPolicy class must be provided and
implemented.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Partitioning policies are globally-named objects in a persistence unit
and are reusable across multiple descriptors or queries. This improves
the usability of the configuration, specifically with JPA annotations
and XML.</p>
</div>
<div class="paragraph">
<p>The persistence unit properties support adding named connection pools in
addition to the existing configuration for read/write/sequence. A named
connection pool must be defined for each node in the database cluster.</p>
</div>
<div class="paragraph">
<p>If a transaction modifies data from multiple partitions, JTA should be
used to ensure 2-phase commit of the data. An exclusive connection can
also be configured in the EntityManager to ensure only a single node is
used for a single transaction.</p>
</div>
<div id="TLJPA498" class="paragraph">
<p><strong>Clustered Databases and Oracle RAC</strong></p>
</div>
<div class="paragraph">
<p>Some databases support clustering the database across multiple machines.
Oracle RAC allows for a single database to span multiple different
server nodes. Oracle RAC also supports table and node partitioning of
data. A database cluster allows for any of the data to be accessed from
any node in the cluster. However, it is generally it is more efficient
to partition the data access to specific nodes, to reduce cross node
communication.</p>
</div>
<div class="paragraph">
<p>EclipseLink partitioning can be used in conjunction with a clustered
database to reduce cross node communication, and improve scalability.</p>
</div>
<div class="paragraph">
<p>To use partitioning with a database cluster to following is required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Partition policy should not enable replication, as database cluster
makes data available to all nodes.</p>
</li>
<li>
<p>Partition policy should not use unions, as database cluster returns
the complete query result from any node.</p>
</li>
<li>
<p>A data source and EclipseLink connection pool should be defined for
each node in the cluster.</p>
</li>
<li>
<p>The application&#8217;s data access and data partitioning should be designed
to have each transaction only require access to a single node.</p>
</li>
<li>
<p>Usage of an exclusive connection for an EntityManager is recommended
to avoid having multiple nodes in a single transaction and avoid 2-phase
commit.</p>
</li>
</ul>
</div>
<div id="sthref288" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CEGHAIDJ">Example 2-89</a> shows how to partition Employee data by
location. The two primary sites, <strong>Ottawa</strong> and <strong>Toronto</strong> are each stored
on a separate database. All other locations are stored on the default
database. Project is range partitioned by its ID, as shown in
<a href="#CEGJCEIH">Example 2-90</a>. Each range of ID values are stored on a
different database. The employee/project relationship is an example of a
cross partition relationship. To allow the employees and projects to be
stored on different databases a union policy is used and the join table
is replicated to each database.</p>
</div>
<div class="paragraph">
<p><a id="CEGHAIDJ"></a><a id="TLJPA499"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-89 Using Partitioning</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@IdClass(EmployeePK.class)
@UnionPartitioning(
        name="UnionPartitioningAllNodes",
        replicateWrites=true)
@ValuePartitioning(
        name="ValuePartitioningByLOCATION",
        partitionColumn=@Column(name="LOCATION"),
        unionUnpartitionableQueries=true,
        defaultConnectionPool="default",
        partitions={
            @ValuePartition(connectionPool="node2", value="Ottawa"),
            @ValuePartition(connectionPool="node3", value="Toronto")
        })
@Partitioned("ValuePartitioningByLOCATION")
public class Employee {
    @Id
    @Column(name = "EMP_ID")
    private Integer id;

    @Id
    private String location;
    ...

    @ManyToMany(cascade = { PERSIST, MERGE })
    @Partitioned("UnionPartitioningAllNodes")
    private Collection&lt;Project&gt; projects;
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="CEGJCEIH"></a><a id="TLJPA500"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-90 Using @RangePartitioning</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@RangePartitioning(
        name="RangePartitioningByPROJ_ID",
        partitionColumn=@Column(name="PROJ_ID"),
        partitionValueType=Integer.class,
        unionUnpartitionableQueries=true,
        partitions={
            @RangePartition(connectionPool="default", startValue="0", endValue="1000"),
            @RangePartition(connectionPool="node2", startValue="1000", endValue="2000"),
            @RangePartition(connectionPool="node3", startValue="2000")
        })
@Partitioned("RangePartitioningByPROJ_ID")
public class Project {
    @Id
    @Column(name="PROJ_ID")
    private Integer id;
    ...
}</code></pre>
</div>
</div>
<div id="sthref289" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CEGDCFDA">"@Partitioning"</a></p>
</li>
<li>
<p><a href="#CEGBDBEG">"@HashPartitioning"</a></p>
</li>
<li>
<p><a href="#BCGIIAFB">"@PinnedPartitioning"</a></p>
</li>
<li>
<p><a href="#BABCFDAJ">"@RangePartition"</a></p>
</li>
<li>
<p><a href="#BABJEFJH">"@ReplicationPartitioning"</a></p>
</li>
<li>
<p><a href="#BCGBJGFF">"@RoundRobinPartitioning"</a></p>
</li>
<li>
<p><a href="#BCGEJFAH">"@UnionPartitioning"</a></p>
</li>
<li>
<p><a href="#CEGHFJDJ">"@ValuePartitioning"</a></p>
</li>
<li>
<p>"Data
Partitioning"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Data_Partitioning`</p>
</li>
<li>
<p>Partitioning
Examples`http://wiki.eclipse.org/EclipseLink/Examples/JPA/Partitioning`</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CEGDCFDA"></a><a id="TLJPA495"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="partitioning"><a class="anchor" href="#partitioning"></a>@Partitioning</h3>
<div class="paragraph">
<p>Use <code>@Partitioning</code> to configure a custom <code>PartitioningPolicy</code>.</p>
</div>
<div id="sthref290" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CEGGJJDE">Table 2-52</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA496"></a><a id="sthref291"></a><a id="CEGGJJDE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-52 @Partitioning Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the partition policy. Names must be unique for the
persistence unit.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>partitioningClass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) Full <code>package.class</code> name of a subclass
of <code>PartitioningPolicy</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref292" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Data partitioning allows for an application to scale its data across
more than a single database machine. EclipseLink supports data
partitioning at the Entity level to allow a different set of entity
instances for the same class to be stored in a different physical
database or different node within a database cluster. Both regular
databases and clustered databases are supported. Data can be partitioned
both horizontally and vertically.</p>
</div>
<div class="paragraph">
<p>Partitioning can be enabled on an entity, a relationship, a query, or a
persistence unit.</p>
</div>
<div id="sthref293" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CEGCEIBF">Example 2-91</a> shows a custom partitioning policy.</p>
</div>
<div class="paragraph">
<p><a id="CEGCEIBF"></a><a id="TLJPA54022"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-91 Using @Partitioning Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Partitioning(name="order", partitioningClass=OrderPartitioningPolicy.class)
@public class Order {
    ...
}

public class OrderPartitioningPolicy extends PartitioningPolicy {

    public List&lt;Accessor&gt; getConnectionsForQuery(AbstractSession session, DatabaseQuery query, AbstractRecord arguments) {

        List&lt;Accessor&gt; accessors = new ArrayList&lt;Accessor&gt;(1);
        accessors.add(getAccessor(ACMEPool.leastBusy(), session, query, false));
        return accessors;
    }
}</code></pre>
</div>
</div>
<div id="sthref294" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDDAHEB">"@Partitioned"</a></p>
</li>
<li>
<p><a href="#CEGBDBEG">"@HashPartitioning"</a></p>
</li>
<li>
<p><a href="#BCGIIAFB">"@PinnedPartitioning"</a></p>
</li>
<li>
<p><a href="#BCGCGEIH">"@RangePartitioning"</a></p>
</li>
<li>
<p><a href="#BABJEFJH">"@ReplicationPartitioning"</a></p>
</li>
<li>
<p><a href="#BCGBJGFF">"@RoundRobinPartitioning"</a></p>
</li>
<li>
<p><a href="#BCGEJFAH">"@UnionPartitioning"</a></p>
</li>
<li>
<p><a href="#CEGHFJDJ">"@ValuePartitioning"</a></p>
</li>
<li>
<p><a href="#partitioning">"partitioning"</a></p>
</li>
<li>
<p>"Data Partitioning"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Data_Partitioning" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Data_Partitioning</a></code></p>
</li>
<li>
<p>EclipseLink Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Partitioning" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Partitioning</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BCGIIAFB"></a><a id="TLJPA501"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="pinnedpartitioning"><a class="anchor" href="#pinnedpartitioning"></a>@PinnedPartitioning</h3>
<div class="paragraph">
<p>Use <code>@PinnedPartitionPolicy</code> to pin requests to a single connection
pool, allowing for vertical partitioning (that is, having an entity,
query, or session always access a single database).</p>
</div>
<div id="sthref295" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCGFGBAF">Table 2-53</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA502"></a><a id="sthref296"></a><a id="BCGFGBAF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-53 @PinnedPartitioning Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionPool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connection pool name to which to pin queries</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the partition policy. Names must be unique for the
persistence unit.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref297" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Partition policies are globally named, to allow reuse. You must also set
the partitioning policy with the <code>@Partitioned</code> annotation.</p>
</div>
<div class="paragraph">
<p>You can specify <code>@PinnedPartitioning</code> on an Entity, relationship, query,
or session/persistence unit.</p>
</div>
<div class="paragraph">
<p>The persistence unit properties support adding named connection pools in
addition to the existing configuration for read/write/sequence. A named
connection pool must be defined for each node in the database cluster.</p>
</div>
<div class="paragraph">
<p>If a transaction modifies data from multiple partitions, you should use
JTA ensure proper two-phase commit of the data. You can also configure
an exclusive connection in the EntityManager to ensure that only a
single node is used for a single transaction.</p>
</div>
<div id="sthref298" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CEGHAIDJ">"Using Partitioning"</a> for an example of partitioning
with EclipseLink.</p>
</div>
<div id="sthref299" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Data
Partitioning"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Data_Partitioning`</p>
</li>
<li>
<p><a href="#CHDDAHEB">"@Partitioned"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDDEBEC"></a><a id="TLJPA539"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="plsqlparameter"><a class="anchor" href="#plsqlparameter"></a>@PLSQLParameter</h3>
<div class="paragraph">
<p>Use <code>@PLSQLParameter</code> within a <code>NamedPLSQLStoredProcedureQuery</code> or
<code>PLSQLRecord</code> annotation.</p>
</div>
<div id="sthref300" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDEJEC">Table 2-54</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA540"></a><a id="sthref301"></a><a id="CHDDEJEC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-54 @PLSQLParameter Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The query parameter name</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>direction</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The direction of the stored procedure parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>IN</code> – Input parameter</p>
</li>
<li>
<p><code>IN_OUT</code> – Input and output parameters</p>
</li>
<li>
<p><code>OUT</code> – Output parameter</p>
</li>
<li>
<p><code>OUT_CURSOR</code> – Output cursor</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>databaseType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Database data type for the parameter. This
either one of the type constants defined in <code>OraclePLSQLTypes</code>, or
<code>JDBCTypes</code>, or a custom record or table type name.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>length</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Maximum length of the field value</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Stored procedure parameter name</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optional</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specify if the parameter is required, or
optional and defaulted by the procedure.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scale</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Maximum precision value</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>precision</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Maximum precision value</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref302" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use the <code>@PLSQLParameter</code> annotation to configure the parameter and type
for Oracle PLSQL stored procedures and record types that use extended
PLSQL types instead of regular SQL types. They support <code>PLSQL RECORD</code>,
<code>TABLE</code>, <code>BOOLEAN</code> and other extend PLSQL types.</p>
</div>
<div id="sthref303" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BGBDHGJE2">"@NamedPLSQLStoredProcedureQuery"</a> for an example
using the <code>@PLSQLParameter</code> annotation.</p>
</div>
<div id="sthref304" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBDHGJE2">"@NamedPLSQLStoredProcedureQuery"</a></p>
</li>
<li>
<p><a href="#CHDBGAED">"@PLSQLRecord"</a></p>
</li>
<li>
<p>PLSQL Stored Procedure
Examples`http://wiki.eclipse.org/EclipseLink/Examples/JPA/PLSQLStoredFunction`</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDBGAED"></a><a id="TLJPA54023"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="plsqlrecord"><a class="anchor" href="#plsqlrecord"></a>@PLSQLRecord</h3>
<div class="paragraph">
<p>Use <code>@PLSQLRecord</code> to define a database PLSQL <code>RECORD</code> type for use
within PLSQL procedures.</p>
</div>
<div id="sthref305" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDABDB">Table 2-55</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54024"></a><a id="sthref306"></a><a id="CHDDABDB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-55 @PLSQLRecord Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the table in the database</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compatibileType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) Name of the database <code>OBJECTYPE</code> that
mirror&#8217;s the record&#8217;s structure</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fields</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The fields in the record type</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javaType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The class of the object type. You must map this
class with the <code>@Struct</code> annotation.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref307" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Oracle PLSQL <code>RECORD</code> types are <em>structured</em> database types. Although
JDBC does not provide a mechanism for returning these types, EclipseLink
provides support to translate these types into <code>OBJECT</code> types. You must
create an <code>OBJECT</code> type on the database to mirror the <code>RECORD</code> type and
provide it as the <code>compatibileType</code> in the <code>@PLSQLRecord</code>.</p>
</div>
<div class="paragraph">
<p>You can then map the <code>RECORD</code> to a Java class, map the Java class as an
<code>@Embeddable</code>, use the <code>@Struct</code> annotations to map the Java class to
the <code>OBJECT</code> type that mirrors the <code>RECORD</code> type.</p>
</div>
<div class="paragraph">
<p>You can then call and return the Java class as parameters to the PLSQL
stored procedure query.</p>
</div>
<div id="sthref308" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJJCGF">Example 2-92</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDJJCGF"></a><a id="TLJPA54025"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-92 Using @PLSQLRecord Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@NamedPLSQLStoredFunctionQuery(name="getEmployee", functionName="EMP_PKG.GET_EMP",
    returnParameter=@PLSQLParameter(name="RESULT", databaseType="EMP_PKG.EMP_REC"))
@Embeddable
@Struct(name="EMP_TYPE", fields={"F_NAME", "L_NAME", "SALARY"})
@PLSQLRecord(name="EMP_PKG.EMP_REC", compatibleType="EMP_TYPE", javaType=Employee.class,
    fields={@PLSQLParameter(name="F_NAME"), @PLSQLParameter(name="L_NAME"), @PLSQLParameter(name="SALARY", databaseType="NUMERIC_TYPE")})
public class Employee {
 ...
}</code></pre>
</div>
</div>
<div id="sthref309" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Stored Procedures" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p><a href="#BGBDHGJE2">"@NamedPLSQLStoredProcedureQuery"</a></p>
</li>
<li>
<p><a href="#CHDBGAED4">"@PLSQLRecords"</a></p>
</li>
<li>
<p>Oracle PL/SQL
<code><a href="http://www.oracle.com/technetwork/database/features/plsql/index.html" class="bare">http://www.oracle.com/technetwork/database/features/plsql/index.html</a></code></p>
</li>
<li>
<p>PLSQL Stored Procedure
Examples`http://wiki.eclipse.org/EclipseLink/Examples/JPA/PLSQLStoredFunction`</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDBGAED4"></a><a id="TLJPA54026"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="plsqlrecords"><a class="anchor" href="#plsqlrecords"></a>@PLSQLRecords</h3>
<div class="paragraph">
<p>Use <code>@PLSQLRecords</code> to define multiple <code>PLSQLRecord</code>.</p>
</div>
<div id="sthref310" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDABDB4">Table 2-56</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54027"></a><a id="sthref311"></a><a id="CHDDABDB4"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-56 @PLSQLRecords Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of named PLSQL records</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref312" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CHDBGAED">"@PLSQLRecord"</a> for an example of how to use this
annotation.</p>
</div>
<div id="sthref313" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Stored Procedures" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p><a href="#BGBDHGJE2">"@NamedPLSQLStoredProcedureQuery"</a></p>
</li>
<li>
<p><a href="#CHDBGAED">"@PLSQLRecord"</a></p>
</li>
<li>
<p>Oracle PL/SQL
<code><a href="http://www.oracle.com/technetwork/database/features/plsql/index.html" class="bare">http://www.oracle.com/technetwork/database/features/plsql/index.html</a></code></p>
</li>
<li>
<p>PLSQL Stored Procedure
Examples`http://wiki.eclipse.org/EclipseLink/Examples/JPA/PLSQLStoredFunction`</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACJBHHF"></a><a id="TLJPA54111"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="plsqltable"><a class="anchor" href="#plsqltable"></a>@PLSQLTable</h3>
<div class="paragraph">
<p>Use the <code>@PLSQLTable</code> annotation to define a database PLSQL <code>TABLE</code>
type, which you can use within PLSQL procedure calls.</p>
</div>
<div id="sthref314" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACBGCAJ">Table 2-57</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54112"></a><a id="sthref315"></a><a id="CACBGCAJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-57 @PLSQLTable Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the table type in the database</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">compatibilityType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the database <code>VARRAY</code> type
that mirrors the structure of the table. The table is converted to and
from this type so that it can be passed through JDBC.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nestedType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The type of table, e.g. <code>TABLE</code> of <code>EMP_REC</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VARCHAR_TYPE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">javaType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The Java <code>Collection</code> class to which the <code>VARRAY</code>
is mapped. This class can be any valid <code>Collection</code> implementation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ArrayList</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">isNestedTable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Indicates a non-associative (nested) table.
Typically, you use this method when generating a constructor for the
collection in PL/SQL; the constructors for associative (<code>VARRAY</code>) arrays
and non-associative (nested) tables differ.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref316" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div id="TLJPA54113" class="paragraph">
<p><strong><em>Example 2-93 Using the @PLSQLTable Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Named PLSQLStoredProcedureQuery(
name="getEmployee",
functionName="EMP_PKG.GET_EMP",
parameters={
   @PLSQLParamter(
     name="EMP_OUT",
     direction=Direction.OUT,
     databaseType="EMP_TABLE"
     )
   }
)
@Embeddable
@Struct(name="EMP_TYPE", fields={"F_NAME",
"L_NAME", "SALARY"})
@PLSQLTable(
   name="EMP_PKG.EMP_TABLE",
   compatibilityType="EMP_VARRAY",
   nestedType="EMP_REC"
)
public class Employee{...}</code></pre>
</div>
</div>
<div id="sthref318" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBDHGJE2">"@NamedPLSQLStoredProcedureQuery"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACCBFBC"></a><a id="TLJPA54114"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="plsqltables"><a class="anchor" href="#plsqltables"></a>@PLSQLTables</h3>
<div class="paragraph">
<p>Use the <code>@PLSQLTables</code> annotation to define mutiple PLSQL tables.</p>
</div>
<div id="sthref319" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACCJCAH">Table 2-58</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54115"></a><a id="sthref320"></a><a id="CACCJCAH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-58 @PLSQLTables Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of named PLSQL tables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref321" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CACJBHHF">"@PLSQLTable"</a> for examples of how to use this
annotation.</p>
</div>
<div id="sthref322" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACJBHHF">"@PLSQLTable"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGEBBFJE"></a><a id="TLJPA503"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="primarykey"><a class="anchor" href="#primarykey"></a>@PrimaryKey</h3>
<div class="paragraph">
<p>Use <code>@PrimaryKey</code> to allow advanced configuration of the ID.</p>
</div>
<div class="paragraph">
<p>A validation policy can be given that allows specifying if zero is a
valid ID value. The set of primary key columns can also be specified
precisely.</p>
</div>
<div id="sthref323" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGEBGEAB">Table 2-59</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA504"></a><a id="sthref324"></a><a id="BGEBGEAB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-59 @PrimaryKey Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cacheKeyType</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Configures the cache key type to store the object in the
cache. This type can be the basic ID value for simple singleton IDs or
an optimized CachedId type. This element can take the following values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ID_VALUE</code> – This value can only be used for simple singleton Ids,
suchas long/int/String. This is the default for simple singleton IDs.</p>
</li>
<li>
<p><code>CACHE_ID</code> – Optimized cache key type that allows composite and
complex values. This is the default for composite or complex IDs.</p>
</li>
<li>
<p><code>AUTO</code> – The cache key type is automatically configured depending on
what is optimial for the class.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AUTO</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>columns</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Directly specifies the primary key columns. This
can be used instead of <code>@Id</code> if the primary key includes a non basic
field, such as a foreign key, or a inheritance discriminator, embedded,
or transformation mapped field.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>validation</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Configures what ID validation is done:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NULL</code> – EclipseLink interprets zero values as zero. This permits
primary keys to use a value of zero.</p>
</li>
<li>
<p><code>ZERO</code> (default) – EclipseLink interprets zero as null.</p>
</li>
<li>
<p><code>NEGATIVE</code> – EclipseLink interprets negative values as null.</p>
</li>
<li>
<p><code>NONE</code> – EclipseLink does not validate the ID value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default <code>0</code> is not a valid ID value, this can be used to allow 0 ID
values.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ZERO</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref325" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default, EclipseLink interprets zero as <code>null</code> for primitive types
that cannot be null (such as <code>int</code> and <code>long</code>), causing zero to be an
invalid value for primary keys. You can modify this setting by using the
<code>@PrimaryKey</code> annotation to configure an <code>IdValidation</code> for an entity
class. Use the <code>eclipselink.id-validation</code> property to configure an
<code>IdValidation</code> for the entire persistence unit.</p>
</div>
<div class="paragraph">
<p>Setting the <code>validation</code> element also affects how EclipseLink generates
IDs: new IDs are generated only for IDs that are not valid (<code>null</code> or
<code>0</code>, by default); setting to <code>NONE</code> disables ID generation.</p>
</div>
<div id="sthref326" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGEJFGAG">Example 2-94</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="BGEJFGAG"></a><a id="TLJPA505"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-94 Using @PrimaryKey Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@PrimaryKey(validation=IdValidation.ZERO)
public class Employee implements Serializable, Cloneable {
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BGEGDFHI">Example 2-95</a> shows how to use the <code>&lt;primary-key&gt;</code>
element in your <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BGEGDFHI"></a><a id="TLJPA506"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-95 Using @&lt;primary-key&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity name="Employee" class="foo.Employee" access="PROPERTY"&gt;
   &lt;primary-key validation="ZERO"/&gt;
...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref327" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"@Id"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/Id`</p>
</li>
<li>
<p><a href="#idvalidation">"id-validation"</a></p>
</li>
<li>
<p><a href="#CACGCEIJ">"Entity Annotations"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDDDDAI"></a><a id="TLJPA507"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="privateowned"><a class="anchor" href="#privateowned"></a>@PrivateOwned</h3>
<div class="paragraph">
<p>Use <code>@PrivateOwned</code> to specify that a relationship is privately owned;
target object is a dependent part of the source object and is not
referenced by any other object and cannot exist on its own.</p>
</div>
<div id="sthref328" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p>The <code>@PrivateOwned</code> annotation does not have attributes.</p>
</div>
<div id="sthref329" class="ulist">
<ul>
<li>
<p>+
Usage*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Using <code>@PrivateOwned</code> causes many operations to be cascaded across the
relationship including delete, insert, refresh, and lock (when
cascaded). It also ensures that private objects removed from collections
are deleted and that objects added are inserted.</p>
</div>
<div class="paragraph">
<p>You can specify <code>@PrivateOwned</code> on with <code>@OneToOne</code>, <code>@OneToMany</code> and
<code>@VariableOneToOne</code> annotations. Private ownership is implied with the
<code>@BasicCollection</code> and <code>@BasicMap</code> annotations.</p>
</div>
<div class="paragraph">
<p>When the referenced object is privately owned, the referenced child
object cannot exist without the parent object.</p>
</div>
<div id="TLJPA508" class="paragraph">
<p><strong>Additional Information</strong></p>
</div>
<div class="paragraph">
<p>When indicating that a relationship is privately owned, you are
specifying the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the source of a privately owned relationship is deleted, then
EclipseLink will delete the target. This is equivalent of setting
<a href="#CIABIIEB">@CascadeOnDelete</a>.</p>
</li>
<li>
<p>If you remove the reference to a target from a source, then
EclipseLink will delete the target.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Normally, do not configure privately owned relationships on objects that
might be shared. An object should not be the target in more than one
relationship if it is the target in a privately owned relationship.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Referencing a privately owned object may produce undesired effects, as
it is the application&#8217;s responsibility to "clean up" references to the
privately owned object.</p>
</div>
<div class="paragraph">
<p>If the object becomes de-referenced and is deleted, other objects in the
cache that continue to reference the deleted object may cause constraint
violations, they may resurrect the object (if using cascade persist), or
they may simply not reflect what is in the database.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="sthref330" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIAFFA">Example 2-96</a> shows using <code>@PrivateOwned</code> to specify
<code>Employee</code> field <code>phoneNumbers.</code> .</p>
</div>
<div class="paragraph">
<p><a id="CHDIAFFA"></a><a id="TLJPA509"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-96 Using @PrivateOwned Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
 public class Employee implements Serializable {
   ...
   @OneToMany(cascade=ALL, mappedBy="employee")
   @PrivateOwned
   public Collection&lt;PhoneNumber&gt; getPhoneNumbers() {
      return phoneNumbers;
   }
   ...
 }</code></pre>
</div>
</div>
<div id="sthref331" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CIABIIEB">"@CascadeOnDelete"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABJHAFD"></a><a id="TLJPA510"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="properties"><a class="anchor" href="#properties"></a>@Properties</h3>
<div class="paragraph">
<p>Use <code>@Property</code> to specify a single user-defined property on a mapped
attribute or its <code>get</code>/<code>set</code> method. Use the <code>@Properties</code> annotation to
wrap multiple properties.</p>
</div>
<div class="paragraph">
<p>Although not used by EclipseLink, you can specify mapping properties if
an application or extension needs to extend EclipseLink metadata.</p>
</div>
<div id="sthref332" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABIHDFH">Table 2-60</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA511"></a><a id="sthref333"></a><a id="BABIHDFH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-60 @Properties Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of <code>Property</code> elements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div id="sthref334" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify <code>@Property</code> on a mapped attribute (or its <code>get</code>/<code>set</code>
method) within an Entity, MappedSuperclass, or Embeddable class. You can
also specify this annotation on an Entity, MappedSuperclass, or
Embeddable class.</p>
</div>
<div class="paragraph">
<p>Properties defined in MappedSuperclass are passed to all inheriting
Entities and MappedSuperclasses. In case of a conflict, property values
defined directly on a class always override values inherited from a
class&#8217;s parent.</p>
</div>
<div class="paragraph">
<p>When using an <code>orm.xml</code> mapping file, EclipseLink ignores <code>@Property</code>
and <code>@Properties</code> specified in annotations on mapped attributes;
annotations on classes are merged with those specified i the <code>orm.xml</code>
file, with the latter taking precedence in case of conflicts.</p>
</div>
<div id="sthref335" class="ulist">
<ul>
<li>
<p>+
Examples*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#BABHECGF">Example 2-120</a> shows how to use the <code>@Properties</code>
annotation within a <code>@Transformation</code> mapping. <a href="#BABHCBAG">Example
2-121</a> shows how to use the <code>&lt;properties&gt;</code> XML element within the
<code>orm.xml</code> file.</p>
</div>
<div id="sthref336" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBCHEDG">"@Property"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBCHEDG"></a><a id="TLJPA512"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="property"><a class="anchor" href="#property"></a>@Property</h3>
<div class="paragraph">
<p>Use <code>@Property</code> to specify a single user-defined property on a mapped
attribute or its <code>get</code>/<code>set</code> method. Use the <code>@Properties</code> annotation to
wrap multiple properties.</p>
</div>
<div id="sthref337" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBIGFCA">Table 2-61</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA513"></a><a id="sthref338"></a><a id="BGBIGFCA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-61 @Property Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) Name of the property</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) String representation of the property <code>value</code>,
converted to an instance of <code>valueType</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>valueType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Property value type, converted to valueType by
<code>ConversionManager</code>. This must be a simple type that can be handled by
the <code>ConversionManager</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref339" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify <code>@Property</code> on a mapped attribute (or its <code>get</code>/<code>set</code>
method) within an Entity, MappedSuperclass, or Embeddable class. You can
also specify this annotation on an Entity, MappedSuperclass, or
Embeddable class.</p>
</div>
<div class="paragraph">
<p>Properties defined in MappedSuperclass are passed to all inheriting
Entities and MappedSuperclasses. In case of a conflict, property values
defined directly on a class always override values inherited from a
class&#8217;s parent.</p>
</div>
<div class="paragraph">
<p>When using an <code>orm.xml</code> mapping file, EclipseLink ignores <code>@Property</code>
and <code>@Properties</code> annotations on mapped attributes; annotations on
classes are merged with those specified i the <code>orm.xml</code> file, with the
latter taking precedence in case of conflicts.</p>
</div>
<div id="sthref340" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHECGF">Example 2-120</a> shows how to use the <code>@Property</code>
annotation within a <code>@Transformation</code> mapping. <a href="#BABHCBAG">Example
2-121</a> shows how to use the <code>&lt;property&gt;</code> XML element within the
<code>orm.xml</code> file.</p>
</div>
<div id="sthref341" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABJHAFD">"@Properties"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CIHCGHGA"></a><a id="TLJPA514"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="queryredirectors"><a class="anchor" href="#queryredirectors"></a>@QueryRedirectors</h3>
<div class="paragraph">
<p>Use @<code>QueryRedirectors</code> to intercept EclipseLink queries for pre- and
post-processing, redirection, or performing some side effect such as
auditing.</p>
</div>
<div id="sthref342" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHEBJBG">Table 2-62</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA515"></a><a id="sthref343"></a><a id="CIHEBJBG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-62 @QueryRedirectors Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allQueries</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This <code>AllQueries</code> Query Redirector will be applied to any
executing object query that does not have a more precise redirector
(like the <code>ReadObjectQuery</code> Redirector) or a redirector set directly on
the query.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>delete</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Default <code>Delete</code> Object Query Redirector will be applied to
any executing <code>DeleteObjectQuery</code> or <code>DeleteAllQuery</code> that does not have
a redirector set directly on the query.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">insert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Default <code>Insert</code> Query Redirector will be applied to any
executing <code>InsertObjectQuery</code> that does not have a redirector set
directly on the query.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">readAll</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A Default <code>ReadAll</code> Query Redirector will be applied to any executing
<code>ReadAllQuery</code> that does not have a redirector set directly on the
query.</p>
</div>
<div class="paragraph">
<p>For users executing a JPA Query through the <code>getResultList()</code>, API this
is the redirector that will be invoked</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>readObject</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A Default <code>ReadObject</code> Query Redirector will be applied to any executing
<code>ReadObjectQuery</code> that does not have a redirector set directly on the
query.</p>
</div>
<div class="paragraph">
<p>For users executing a JPA Query through the <code>getSingleResult()</code> API or
<code>EntityManager.find()</code>, this is the redirector that will be invoked</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>report</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A Default <code>ReportQuery</code> Redirector will be applied to any executing
<code>ReportQuery</code> that does not have a redirector set directly on the query.</p>
</div>
<div class="paragraph">
<p>For users executing a JPA Query that contains aggregate functions or
selects multiple entities this is the redirector that will be invoked</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>update</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Default <code>Update</code> Query Redirector will be applied to any
executing UpdateObjectQuery or <code>UpdateAllQuery</code> that does not have a
redirector set directly on the query. In EclipseLink an
<code>UpdateObjectQuery</code> is executed whenever flushing changes to the
datasource.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref344" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use <code>@QueryRedirectors</code> to extend the standard EclipseLink query
functionality.</p>
</div>
<div class="paragraph">
<p>You can set a <code>QueryRedirector</code> through the Query Hint
<code>eclipselink.query.redirector</code> or set as a default Redirector on an
Entity.</p>
</div>
<div class="paragraph">
<p><code>QueryRedirectors</code> are used when integrating EclipseLink Grid to
redirect queries to the Coherence grid.</p>
</div>
<div id="sthref345" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHDHIIH">Example 2-97</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="CIHDHIIH"></a><a id="TLJPA516"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-97 Using @QueryRedirectors Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@QueryRedirectors(
    allQueries=org.queryredirectors.AllQueriesForEntity.class)
@Entity
public class
...</code></pre>
</div>
</div>
<div id="sthref346" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Database Queries" in the <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABCFDAJ"></a><a id="TLJPA517"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="rangepartition"><a class="anchor" href="#rangepartition"></a>@RangePartition</h3>
<div class="paragraph">
<p>Use <code>@RangePartition</code> to create a specific range partition for a
connection pool. Values within the range will be routed to the specified
connection pool.</p>
</div>
<div id="sthref347" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCAEJH">Table 2-63</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA518"></a><a id="sthref348"></a><a id="BABCAEJH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-63 @RangePartition Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionPool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The connection pool to which to route queries for the
specified range</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>startValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>String</code> representation of the range start value</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>endValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>String</code> representation of the range end value</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref349" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CEGJCEIH">"Using @RangePartitioning"</a> for an example of
partitioning with EclipseLink.</p>
</div>
<div id="sthref350" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Data
Partitioning"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Data_Partitioning`</p>
</li>
<li>
<p><a href="#CHDDAHEB">"@Partitioned"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BCGCGEIH"></a><a id="TLJPA519"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="rangepartitioning"><a class="anchor" href="#rangepartitioning"></a>@RangePartitioning</h3>
<div class="paragraph">
<p>Use <code>@RangePartitioning</code> to partitions access to a database cluster by a
field value from the object (such as the object&#8217;s ID, location, or
tenant).</p>
</div>
<div class="paragraph">
<p>EclipseLink assigns each server a range of values. All write or read
request for objects with a server&#8217;s value are sent to that specific
server. If a query does not include the field as a parameter, then it
can either be sent to all server&#8217;s and unioned, or left to the session&#8217;s
default behavior.</p>
</div>
<div id="sthref351" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCGHJEBE">Table 2-64</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA520"></a><a id="sthref352"></a><a id="BCGHJEBE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-64 @RangePartitioning Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The name of the partition policy; must be unique for
the persistence unit.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>partitionColumn</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Required) The database column or query parameter to partition queries
by. This is the <em>table column name</em>, not the class attribute name. The
column value must be included in the query and should normally be part
of the object&#8217;s ID.</p>
</div>
<div class="paragraph">
<p>This can also be the name of a query parameter. If a query does not
contain the field the query will not be partitioned.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>partitions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) List of connection pool names to partition
across</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>partitionValueType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the start and end values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unionunpartionableQueries</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines if queries that do not contain the
partition field should be sent to every database and have the result
unioned.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref353" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Partitioning can be enabled on an Entity, relationship, query, or
session/persistence unit.</p>
</div>
<div class="paragraph">
<p>Partition policies are globally named to allow reuse, the partitioning
policy must also be set using the <code>@Partitioned</code> annotation to be used.</p>
</div>
<div class="paragraph">
<p>The persistence unit properties support adding named connection pools in
addition to the existing configuration for read/write/sequence. A named
connection pool must be defined for each node in the database cluster.</p>
</div>
<div class="paragraph">
<p>If a transaction modifies data from multiple partitions, you should use
JTA ensure proper two-phase commit of the data. You can also configure
an exclusive connection in the EntityManager to ensure that only a
single node is used for a single transaction.</p>
</div>
<div id="sthref354" class="paragraph">
<p>*
Examples*</p>
</div>
<div class="paragraph">
<p><a href="#BCGIJGHH">Example 2-98</a> shows how to use the <code>@RangePartitioning</code>
annotation</p>
</div>
<div class="paragraph">
<p><a id="BCGIJGHH"></a><a id="TLJPA521"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-98 Using @RangePartitioning Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name="PART_PROJECT")
@RangePartitioning(
  name="RangePartitioningByPROJ_ID",
  partitionColumn=@Column(name="PROJ_ID"),
  partitionValueType=Integer.class,
  unionUnpartitionableQueries=true,
  partitions={
    @RangePartition(connectionPool="default", startValue="0", endValue="1000"),
    @RangePartition(connectionPool="node2", startValue="1000", endValue="2000"),
    @RangePartition(connectionPool="node3", startValue="2000")
  })
@Partitioned("RangePartitioningByPROJ_ID")
public class Project implements Serializable {
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BCGIJGHH">Example 2-98</a> shows how to use the <code>&lt;range-partitioning&gt;</code>
element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div id="TLJPA522" class="paragraph">
<p><strong><em>Example 2-99 Using &lt;range-partitioning&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity name="Project" class="Project" access="FIELD"&gt;
  &lt;table name="PART_PROJECT"/&gt;
  &lt;range-partitioning name="RangePartitioningByPROJ_ID" partition-value-type="java.lang.Integer" union-unpartitionable-queries="true"&gt;
    &lt;partition-column name="PROJ_ID"/&gt;
    &lt;partition connection-pool="default" start-value="0" end-value="1000"/&gt;
    &lt;partition connection-pool="node2" start-value="1000" end-value="2000"/&gt;
    &lt;partition connection-pool="node3" start-value="2000"/&gt;
  &lt;/range-partitioning&gt;
  &lt;partitioned&gt;RangePartitioningByPROJ_ID&lt;/partitioned&gt;
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref356" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABCFDAJ">"@RangePartition"</a></p>
</li>
<li>
<p><a href="#CHDDAHEB">"@Partitioned"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBGEFBD"></a><a id="TLJPA523"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="readonly"><a class="anchor" href="#readonly"></a>@ReadOnly</h3>
<div class="paragraph">
<p>Use <code>@ReadOnly</code> to specify that a class is read-only.</p>
</div>
<div id="sthref357" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p>This annotation contains no elements.</p>
</div>
<div id="sthref358" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>It may be defined on an Entity or MappedSuperclass.</p>
</div>
<div class="paragraph">
<p>In the case of inheritance, a <code>@ReadOnly</code> annotation can only be defined
on the root of the inheritance hierarchy .</p>
</div>
<div class="paragraph">
<p>You can also use <code>@ReadOnly</code> to bypass EclipseLink&#8217;s persistence context
to save heap space (such as if you need to load a large dataset).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You should not modify read-only entities. Doing so can corrupt the
EclipseLink cache. To modify a read-only entity, it must cloned or
serialized.
</td>
</tr>
</table>
</div>
<div id="sthref359" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBCIIDB">Example 2-100</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="BGBCIIDB"></a><a id="TLJPA524"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-100 Using @ReadOnly Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@ReadOnly
@Entity
@Table(name = "TMP_READONLY")
public class ReadOnlyEntity {
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BGBCBHEE">Example 2-101</a> shows how to use the <code>&lt;read-only&gt;</code> element
in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BGBCBHEE"></a><a id="TLJPA525"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-101 Using &lt;read-only&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity name="XMLReadOnlyClass" class="ReadOnlyClass" access="PROPERTY" read-only="true"&gt;</code></pre>
</div>
</div>
<div id="sthref360" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACGCEIJ">"Entity Annotations"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDGHHBA"></a><a id="TLJPA526"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="readtransformer"><a class="anchor" href="#readtransformer"></a>@ReadTransformer</h3>
<div class="paragraph">
<p>Use <code>@ReadTransformer</code> with Transformation mappings to define the
transformation of the database column values into attribute values
(unless the mapping is write-only).</p>
</div>
<div id="sthref361" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGCGID">Table 2-65</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA527"></a><a id="sthref362"></a><a id="CHDGCGID"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-65 @ReadTransformer Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>method</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mapped class must have a method with this name which
returns a value to be assigned to the attribute (not assigns the value
to the attribute).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">transformerClass</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>User-defined class that implements the
<code>org.eclipse.persistence.mappings.transformers.AttributeTransformer</code>
interface</p>
</div>
<div class="paragraph">
<p>The class will be instantiated, its <code>buildAttributeValue</code> will be used
to create the value to be assigned to the attribute.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You must specify <strong>either</strong> a <code>method</code> or <code>transformerClass</code>, but not
both.
</td>
</tr>
</table>
</div>
<div id="sthref363" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Also unless it&#8217;s a read-only mapping, either <code>@WriteTransformer</code>
annotation or <code>@WriteTransformers</code> annotation should be specified. Each
<code>WriteTransformer</code> defines transformation of the attribute value to a
single database column value (column is specified in the
<code>WriteTransformer</code>).</p>
</div>
<div id="sthref364" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABHECGF">"Using @Transformation Annotation"</a> for an example of
how to use the <code>@WriteTransformer annotation</code> with a Transformation
mapping.</p>
</div>
<div id="sthref365" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABCJGIG">"@Transformation"</a>.</p>
</li>
<li>
<p><a href="#BGBGGAEA">"@WriteTransformer"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABJEFJH"></a><a id="TLJPA528"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="replicationpartitioning"><a class="anchor" href="#replicationpartitioning"></a>@ReplicationPartitioning</h3>
<div class="paragraph">
<p>Use <code>@ReplicationPartitioning</code> to send requests to a set of connection
pools. It is for replicating data across a cluster of database machines.
Only modification queries are replicated.</p>
</div>
<div id="sthref366" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABJICDB">Table 2-66</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA529"></a><a id="sthref367"></a><a id="BABJICDB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-66 @ReplicationPartitioning Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the partition policy; must be unique for the
persistence unit</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionPools</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of connection pool names to replicate across</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All defined pools in the <code>ServerSession</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref368" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Partitioning can be enabled on an Entity, relationship, query, or
session/persistence unit.</p>
</div>
<div class="paragraph">
<p>Partition policies are globally named to allow reuse, the partitioning
policy must also be set using the <code>@Partitioned</code> annotation to be used.</p>
</div>
<div class="paragraph">
<p>The persistence unit properties support adding named connection pools in
addition to the existing configuration for read/write/sequence. A named
connection pool must be defined for each node in the database cluster.</p>
</div>
<div class="paragraph">
<p>If a transaction modifies data from multiple partitions, you should use
JTA ensure proper two-phase commit of the data. You can also configure
an exclusive connection in the EntityManager to ensure that only a
single node is used for a single transaction.</p>
</div>
<div id="sthref369" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CEGHAIDJ">"Using Partitioning"</a> for an example of partitioning
with EclipseLink.</p>
</div>
<div id="sthref370" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Data
Partitioning"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Data_Partitioning`</p>
</li>
<li>
<p><a href="#CHDDAHEB">"@Partitioned"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CIHHEGJE"></a><a id="TLJPA530"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="returninsert"><a class="anchor" href="#returninsert"></a>@ReturnInsert</h3>
<div class="paragraph">
<p>Use <code>@ReturnInsert</code> to cause <code>INSERT</code> operations to return values back
into the object being written. This allows for table default values,
trigger or stored procedures computed values to be set back into the
object.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Returning is only supported with an Oracle Database and requires an
<code>INSERT RETURNING</code> clause.</p>
</div>
<div class="paragraph">
<p>To use returning with other databases, a stored procedure with output
parameters is used for the insert query.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="sthref371" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHIAFFB">Table 2-67</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA531"></a><a id="sthref372"></a><a id="CIHIAFFB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-67 @ReturnInsert Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>returnOnly</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) If specified (true), the mapping field will be
excluded from the <code>INSERT</code> clause during SQL generation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
</tbody>
</table>
<div id="sthref373" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>A <code>@ReturnInsert</code> annotation can only be specified on a <code>Basic</code> mapping.</p>
</div>
<div id="sthref374" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHDFAFD">Example 2-102</a> shows how to use the <code>@ReturnInsert</code>
annotation. If you do not use an argument, EclipseLink accepts the
default value, <code>false</code>.</p>
</div>
<div class="paragraph">
<p><a id="CIHDFAFD"></a><a id="TLJPA532"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-102 Using @ReturnInsert Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@ReturnInsert(returnOnly=true)
 public String getFirstName() {
     return firstName;
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CIHEJAJG">Example 2-103</a> shows how to use the <code>&lt;return-insert&gt;</code>
element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CIHEJAJG"></a><a id="TLJPA533"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-103 Using &lt;return-insert&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;basic name="firstName"&gt;
    &lt;column name="FIRST_NAME"/&gt;
    &lt;return-insert read-only="true"/&gt;
&lt;/basic&gt;</code></pre>
</div>
</div>
<div id="sthref375" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACHDFCF">"@ReturnUpdate"</a></p>
</li>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACHDFCF"></a><a id="TLJPA534"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="returnupdate"><a class="anchor" href="#returnupdate"></a>@ReturnUpdate</h3>
<div class="paragraph">
<p>Use <code>@ReturnUpdate</code> to cause <code>UPDATE</code> operations to return values back
into the object being written. This allows for table default values,
trigger or stored procedures computed values to be set back into the
object.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Returning is only supported with an Oracle Database and requires an
<code>INSERT RETURNING</code> clause.</p>
</div>
<div class="paragraph">
<p>To use returning with other databases, a stored procedure with output
parameters is used for the insert query.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="sthref376" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p>This annotation contains no elements.</p>
</div>
<div id="sthref377" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>A <code>@ReturnUpdate</code> annotation can only be specified on a <code>Basic</code> mapping.</p>
</div>
<div id="sthref378" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACBJIIH">Example 2-104</a> shows how to use the <code>@ReturnUpdate</code>
annotation. The annotation does not accept any arguments.</p>
</div>
<div class="paragraph">
<p><a id="CACBJIIH"></a><a id="TLJPA535"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-104 Using @ReturnUpdate Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@ReturnUpdate
public String getFirstName() {
    return firstName;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CACJIJGE">Example 2-105</a> illustrates the same example as before,
but uses the <code>&lt;return-update&gt;</code> element in the <code>eclipselink-orm.xml</code>
mapping file.</p>
</div>
<div class="paragraph">
<p><a id="CACJIJGE"></a><a id="TLJPA536"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-105 Using &lt;return-update&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;basic name="firstName"&gt;
    &lt;column name="F_NAME"/&gt;
    &lt;return-update/&gt;
&lt;/basic&gt;</code></pre>
</div>
</div>
<div id="sthref379" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CIHHEGJE">"@ReturnInsert"</a></p>
</li>
<li>
<p>Understanding EclipseLink</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BCGBJGFF"></a><a id="TLJPA537"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="roundrobinpartitioning"><a class="anchor" href="#roundrobinpartitioning"></a>@RoundRobinPartitioning</h3>
<div class="paragraph">
<p>Use <code>@RoundRobinPartitioning</code> to send requests in a "round robin"
fashion to the set of connection pools.</p>
</div>
<div id="sthref380" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCGIBFHJ">Table 2-68</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA538"></a><a id="sthref381"></a><a id="BCGIBFHJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-68 @RoundRobinPartitioning Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) Name of the partition policy. Names must be unique
for the persistence unit.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionPools</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) List of connection pool names to load
balance across</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All defined pools in the <code>ServerSession</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>replicateWrite</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) This allows for a set of database to be
written to and kept in sync, and have reads load-balanced across the
databases.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref382" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use the <code>@RoundRobinPartitioning</code> annotation for load-balancing read
queries across a cluster of database machines. Using
<code>@RoundRobinPartitioning</code> requires that the full database be replicated
on each machine.</p>
</div>
<div class="paragraph">
<p>The data should either be read-only, or writes should be replicated on
the database.</p>
</div>
<div class="paragraph">
<p>The persistence unit properties support adding named connection pools in
addition to the existing configuration for read/write/sequence. A named
connection pool must be defined for each node in the database cluster.</p>
</div>
<div class="paragraph">
<p>If a transaction modifies data from multiple partitions, you should use
JTA ensure proper two-phase commit of the data. You can also configure
an exclusive connection in the EntityManager to ensure that only a
single node is used for a single transaction.</p>
</div>
<div id="sthref383" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CHDDAHEB">"@Partitioned"</a> for an example of partitioning with
EclipseLink.</p>
</div>
<div id="sthref384" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Data
Partitioning"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Data_Partitioning`</p>
</li>
<li>
<p><a href="#CHDDAHEB">"@Partitioned"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACDCCIA"></a><a id="TLJPA54059"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="serializedobject"><a class="anchor" href="#serializedobject"></a>@SerializedObject</h3>
<div class="paragraph">
<p>Use an <code>@SerializedObject</code> annotation to set an
<code>org.eclipse.persistence.descriptors.SerializedObjectPolicy</code> instance on
an <code>Entity</code> object or <code>MappedSuperClass</code> object. If a serialized object
policy is specified, a whole entity object is written with its
privately-owned (and nested, privately-owned) entities and element
collections into an additional field in the database.</p>
</div>
<div id="sthref385" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACBBJAE">Table 2-69</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54060"></a><a id="sthref386"></a><a id="CACBBJAE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-69 @SerializedObject Attribute Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>column</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The column that holds the serialized object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLOB
column named SOP in the entity&#8217;s main table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The Class that implements the
` SerializedObjectPolicy` interface</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref387" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use an <code>@SerializedObject</code> annotation to read data from the database
faster. The drawback to this usage is that writing to the database is
slower. Use a serialized object policy for read-only and read-mostly
applications for entities and element collections.</p>
</div>
<div class="paragraph">
<p>If the serialized object column contains <code>null</code> or an obsolete version
of the object, then a query using a serialized object policy would
either throw an exception or, if all other fields have been read as
well, build the object using these fields (exactly as in the case where
a serialized object policy is not used).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Currently, no default implementation of the <code>SerializedObjectPolicy</code>
interface is available. You must provide this class.
</td>
</tr>
</table>
</div>
<div id="sthref388" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACFCAFF">Example 2-106</a> demonstrates how to use the
@SerializedObject annotation to specify a serialized object policy and
how to override the default column name.</p>
</div>
<div class="paragraph">
<p><a id="CACFCAFF"></a><a id="TLJPA54098"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-106 Specifying a Serialized Object Policy</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@SerializedObject(MySerializedPolicy.class);
public class Employee {...

@Entity
@SerializedObject(value = MySerializedObjectPolicy.class, column = @Column(name = "SERIALIZED"));
public class Address (...</code></pre>
</div>
</div>
<div class="paragraph">
<p>If an @SerializedObject annotation is set on an entity object, then read
queries (in addition to find and refresh) that return the object use the
serialized object policy by default.</p>
</div>
<div class="paragraph">
<p><a href="#CACGIGIH">Example 2-107</a> demonstrates how to prevent using the
serialized object policy in a query.</p>
</div>
<div class="paragraph">
<p><a id="CACGIGIH"></a><a id="TLJPA54099"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-107 Preventing the Use of a Serialized Object Policy in a
Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">Query query = em.createQuery("SELECT e FROM Employee e")
.setHint(QueryHints.SERIALIZED_OBJECT, "false");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CACGFBHH">Example 2-108</a> demonstrates how to use a serialized
object policy property to prevent searching for a serialized object. .</p>
</div>
<div class="paragraph">
<p><a id="CACGFBHH"></a><a id="TLJPA54100"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-108 Preventing Search Using a Serialized Object Policy
Property</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">Map hints = new HashMap();
hints.put("eclipselink.serialized-object", "false");
Address address = em.find(Address.class, id, hints);</code></pre>
</div>
</div>
<div id="sthref389" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SerializedObjectPolicy</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDDEBEC6"></a><a id="TLJPA5399"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="storedprocedureparameter"><a class="anchor" href="#storedprocedureparameter"></a>@StoredProcedureParameter</h3>
<div class="paragraph">
<p>Use <code>@StoredProcedureParameter</code> within a <code>NamedStoredProcedureQuery</code>
annotation.</p>
</div>
<div id="sthref390" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDEJEC6">Table 2-70</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54000"></a><a id="sthref391"></a><a id="CHDDEJEC6"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-70 @StoredProcedureParameter Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>queryParameter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The query parameter name</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>direction</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The direction of the stored procedure parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>IN</code> – Input parameter</p>
</li>
<li>
<p><code>IN_OUT</code> – Input and output parameters</p>
</li>
<li>
<p><code>OUT</code> – Output parameter</p>
</li>
<li>
<p><code>OUT_CURSOR</code> – Output cursor</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jdbcType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) JDBC type code. This depends on the type
returned from the procedure.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jdbcTypeName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) JDBC type name. This may be required for
<code>ARRAY</code> or <code>STRUCT</code> types.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Stored procedure parameter name</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optional</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specify if the parameter is required, or
optional and defaulted by the procedure.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Type of Java class desired back from the procedure.
This depends on the <code>type</code> returned from the procedure.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref392" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BGBGAEFF">"@NamedStoredProcedureQuery"</a> for an example using
the <code>@StoredProcedureParameter</code> annotation.</p>
</div>
<div id="sthref393" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBGAEFF">"@NamedStoredProcedureQuery"</a></p>
</li>
<li>
<p>Stored Procedure
Examples`http://wiki.eclipse.org/EclipseLink/Examples/JPA/StoredProcedures`</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CBBDCAHG"></a><a id="TLJPA541"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="struct"><a class="anchor" href="#struct"></a>@Struct</h3>
<div class="paragraph">
<p>Use @Struct to define a class to map to a database <code>Struct</code> type. The
class should normally be an Embeddable, but could also be an Entity if
stored in a object table.</p>
</div>
<div id="sthref394" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBBCGIHG">Table 2-71</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA542"></a><a id="sthref395"></a><a id="CBBCGIHG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-71 @Struct Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The database name of the database structure type</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fields</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Defines the order of the fields contained in the
database structure type.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref396" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p><code>Struct</code> types are extended object-relational data-types supported by
some databases. Struct types are user define types in the database such
as <code>OBJECT</code> types on Oracle. Structs normally contain Arrays (<code>VARRAY</code>)
or other Struct types, and can be stored in a column or a table.</p>
</div>
<div class="paragraph">
<p>You can also use <code>Struct</code> types to call PL/SQL stored procedures that
use <code>RECORD</code> types in an Oracle Database.</p>
</div>
<div id="sthref397" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACCGJAJ">Example 2-109</a> shows using the <code>@Struct</code> annotation to
define a Java class to map to an <code>OBJECT</code> type.</p>
</div>
<div class="paragraph">
<p><a id="CACCGJAJ"></a><a id="TLJPA543"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-109 Using @Struct Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Embeddable
@Struct(name="EMP_TYPE", fields={"F_NAME", "L_NAME", "SALARY"})
public class Employee {
 @Column(name="F_NAME")
 private String firstName;
 @Column(name="L_NAME")
 private String lastName;
 @Column(name="SALARY")
 private BigDecimal salary;
 ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CBBIEDGD">Example 2-110</a> shows how to use the <code>&lt;struct&gt;</code> element in
the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CBBIEDGD"></a><a id="TLJPA544"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-110 Using &lt;struct&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;embeddable class="Address" access="FIELD"&gt;
  &lt;struct name="PLSQL_P_PLSQL_ADDRESS_REC"&gt;
    &lt;field&gt;ADDRESS_ID&lt;/field&gt;
    &lt;field&gt;STREET_NUM&lt;/field&gt;
    &lt;field&gt;STREET&lt;/field&gt;
    &lt;field&gt;CITY&lt;/field&gt;
    &lt;field&gt;STATE&lt;/field&gt;
  &lt;/struct&gt;
  &lt;attributes&gt;
    &lt;basic name="id"&gt;
      &lt;column name="ADDRESS_ID"/&gt;
    &lt;/basic&gt;
    &lt;basic name="number"&gt;
      &lt;column name="STREET_NUM"/&gt;
    &lt;/basic&gt;
  &lt;/attributes&gt;
&lt;/embeddable&gt;</code></pre>
</div>
</div>
<div id="sthref398" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACIJAFA">"@Structure"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBJEBBB"></a><a id="TLJPA545"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="structconverter"><a class="anchor" href="#structconverter"></a>@StructConverter</h3>
<div class="paragraph">
<p>Use <code>@StructConverter</code> to enable custom processing of <code>java.sql.Struct</code>
types to process complex database types, such as spatial datatypes.</p>
</div>
<div class="paragraph">
<p>EclipseLink includes the <code>JGeometryConverter</code> class to convert the
Oracle <code>JGeometry</code> spatial datatype.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Unlike other converters, <code>@StructConverter</code> has its own interface.
</td>
</tr>
</table>
</div>
<div id="sthref399" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABJIBGI">Table 2-72</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA546"></a><a id="sthref400"></a><a id="BABJIBGI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-72 @StructConverter Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>String</code> name for your converter. Ensure that this name is
unique across the persistence unit.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>converter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The converter class as a <code>String</code>. This class must
implement the
<code>org.eclipse.persistence.platform.database.converters.StructConverter</code>
interface.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
</tbody>
</table>
<div id="sthref401" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use the existing <code>@Convert</code> annotation with its value attribute
set to the <code>StructConverter</code> name – in this case, the appropriate
settings are applied to the mapping. This setting is required on all
mappings that use a type for which a <code>StructConverter</code> has been defined.
Failing to configure the mapping with the <code>@Convert</code> will cause an
error.</p>
</div>
<div class="paragraph">
<p>EclipseLink also includes additional converters, such as
<code>@ObjectTypeConverter</code> and <code>@TypeConverter</code>.</p>
</div>
<div id="sthref402" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBJCJCC">Example 2-111</a> shows how to define the <code>@StructConverter</code>
annotation.</p>
</div>
<div class="paragraph">
<p><a id="BGBJCJCC"></a><a id="TLJPA547"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-111 Using @StructConverter Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@StructConverter(
     name="JGeometryConverter"
     converter=JGeometryConverter.class.getName())</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can specify the <code>@StructConverter</code> annotation anywhere in an Entity
with the scope being the whole session. An exception is thrown if you
add more than one <code>StructConverter</code> annotation that affects the same
Java type. An <code>@StructConverter</code> annotation exists in the same
namespaces as <code>@Converter</code>. A validation exception is thrown if you add
an <code>@Converter</code> and an <code>@StructConverter</code> of the same name.</p>
</div>
<div id="sthref403" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDCJCDE">"@StructConverters"</a></p>
</li>
<li>
<p>"Default Conversions and Converters"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Mapping/Basic_Mappings/Default_Conversions_and_Converters/StructConverter" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Mapping/Basic_Mappings/Default_Conversions_and_Converters/StructConverter</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDCJCDE"></a><a id="TLJPA548"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="structconverters"><a class="anchor" href="#structconverters"></a>@StructConverters</h3>
<div class="paragraph">
<p>Use <code>@StructConverters</code> to define multiple <code>@StructConverter</code>
annotations.</p>
</div>
<div id="sthref404" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJDFBJ">Table 2-73</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA549"></a><a id="sthref405"></a><a id="CHDJDFBJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-73 @StructConverters Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StructConverter[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of struct converter</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref406" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHGDGH">Example 2-112</a> shows how to use the <code>@StructConverters</code>
annotation to define multiple <code>@StructConverter</code> elements.</p>
</div>
<div class="paragraph">
<p><a id="CHDHGDGH"></a><a id="TLJPA550"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-112 Using @StructConverters Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@StructConverters{{
  @StructConverter(name="StructConverter1", converter="foo.StructConverter1"),
  @StructConverter(name="StructConverter2", converter="foo.StructConverter2")
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHGABD">Example 2-113</a> shows how to use the <code>&lt;struct-converters&gt;</code>
element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDHGABD"></a><a id="TLJPA551"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-113 Using &lt;struct-converters&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;struct-converters&gt;
  &lt;struct-converter name="StructConverter1" converter="foo.StructConverter1"/&gt;
  &lt;struct-converter name="StructConverter2" converter="foo.StructConverter2"/&gt;
&lt;/struct-converters&gt;</code></pre>
</div>
</div>
<div id="sthref407" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBJEBBB">"@StructConverter"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACIJAFA"></a><a id="TLJPA552"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="structure"><a class="anchor" href="#structure"></a>@Structure</h3>
<div class="paragraph">
<p>Use <code>@Structure</code> on a field/method to define a <code>StructureMapping</code> to an
embedded <code>Struct</code> type. The target Embeddable must be mapped using the
Struct annotation.</p>
</div>
<div id="sthref408" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p>This annotation contains no elements.</p>
</div>
<div id="sthref409" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Struct types are extended object-relational data-types supported by some
databases. Struct types are user define types in the database such as
<code>OBJECT</code> types on Oracle. Structs can normally contains Arrays
(<code>VARRAY</code>) or other Struct types, and can be stored in a column or a
table.</p>
</div>
<div id="sthref410" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACDBBII">Example 2-114</a> shows how to use the <code>@Structure</code>
annotation. See <a href="#CACCGJAJ">Example 2-109</a> to an example of using
<code>@Struct</code> to map the target.</p>
</div>
<div class="paragraph">
<p><a id="CACDBBII"></a><a id="TLJPA553"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-114 Using @Structure Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Structure
protected Address address;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also define structure mappings in the <code>eclipselink-orm.xml</code> file
by using the <code>&lt;structure&gt;</code> element.</p>
</div>
<div id="TLJPA554" class="paragraph">
<p><strong><em>Example 2-115 Using &lt;structure&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;structure name="address"/&gt;</code></pre>
</div>
</div>
<div id="sthref412" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CBBDCAHG">"@Struct"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHECIDGH"></a><a id="TLJPA555"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="tenantdiscriminatorcolumn"><a class="anchor" href="#tenantdiscriminatorcolumn"></a>@TenantDiscriminatorColumn</h3>
<div class="paragraph">
<p>The <code>@TenantDiscriminator</code> annotation is used with the <code>@Multitenant</code>
annotation and the <code>SINGLE-TABLE</code> mulitenant type to limit what a
persistence context can access in single-table mulitenancy.</p>
</div>
<div id="sthref413" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHEIBAFI">Table 2-74</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA556"></a><a id="sthref414"></a><a id="CHEIBAFI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-74 @TenantDiscriminatorColumn Properties</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code> <code>columnDefinition</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The SQL fragment that
is used when generating the DDL for the discriminator column</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
provider-generated SQL to create a column of the specified discriminator
type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code> <code>contextProperty</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The name of the
context property to apply to the tenant discriminator column</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>eclipselink.tenant-id</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DiscriminatorType</code> <code>discriminatorType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The type of
object/column to use as a class discriminator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jakarta.persistence.DiscriminatorType.STRING</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code> <code>length</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The column length for String-based
discriminator types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The column length for String-based discriminator
types. Ignored for other discriminator types.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code> <code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The name of column to be used for
the tenant discriminator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TENANT_ID</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code> <code>primaryKey</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies that the tenant discriminator column
is part of the primary key of the tables.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code> <code>table</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The name of the table that
contains the column</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the table that contains the column. If
absent the column is assumed to be in the primary table. This attribute
must be specified if the column is on a secondary table.</p></td>
</tr>
</tbody>
</table>
<div id="sthref415" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>To configure single-table multi-tenancy, you must specify both of the
following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Annotate the entity or mapped superclass to use single-table
multi-tenancy, using the <code>@Multitenant</code> annotation, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name=”EMP”)
@Multitenant(SINGLE_TABLE)</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>SINGLE_TABLE</code> states that the table or tables (<code>Table</code> and
<code>SecondaryTable</code>) associated with the given entity can be shared among
tenants.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>@Table</code> annotation is not required, because the discriminator
column is assumed to be on the primary table. However, if the
discriminator column is defined on a secondary table, you must identify
that table using <code>@SecondaryTable</code>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Specify the column or columns to be used as the discriminator column,
using the <code>@TenantDiscriminatorColumn</code> annotation, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name=”EMP”)
@Multitenant(SINGLE_TABLE)
@TenantDiscriminatorColumn(name = ”TENANT_ID”)</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can specify multiple discriminator columns by using the
<code>@TenantDiscriminatorColumns</code> annotation, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name = "EMPLOYEE")
@Multitenant(SINGLE_TABLE)
@TenantDiscriminatorColumns({
    @TenantDiscriminatorColumn(name = "TENANT_ID")
    @TenantDiscriminatorColumn(name = "TENANT_CODE" contextProperty="eclipselink.tenant-code")})</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div id="sthref416" class="paragraph">
<p><strong>Using Discriminator Columns</strong></p>
</div>
<div class="paragraph">
<p>The following characteristics apply to discriminator columns:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On persist, the values of tenant discriminator columns are populated
from their associated context properties.</p>
</li>
<li>
<p>Tenant discriminator columns are application definable. That is, the
discriminator column is not tied to a specific column for each shared
entity table. You can use <code>TENANT_ID</code>, <code>T_ID</code>, etc.</p>
</li>
<li>
<p>There is no limit on how many tenant discriminator columns an
application can define.</p>
</li>
<li>
<p>Any name can be used for a discriminator column.</p>
</li>
<li>
<p>Tenant discriminator column(s) must always be used with
@Multitenant(<code>SINGLE_TABLE</code>). You cannot specify the tenant
discriminator column(s) only.</p>
</li>
<li>
<p>Generated schemas can include specified tenant discriminator columns.</p>
</li>
<li>
<p>Tenant discriminator columns can be mapped or unmapped:</p>
<div class="ulist">
<ul>
<li>
<p>When a tenant discriminator column is mapped, its associated mapping
attribute must be marked as read only. With this restriction in place, a
tenant discriminator column cannot be part of the entity identifier; it
can only be part of the primary key specification on the database.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Both mapped and unmapped properties are used to form the additional
criteria when issuing a <code>SELECT</code> query.</p>
</li>
</ul>
</div>
<div id="sthref417" class="paragraph">
<p><strong>Using Single-Table Multi-Tenancy in an Inheritance Hierarchy</strong></p>
</div>
<div class="paragraph">
<p>Inheritance strategies are configured by specifying the inheritance type
(see @jakarta.persistence.Inheritance). Single-table multi-tenancy can
be used in an inheritance hierarchy, as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Multi-tenant metadata can be applied only at the root level of the
inheritance hierarchy when using a <code>SINGLE_TABLE</code> or <code>JOINED</code>
inheritance strategy.</p>
</li>
<li>
<p>You can also specify multi-tenant metadata within a <code>TABLE_PER_CLASS</code>
inheritance hierarchy. In this case, every entity has its own table,
with all its mapping data (which is not the case with <code>SINGLE_TABLE</code> or
<code>JOINED</code> strategies). Consequently, in the <code>TABLE_PER_CLASS</code> strategy,
some entities of the hierarchy may be multi-tenant, while others may not
be. The other inheritance strategies can only specify multi-tenancy at
the root level, because you cannot isolate an entity to a single table
to build only its type.</p>
</li>
</ul>
</div>
<div id="sthref418" class="ulist">
<ul>
<li>
<p>+
Examples*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#CHEJICEF">Table 2-74</a> shows a number of uses of tenant
discriminator columns.</p>
</div>
<div class="paragraph">
<p><a id="CHEJICEF"></a><a id="TLJPA557"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-116 Using @TenantDiscriminatorColumn Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">/** Single tenant discriminator column **/

@Entity
@Table(name = "CUSTOMER")
@Multitenant
@TenantDiscriminatorColumn(name = "TENANT", contextProperty = "multi-tenant.id")
public Customer() {
  ...
}


/** Multiple tenant discriminator columns using multiple tables **/

@Entity
@Table(name = "EMPLOYEE")
@SecondaryTable(name = "RESPONSIBILITIES")
@Multitenant(SINGLE_TABLE)
@TenantDiscriminatorColumns({
    @TenantDiscriminatorColumn(name = "TENANT_ID", contextProperty = "employee-tenant.id", length = 20)
    @TenantDiscriminatorColumn(name = "TENANT_CODE", contextProperty = "employee-tenant.code", discriminatorType = STRING, table = "RESPONSIBILITIES")
  }
)
public Employee() {
  ...
}


/** Tenant discriminator column mapped as part of the primary key on the database **/

@Entity
@Table(name = "ADDRESS")
@Multitenant
@TenantDiscriminatorColumn(name = "TENANT", contextProperty = "tenant.id", primaryKey = true)
public Address() {
  ...
}


/** Mapped tenant discriminator column **/

@Entity
@Table(name = "Player")
@Multitenant
@TenantDiscriminatorColumn(name = "AGE", contextProperty = "tenant.age")
public Player() {
  ...

  @Basic
  @Column(name="AGE", insertable="false", updatable="false")
  public int age;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHEDCDDF">Example 2-117</a> shows the same mappings, using the
<code>&lt;tenant-disciminator-column&gt;</code> XML element in the <code>eclipselink-orm.xml</code>
file.</p>
</div>
<div class="paragraph">
<p><a id="CHEDCDDF"></a><a id="TLJPA558"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-117 Using &lt;tenant-discriminator-column&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;!-- Single tenant discriminator column --&gt;

&lt;entity class="model.Customer"&gt;
  &lt;multitenant&gt;
    &lt;tenant-discriminator-column name="TENANT context-property="multi-tenant.id""/&gt;
  &lt;/multitenant&gt;
  &lt;table name="CUSTOMER"/&gt;
  ...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;!-- Multiple tenant discriminator columns using multiple tables --&gt;

&lt;entity class="model.Employee"&gt;
  &lt;multitenant type="SINGLE_TABLE"&gt;
    &lt;tenant-discriminator-column name="TENANT_ID" context-property="employee-tenant.id" length="20"/&gt;
    &lt;tenant-discriminator-column name="TENANT_CODE" context-property="employee-tenant.id" discriminator-type="STRING" table="RESPONSIBILITIES"/&gt;
  &lt;/multitenant&gt;
  &lt;table name="EMPLOYEE"/&gt;
  &lt;secondary-table name="RESPONSIBILITIES"/&gt;
  ...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;!-- Tenant discriminator column mapped as part of the primary key on the database --&gt;

&lt;entity class="model.Address"&gt;
  &lt;multitenant&gt;
    &lt;tenant-discriminator-column name="TENANT" context-property="multi-tenant.id" primary-key="true"/&gt;
  &lt;/multitenant&gt;
  &lt;table name="ADDRESS"/&gt;
  ...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;!-- Mapped tenant discriminator column --&gt;

&lt;entity class="model.Player"&gt;
  &lt;multi-tenant&gt;
    &lt;tenant-discriminator-column name="AGE" context-property="tenant.age"/&gt;
  &lt;/multi-tenant&gt;
  &lt;table name="PLAYER"/&gt;
  ...
  &lt;attributes&gt;
    &lt;basic name="age" insertable="false" updatable="false"&gt;
      &lt;column name="AGE"/&gt;
    &lt;/basic&gt;
    ...
  &lt;/attributes&gt;
  ...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref419" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABIEJGD">"@Multitenant"</a></p>
</li>
<li>
<p><a href="#CECBEBEA">"@TenantDiscriminatorColumns"</a></p>
</li>
<li>
<p><a href="#CHDFJJEC">"@TenantTableDiscriminator"</a></p>
</li>
<li>
<p>"Using Multitenancy" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>Multitenant Examples at
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Multitenant" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Multitenant</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CECBEBEA"></a><a id="TLJPA559"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="tenantdiscriminatorcolumns"><a class="anchor" href="#tenantdiscriminatorcolumns"></a>@TenantDiscriminatorColumns</h3>
<div class="paragraph">
<p>Specify multiple discriminator columns for single-table multitenancy by
using the <code>@TenantDiscriminatorColumns</code> annotation to contain multiple
<code>@TenantDiscriminatorColumn</code> annotations.</p>
</div>
<div id="sthref420" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CECFFDCB">Table 2-75</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA560"></a><a id="sthref421"></a><a id="CECFFDCB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-75 @TenantDiscriminatorColumns Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TenantDiscriminatorColumn</code> <code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) One or more
<code>TenantDiscriminatorColumn</code> annotations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
</tbody>
</table>
<div id="sthref422" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You must use the <code>@TenantDiscriminatorColumns</code> annotation to contain
multiple <code>@TenantDiscriminatorColumn</code> annotations. The
<code>@TenantDiscriminatorColumns</code> annotation cannot be used alone, and
multiple the <code>@TenantDiscriminatorColumn</code> annotations cannot be used
alone, without <code>@TenantDiscriminatorColumns</code>.</p>
</div>
<div id="sthref423" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name = "EMPLOYEE")
@Multitenant(SINGLE_TABLE)
@TenantDiscriminatorColumns({
    @TenantDiscriminatorColumn(name = "TENANT_ID", contextProperty = ”tenant-id)
    @TenantDiscriminatorColumn(name = "TENANT_CODE", contextProperty = ”tenant-code)})</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="#CHECIDGH">"@TenantDiscriminatorColumn"</a> for more examples of
<code>@TenantDiscriminatorColumns</code>.</p>
</div>
<div id="sthref424" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABIEJGD">"@Multitenant"</a></p>
</li>
<li>
<p><a href="#CHECIDGH">"@TenantDiscriminatorColumn"</a></p>
</li>
<li>
<p><a href="#CHDFJJEC">"@TenantTableDiscriminator"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDFJJEC"></a><a id="TLJPA561"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="tenanttablediscriminator"><a class="anchor" href="#tenanttablediscriminator"></a>@TenantTableDiscriminator</h3>
<div class="paragraph">
<p>Table-per-tenant multitenancy allows multiple tenants of an application
to isolate their data in one or more tenant-specific tables. The tenant
table discriminator specifies how to discriminate the tenant&#8217;s tables
from the other tenants' tables in a table-per-tenant multitenancy
strategy.</p>
</div>
<div id="sthref425" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGDIIC">Table 2-76</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA562"></a><a id="sthref426"></a><a id="CHDGDIIC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-76 @TenantTableDiscriminator Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.String</code> <code>ContextProperty</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Name of the context
property to apply to as tenant table discriminator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>eclipselink.tenant-id</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TenantTableDiscriminator type</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Type of tenant table discriminator to use with the tables of
the persistence unit:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SCHEMA</code></p>
</li>
<li>
<p><code>SUFFIX</code></p>
</li>
<li>
<p><code>PREFIX</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SUFFIX</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref427" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>In table-per-tenant multitenancy, tenants' tables can be in the same
schema, using a prefix or suffix naming pattern to distinguish them; or
they can be in separate schemas. The tenant table discriminator
identifies whether to use the prefix or suffix naming pattern or to use
a separate schema to identify and isolate the tenant&#8217;s tables from other
tenants' tables. The types are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Schema</strong>: Applies the tenant table discriminator as a schema to all
multitenant tables. This strategy requires appropriate database
provisioning.</p>
</li>
<li>
<p><strong>Suffix</strong>: Applies the tenant table discriminator as a suffix to all
multitenant tables. This is the default strategy.</p>
</li>
<li>
<p><strong>Prefix</strong>: Applies the tenant table discriminator as a prefix to all
multitenant tables.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tenant table discriminator can be specified at the entity or mapped
superclass level and must always be used with
<code>Multitenant(TABLE_PER_TENANT)</code>. It is not sufficient to specify only a
tenant table discriminator.</p>
</div>
<div class="paragraph">
<p>For more information about using <code>@TenantTableDiscriminator</code> and
table-per-tenant multitenancy, see <a href="#BABIEJGD">"@Multitenant"</a>.</p>
</div>
<div id="sthref428" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>The following example shows a <code>SCHEMA</code>-type table discriminator.</p>
</div>
<div id="TLJPA563" class="paragraph">
<p><strong><em>Example 2-118 Using @TenantTableDiscriminator Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name=”EMP”)
@Multitenant(TABLE_PER_TENANT)
@TenantTableDiscriminator(type=SCHEMA, contextProperty="eclipselink.tenant-id")
public class Employee {
    ...
}</code></pre>
</div>
</div>
<div id="TLJPA564" class="paragraph">
<p><strong><em>Example 2-119 Using <strong>&lt;tenant-table-discriminator</strong>&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity class="Employee"&gt;
  &lt;multitenant type="TABLE_PER_TENANT"&gt;
    &lt;tenant-table-discriminator type="SCHEMA" context-property="eclipselink.tenant-id"/&gt;
  &lt;/multitenant&gt;
  &lt;table name="EMP"&gt;
  ...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref431" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABIEJGD">"@Multitenant"</a></p>
</li>
<li>
<p><a href="#CHECIDGH">"@TenantDiscriminatorColumn"</a></p>
</li>
<li>
<p><a href="#CECBEBEA">"@TenantDiscriminatorColumns"</a></p>
</li>
<li>
<p>"Using Multitenancy" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>Multitenant Examples at
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Multitenant" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Multitenant</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBGACHC"></a><a id="TLJPA565"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="timeofday"><a class="anchor" href="#timeofday"></a>@TimeOfDay</h3>
<div class="paragraph">
<p>Use <code>@TimeOfDay</code> to specify a specific time of day using a <code>Calendar</code>
instance which is to be used within an <code>@Cache</code> annotation.</p>
</div>
<div id="sthref432" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBFEGGF">Table 2-77</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA566"></a><a id="sthref433"></a><a id="BGBFEGGF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-77 @TimeOfDay Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hour</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Hour of the day</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>millisecond</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Millisecond of the day</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minute</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Minute of the day</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>second</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Second of the day</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>specified</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For internal use – do not modify</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref434" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CHDBBIHE">"@Cache"</a> for examples of using <code>@TimeOfDay</code>.</p>
</div>
<div id="sthref435" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDBBIHE">"@Cache"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABCJGIG"></a><a id="TLJPA567"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="transformation"><a class="anchor" href="#transformation"></a>@Transformation</h3>
<div class="paragraph">
<p>Use <code>@Transformation</code> with a Transformation mapping to define the
transformation of database columns into attribute values (unless the
Transformation mapping is write-only, in which case it should have a
<code>@ReadTransformer</code> annotation).</p>
</div>
<div id="sthref436" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFBEDA">Table 2-78</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA568"></a><a id="sthref437"></a><a id="BABFBEDA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-78 @Transformation Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fetch</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Defines whether the value of the field or property should be
lazily loaded or must be eagerly fetched.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>EAGER</code> strategy is a requirement on the persistence provider
runtime that the value must be eagerly fetched.</p>
</li>
<li>
<p>The <code>LAZY</code> strategy is a hint to the persistence provider runtime.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EAGER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optional</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) A hint as to whether the value of the field or
property may be <code>null</code>. It is disregarded for primitive types, which are
considered non-optional.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref438" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Unless it&#8217;s a read-only mapping, either <code>WriteTransformer</code> annotation or
<code>WriteTransformers</code> annotation should be specified. Each
<code>WriteTransformer</code> defines transformation of the attribute value to a
single database column value (column is specified in the
<code>WriteTransformer</code>).</p>
</div>
<div id="sthref439" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHECGF">Example 2-120</a> shows how to use the <code>@Transformation</code>
annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABHECGF"></a><a id="TLJPA569"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-120 Using @Transformation Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Transformation(fetch=FecthType.LAZY, optional="true")
@ReadTransformer(class=package.MyNormalHoursTransformer.class)
@WriteTranformers({
   @WriteTranformer(column=@Column(name="START_TIME"),
      method="getStartDate"),
   @WriteTranformer(column=@Column(name="END_TIME"),
      class=package.MyTimeTransformer.class)
})
@Mutable
@ReturnUpdate
@Access(AccessType.PROPERTY)
@AccessMethods(get="getNormalHours", set="setNormalHours")
@Properties({
   @Property(name="x", value="y")
})</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABHCBAG">Example 2-121</a> shows the same mapping, using the
<code>&lt;transformation&gt;</code> XML element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABHCBAG"></a><a id="TLJPA570"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-121 Using &lt;transformation&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;transformation name="normalHours" fetch="LAZY" optional="true"&gt;
     &lt;read-transformer method="buildNormalHours"/&gt;
     &lt;write-transformer method="getStartTime"&gt;
             &lt;column name="START_TIME"/&gt;
     &lt;/write-transformer&gt;
     &lt;write-transformer class="package.MyTimeTransformer"&gt;
             &lt;column name="END_TIME"/&gt;
     &lt;/write-transformer&gt;
     &lt;mutable/&gt;
     &lt;return-update/&gt;
     &lt;access type="PROPERTY"/&gt;
     &lt;access-methods get="getNormalHours" set="setNormalHours"/&gt;
     &lt;properties&gt;
        &lt;property name="x" value="y"/&gt;
     &lt;/properties&gt;
&lt;/transformation&gt;</code></pre>
</div>
</div>
<div id="sthref440" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBGGAEA">"@WriteTransformer"</a></p>
</li>
<li>
<p><a href="#CHDGHHBA">"@ReadTransformer"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDHCCJF"></a><a id="TLJPA571"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="typeconverter"><a class="anchor" href="#typeconverter"></a>@TypeConverter</h3>
<div class="paragraph">
<p>Use <code>@TypeConverter</code> to modify data values during the reading and
writing of a mapped attribute.</p>
</div>
<div id="sthref441" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIIHBI">Table 2-79</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA572"></a><a id="sthref442"></a><a id="CHDIIHBI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-79 @TypeConverter Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) The <code>String</code> name for your converter. This name must
be unique across the persistence unit.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dataType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The <code>type</code> stored in the database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code> <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>objectType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The <code>type</code> stored on the entity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code> <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p></td>
</tr>
</tbody>
</table>
<div id="sthref444" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Each <code>TypeConverter</code> must be uniquely named and can be defined at the
class, field and property level and can be specified within an Entity,
MappedSuperclass and Embeddable class. A <code>TypeConverter</code> is always
specified by using an <code>@Convert</code> annotation</p>
</div>
<div class="paragraph">
<p>You can place a <code>@TypeConverter</code> on a <code>Basic</code>, <code>BasicMap</code> or
<code>BasicCollection</code> mapping.</p>
</div>
<div class="paragraph">
<p>EclipseLink also includes <code>@ObjectTypeConverter</code> and <code>@StructConverter</code>
converters.</p>
</div>
<div id="sthref445" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEHGEF">Example 2-122</a> shows how to use the <code>@TypeConverter</code>
annotation to convert the <code>Double</code> value stored in the database to a
<code>Float</code> value stored in the entity.</p>
</div>
<div class="paragraph">
<p><a id="CHDEHGEF"></a><a id="TLJPA573"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-122 Using the @TypeConverter Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
public class Employee implements Serializable{

...

  @TypeConverter (
    name="doubleToFloat",
    dataType=Double.class,
    objectType=Float.class,
  )
  @Convert("doubleToFloat")
  public Number getGradePointAverage() {
    return gradePointAverage;
  }

...
}</code></pre>
</div>
</div>
<div id="sthref446" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BEHGJHCD">"@Convert"</a></p>
</li>
<li>
<p><a href="#BCFBEIAE">"@TypeConverters"</a></p>
</li>
<li>
<p><a href="#CBBJAJCH">"@ConversionValue"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BCFBEIAE"></a><a id="TLJPA574"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="typeconverters"><a class="anchor" href="#typeconverters"></a>@TypeConverters</h3>
<div class="paragraph">
<p>Use <code>@TypeConverters</code> to define multiple <code>TypeConverter</code> elements.</p>
</div>
<div id="sthref447" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHJAIHB">Table 2-80</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA575"></a><a id="sthref448"></a><a id="CIHJAIHB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-80 @TypeConverters Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TypeConverter[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) An array of type converter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
</tbody>
</table>
<div class="literalblock">
<div class="content">
<pre>+</pre>
</div>
</div>
<div id="sthref449" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCFEHCDH">Example 2-123</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="BCFEHCDH"></a><a id="TLJPA576"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-123 Using @TypeConverters Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@TypeConverters({
    @TypeConverter(name="BigIntegerToString",dataType=String.class,objectType=BigInteger.class)
    })
public class Parameters implements Serializable {
    private static final long serialVersionUID = -1979843739878183696L;
    @Column(name="maxValue", nullable=false, length=512)
    @Convert("BigIntegerToString")
    private BigInteger maxValue;
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BCFEHCDH">Example 2-123</a> shows how to use the <code>&lt;type-converters&gt;</code>
element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div id="TLJPA577" class="paragraph">
<p><strong><em>Example 2-124 Using &lt;type-converters&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;type-converters&gt;
    &lt;type-converter name="Long2String" data-type="String" object-type="Long"/&gt;
    &lt;type-converter name="String2String" data-type="String" object-type="String"/&gt;
&lt;/type-converters&gt;
&lt;entity class="Employee"&gt;
...
&lt;/entity&gt;</code></pre>
</div>
</div>
<div id="sthref451" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDHCCJF">"@TypeConverter"</a></p>
</li>
<li>
<p><a href="#BEHGJHCD">"@Convert"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BCGEJFAH"></a><a id="TLJPA583"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="unionpartitioning"><a class="anchor" href="#unionpartitioning"></a>@UnionPartitioning</h3>
<div class="paragraph">
<p>Use <code>@UnionPartitioning</code> to send queries to all connection pools and
then union the results. This can be used for queries or relationships
that span partitions when partitioning is used, such as on a ManyToMany
cross partition relationship.</p>
</div>
<div id="sthref452" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCGFGGCI">Table 2-81</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA584"></a><a id="sthref453"></a><a id="BCGFGGCI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-81 @UnionPartitioning Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the partition policy. Names must be unique for the
persistence unit.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionPools</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of connection pool names to load balance across</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defaults to all defined pools in the <code>ServerSession</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>replicateWrite</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Defines if write queries should be replicated.</p>
</div>
<div class="paragraph">
<p>Writes are normally not replicated when unioning, but can be for
ManyToMany relationships, when the join table needs to be replicated.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref454" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Partitioning can be enabled on an Entity, relationship, query, or
session/persistence unit. Partition policies are globally named to allow
reuse, the partitioning policy must also be set using the <code>@Partitioned</code>
annotation to be used.</p>
</div>
<div class="paragraph">
<p>The persistence unit properties support adding named connection pools in
addition to the existing configuration for read/write/sequence. A named
connection pool must be defined for each node in the database cluster.</p>
</div>
<div class="paragraph">
<p>If a transaction modifies data from multiple partitions, you should use
JTA ensure proper two-phase commit of the data. You can also configure
an exclusive connection in the EntityManager to ensure that only a
single node is used for a single transaction.</p>
</div>
<div id="sthref455" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CEGHAIDJ">"Using Partitioning"</a> for an example of partitioning
with EclipseLink.</p>
</div>
<div id="sthref456" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Data
Partitioning"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Data_Partitioning`</p>
</li>
<li>
<p><a href="#CHDDAHEB">"@Partitioned"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CFAFIIFC"></a><a id="TLJPA578"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="uuidgenerator"><a class="anchor" href="#uuidgenerator"></a>@UuidGenerator</h3>
<div class="paragraph">
<p>Use <code>@UuidGenerator</code> to defines a primary key generator that may be
referenced by name when a generator element is specified for the
<code>@GeneratedValue</code> annotation. A UUID (universally unique identifier)
generator may be specified on the entity class or on the primary key
field or property.</p>
</div>
<div class="paragraph">
<p>The generator name is global to the persistence unit (that is, across
all generator types).</p>
</div>
<div id="sthref457" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CFAIAHJG">Table 2-82</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA579"></a><a id="sthref458"></a><a id="CFAIAHJG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-82 @UuidGenerator Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the UUID generator, which must be unique for the
persistence unit</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref459" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CFADJAIF">Example 2-125</a> shows how to use this annotation.</p>
</div>
<div class="paragraph">
<p><a id="CFADJAIF"></a><a id="TLJPA580"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-125 Using @UuidGenerator Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@UuidGenerator(name="EMP_ID_GEN")
public class Employee {
    @Id
    @GeneratedValue(generator="EMP_ID_GEN")
    private String id;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also specify the <code>SessionCustomizer</code> and configure the named
sequence in your <code>eclipselink-orm.xml</code> file, as shown in
<a href="#CFAGEJHJ">Example 2-126</a>.</p>
</div>
<div class="paragraph">
<p><a id="CFAGEJHJ"></a><a id="TLJPA581"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-126 Using &lt;generated-value&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;id name="id"&gt;
    &lt;column name="PROJ_ID" /&gt;
    &lt;generated-value generator="system-uuid"/&gt;
&lt;/id&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also specify the named sequence at the persistence unit level
(in the <code>persistence.xml</code> file) as shown in <a href="#CFAJEEEJ">Example
2-127</a>.</p>
</div>
<div class="paragraph">
<p><a id="CFAJEEEJ"></a><a id="TLJPA582"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-127 Specifying Generator in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.session.customizer" value="eclipselink.example.UUIDSequence"/&gt;</code></pre>
</div>
</div>
<div id="sthref460" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>@Generated
Value`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Entities/Ids/GeneratedValue`</p>
</li>
<li>
<p><a href="#CACGCEIJ">"Entity Annotations"</a></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="sthref461"><a class="anchor" href="#sthref461"></a>@UnionPartitioning</h3>
<div class="paragraph">
<p>Use <code>@UnionPartitioning</code> to send queries to all connection pools and
then union the results. This can be used for queries or relationships
that span partitions when partitioning is used, such as on a ManyToMany
cross partition relationship.</p>
</div>
<div id="sthref462" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCGFGGCI">Table 2-81</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54064"></a><a id="sthref463"></a><a id="sthref464"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-83 @UnionPartitioning Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the partition policy. Names must be unique for the
persistence unit.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionPools</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of connection pool names to load balance across</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defaults to all defined pools in the <code>ServerSession</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>replicateWrite</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Defines if write queries should be replicated.</p>
</div>
<div class="paragraph">
<p>Writes are normally not replicated when unioning, but can be for
ManyToMany relationships, when the join table needs to be replicated.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref465" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Partitioning can be enabled on an Entity, relationship, query, or
session/persistence unit. Partition policies are globally named to allow
reuse, the partitioning policy must also be set using the <code>@Partitioned</code>
annotation to be used.</p>
</div>
<div class="paragraph">
<p>The persistence unit properties support adding named connection pools in
addition to the existing configuration for read/write/sequence. A named
connection pool must be defined for each node in the database cluster.</p>
</div>
<div class="paragraph">
<p>If a transaction modifies data from multiple partitions, you should use
JTA ensure proper two-phase commit of the data. You can also configure
an exclusive connection in the EntityManager to ensure that only a
single node is used for a single transaction.</p>
</div>
<div id="sthref466" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CEGHAIDJ">"Using Partitioning"</a> for an example of partitioning
with EclipseLink.</p>
</div>
<div id="sthref467" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Data
Partitioning"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Data_Partitioning`</p>
</li>
<li>
<p><a href="#CHDDAHEB">"@Partitioned"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CJHFCGEJ"></a><a id="TLJPA585"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="valuepartition"><a class="anchor" href="#valuepartition"></a>@ValuePartition</h3>
<div class="paragraph">
<p>Use <code>@ValuePartition</code> to represent a specific value partition that will
be routed to a specific connection pool.</p>
</div>
<div id="sthref468" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACBHEHI">Table 2-84</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA586"></a><a id="sthref469"></a><a id="CACBHEHI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-84 @ValuePartition Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionPool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The connection pool to which to route queries to for
the <code>value</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>String</code> representation of the value</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref470" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CJHFDJAC">Example 2-128</a> shows how to use the <code>@ValuePartition</code> and
<code>@ValuePartitioning</code> annotations.</p>
</div>
<div class="paragraph">
<p><a id="CJHFDJAC"></a><a id="TLJPA587"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-128 Using @ValuePartition Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
@Table(name = "PART_EMPLOYEE")
@IdClass(EmployeePK.class)
@ValuePartitioning(
  name="ValuePartitioningByLOCATION",
  partitionColumn=@Column(name="LOCATION"),
  unionUnpartitionableQueries=true,
  defaultConnectionPool="default",
  partitions={
    @ValuePartition(connectionPool="node2", value="Ottawa"),
    @ValuePartition(connectionPool="node3", value="Toronto")
  })
@Partitioned("ValuePartitioningByLOCATION")
public class Employee implements Serializable, Cloneable {
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CJHBEIGD">Example 2-129</a> shows how to use the <code>&lt;partition&gt;</code> element
in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CJHBEIGD"></a><a id="TLJPA588"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-129 Using &lt;partition&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;entity name="Employee" class="Employee" access="FIELD"&gt;
  &lt;table name="PART_EMPLOYEE"/&gt;
  &lt;id-class class="EmployeePK"/&gt;
  &lt;value-partitioning name="ValuePartitioningByLOCATION" union-unpartitionable-queries="true" default-connection-pool="default"&gt;
    &lt;partition-column name="LOCATION"/&gt;
    &lt;partition connection-pool="node2" value="Ottawa"/&gt;
    &lt;partition connection-pool="node3" value="Toronto"/&gt;
  &lt;/value-partitioning&gt;
&lt;partitioned&gt;ValuePartitioningByLOCATION&lt;/partitioned&gt;</code></pre>
</div>
</div>
<div id="sthref471" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDDAHEB">"@Partitioned"</a></p>
</li>
<li>
<p><a href="#CEGHFJDJ">"@ValuePartitioning"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CEGHFJDJ"></a><a id="TLJPA589"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="valuepartitioning"><a class="anchor" href="#valuepartitioning"></a>@ValuePartitioning</h3>
<div class="paragraph">
<p>Use <code>@ValuePartitioning</code> to partition access to a database cluster by a
field value from the object (such as the object&#8217;s location or tenant).
Each value is assigned a specific server. All write or read request for
object&#8217;s with that value are sent to the server. If a query does not
include the field as a parameter, then it can either be sent to all
server&#8217;s and unioned, or left to the session&#8217;s default behavior.</p>
</div>
<div id="sthref472" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CEGEGCEA">Table 2-85</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA590"></a><a id="sthref473"></a><a id="CEGEGCEA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-85 @ValuePartitioning Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) Name of the partition policy. Names must be unique
for the persistence unit.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>partitionColumn</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Required) The database column or query parameter to partition queries
by</p>
</div>
<div class="paragraph">
<p>This is the table column name, not the class attribute name. The column
value must be included in the query and should normally be part of the
object&#8217;s ID. This can also be the name of a query parameter.</p>
</div>
<div class="paragraph">
<p>If a query does not contain the field the query will not be partitioned.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>partitions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Required) Store the value partitions. Each partition
maps a value to a <code>connectionPool</code>.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>defaultConnectionPool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The default connection pool is used
for any unmapped values</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>partitionValueType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The <code>type</code> of the start and end values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unionUnpartitionableQueries</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Defines if queries that do
not contain the partition field should be sent to every database and
have the result unioned.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref474" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Partitioning can be enabled on an Entity, relationship, query, or
session/persistence unit. Partition policies are globally named to allow
reuse, the partitioning policy must also be set using the <code>@Partitioned</code>
annotation to be used.</p>
</div>
<div class="paragraph">
<p>The persistence unit properties support adding named connection pools in
addition to the existing configuration for read/write/sequence. A named
connection pool must be defined for each node in the database cluster.</p>
</div>
<div class="paragraph">
<p>If a transaction modifies data from multiple partitions, you should use
JTA ensure proper two-phase commit of the data. You can also configure
an exclusive connection in the EntityManager to ensure that only a
single node is used for a single transaction.</p>
</div>
<div id="sthref475" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CEGHAIDJ">"Using Partitioning"</a> for an example of partitioning
with EclipseLink.</p>
</div>
<div id="sthref476" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Data
Partitioning"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Data_Partitioning`</p>
</li>
<li>
<p><a href="#CHDDAHEB">"@Partitioned"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDDFDGF"></a><a id="TLJPA591"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="variableonetoone"><a class="anchor" href="#variableonetoone"></a>@VariableOneToOne</h3>
<div class="paragraph">
<p>Use <code>@VariableOneToOne</code> to represent a pointer references between a java
object and an implementer of an interface. This mapping is usually
represented by a single pointer (stored in an instance variable) between
the source and target objects. In the relational database tables, these
mappings are normally implemented using a foreign key and a type code.</p>
</div>
<div id="sthref477" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGHCBF">Table 2-86</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA592"></a><a id="sthref478"></a><a id="CHDGHCBF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-86 @VariableOneToOne Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CascadeType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Array of operations that must be cascaded to
the target of the association</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DiscriminatorClasses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Array of discriminator types that
can be used with this mapping</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If none are specified, EclipseLink adds entities within the persistence
unit that implement the target interface.</p>
</div>
<div class="paragraph">
<p>If <code>DiscriminatorColumn</code> is <code>STRING</code>, EclipseLink uses <code>Entity.name()</code>.</p>
</div>
<div class="paragraph">
<p>If <code>DiscriminatorColumn</code> is <code>CHAR</code>, EclipseLink uses the first letter of
the entity class.</p>
</div>
<div class="paragraph">
<p>If <code>DiscriminatorColumn</code> is <code>INTEGER</code>, EclipseLink uses the next integer
after the highest integer explicitly stated.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DiscriminatorColumn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The discriminator column that
contains the type identifiers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DTYPE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FetchType</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Specify how the value of the field or property should be
loaded:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Eager</strong>: Requires that the persistence provider runtime must eagerly
fetch the value</p>
</li>
<li>
<p><strong>Lazy</strong>: Hints that the persistence provider should lazily load the
value</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Eager</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Optional</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specify if the association is optional.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OrphanRemoval</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specify if interface class that is the
target of this mapping.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TargetInterface</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) The interface class that is the target of
this mapping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If none is specified, EclipseLink will infer the interface
class based on the type of object being referenced.</p></td>
</tr>
</tbody>
</table>
<div id="sthref479" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify <code>@VariableOneToOne</code> on an Entity, MappedSuperclass, or
Embeddable class.</p>
</div>
<div id="sthref480" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJDIJD">Example 2-130</a> shows how to use the <code>@VariableOneToOne</code>
annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDJDIJD"></a><a id="TLJPA593"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-130 Using @VariableOneToOne Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@VariableOneToOne(
    cascade={ALL},
    fetch=LAZY,
    discriminatorColumn=@DiscriminatorColumn(name="CONTACT_TYPE"),
    discriminatorClasses={
        @DiscriminatorClass(discriminator="E", value="Email.class"),
        @DiscriminatorClass(discriminator="P", value="Phone.class")
    }
}
@JoinColumn(name="CONTACT_ID", referencedColumnName="C_ID")
@PrivateOwned
@JoinFetch(INNER)
public Contact getContact() {
    return contact;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDCBGAF">Example 2-131</a> shows the same mapping using the
<code>&lt;variable-one-to-one&gt;</code> XML element in the <code>eclipselink-orm.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDCBGAF"></a><a id="TLJPA594"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-131 Using &lt;variable-one-to-one&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;variable-one-to-one name="contact" fetch="LAZY"&gt;
    &lt;cascade&gt;
        &lt;cascade-all/&gt;
    &lt;/cascade&gt;
    &lt;discriminator-column name="CONTACT_TYPE"/&gt;
    &lt;discriminator-class discriminator="E" value="Email.class"/&gt;
    &lt;discriminator-class discriminator="P" value="Phone.class"/&gt;
    &lt;join-column name="CONTACT_ID" referenced-column-name="C_ID"/&gt;
    &lt;private-owned/&gt;
    &lt;join-fetch&gt;INNER&lt;/join-fetch&gt;
&lt;/variable-one-to-one&gt;</code></pre>
</div>
</div>
<div id="sthref481" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CIHGDDED">"@DiscriminatorClass"</a></p>
</li>
<li>
<p><a href="#CHDDDDAI">"@PrivateOwned"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CIHFBCFI"></a><a id="TLJPA595"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="virtualaccessmethods"><a class="anchor" href="#virtualaccessmethods"></a>@VirtualAccessMethods</h3>
<div class="paragraph">
<p>Use <code>@VirtualAccessMethods</code> to specify that a specific class contains
virtual methods.</p>
</div>
<div id="sthref482" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHCCFIH">Table 2-87</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA596"></a><a id="sthref483"></a><a id="CIHCCFIH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-87 @VirtualAccessMethods Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>get</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Name of the <code>getter</code> method to use for the virtual property.
This method must take a single <code>java.lang.String</code> parameter and return a
<code>java.lang.Object</code>.</p>
</div>
<div class="paragraph">
<p>If <code>get</code> is specified, you must also specify <code>set</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>get</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Name of the <code>setter</code> method to use for the virtual property.
This method must take a <code>java.lang.String</code> parameter and a
<code>java.lang.Object</code> parameter.</p>
</div>
<div class="paragraph">
<p>If <code>set</code> is specified, you must also specify <code>get</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>set</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref484" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use the <code>@VirtualAccessMethods</code> annotation to define access methods for
mappings with in which <code>accessType</code>=VIRTUAL.</p>
</div>
<div id="sthref485" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHCCFIH">Table 2-87</a> shows an entity using property access.</p>
</div>
<div id="TLJPA597" class="paragraph">
<p><strong><em>Example 2-132 Using @VirtualAccessMethods Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@Entity
  @VirtualAccessMethods
  public class Customer{

    @Id
    private int id;
...

    @Transient
    private Map&lt;String, Object&gt; extensions;

    public &lt;T&gt; T get(String name) {
        return (T) extensions.get(name);
    }

    public Object set(String name, Object value) {
        return extensions.put(name, value);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition to using the <code>@VirtualAccessMethods</code> annotation, you can use
the <code>&lt;access&gt;</code> and <code>&lt;access-method&gt;</code> elements in your
<code>eclipselink-orm.xml</code> file, as shown in <a href="#CIHCJCJE">Example 2-133</a>.</p>
</div>
<div class="paragraph">
<p><a id="CIHCJCJE"></a><a id="TLJPA598"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 2-133 Using &lt;access&gt; and &lt;access-methods&gt; XML</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;access&gt;VIRTUAL&lt;/access&gt;&lt;access-methods get-method="get" set-method="set"/&gt;@Entity</code></pre>
</div>
</div>
<div id="sthref487" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Extensible
Entities"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Extensible_Entities`</p>
</li>
<li>
<p>"Making JPA Entities and JAXB Beans Extensible" in <em>Solutions Guide
for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBGGAEA"></a><a id="TLJPA599"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="writetransformer"><a class="anchor" href="#writetransformer"></a>@WriteTransformer</h3>
<div class="paragraph">
<p>Use <code>@WriteTransformer</code> on a <code>TranformationMapping</code> to transform a
single attribute value to a single database column value. Use the
<code>@WriteTransformers</code> annotation to wrap multiple transformations.</p>
</div>
<div id="sthref488" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBEGIEE">Table 2-88</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA600"></a><a id="sthref489"></a><a id="BGBEGIEE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-88 @WriteTransformer Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>column</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The column into which the value should be written</p>
</div>
<div class="paragraph">
<p>If a single <code>WriteTransfomer</code> annotates an attribute, the attribute&#8217;s
name will be used as the column name.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@jakarta.persistence.Column</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>method</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The <code>String</code> method name that the mapped class must have.
This method returns the value to be written into the database column.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: To support DDL generation and returning policy, the method
should be defined to return a particular type, not just an <code>Object</code>. For
example:`public Time getStartTime()`</p>
</div>
<div class="paragraph">
<p>The method may require <code>@Transient</code> to avoid being mapped as a <code>Basic</code>
by default.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transformerClass</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) User-defined class that implements the <code>FieldTransformer</code>
interface. This will instantiate the class and use its <code>buildFieldValue</code>
method to create the value to be written into the database column.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: To support DDL generation and returningpolicy, the method
<code>buildFieldValue</code> in the class should be defined to return the relevant
Java type, not just <code>Object</code> as defined in the interface. For
example:`public Time buildFieldValue(Object instance, String fieldName, Session session).`</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void.class</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You must specify either <code>transformerClass</code> <em>or</em> <code>method</code> , but not both.
</td>
</tr>
</table>
</div>
<div id="sthref490" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You cannot define a `@WriteTransforme`r for a read-only mapping.</p>
</div>
<div class="paragraph">
<p>Unless the <code>TransformationMapping</code> is write-only, it should include a
<code>ReadTransformer</code> that defines the transformation of the database column
values into attribute values.</p>
</div>
<div id="sthref491" class="paragraph">
<p><strong>Configuring Field Transformer Associations</strong></p>
</div>
<div class="paragraph">
<p>Using a <code>FieldTransformer</code> is non-intrusive; your domain object does not
need to implement an EclipseLink interface or provide a special
transformation method.</p>
</div>
<div class="paragraph">
<p>You can configure a method-based field transformer using
<code>AbstractTransformationMapping</code> method <code>addFieldTransformation</code>, passing
in the name of the database field and the name of the domain object
method to use.</p>
</div>
<div class="paragraph">
<p>You can configure a class-based field transformer using
<code>AbstractTransformationMapping</code> method <code>addFieldTransformer</code>, passing in
the name of the database field and an instance of
<code>org.eclipse.persistence.mappings.Transfomers.FieldTransformer</code>.</p>
</div>
<div class="paragraph">
<p>A convenient way to create a <code>FieldTransformer</code> is to extend
<code>FieldTransformerAdapter</code>.</p>
</div>
<div id="sthref492" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABHECGF">"Using @Transformation Annotation"</a> for an example of
how to use the <code>@WriteTransformer annotation</code> with a Transformation
mapping.</p>
</div>
<div id="sthref493" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BCFCCEJF">"@WriteTransformers"</a></p>
</li>
<li>
<p><a href="#BABCJGIG">"@Transformation"</a>.</p>
</li>
<li>
<p><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Print_Version#How_to_Use_the_.40Transformation_Annotation" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Print_Version#How_to_Use_the_.40Transformation_Annotation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BCFCCEJF"></a><a id="TLJPA601"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="writetransformers"><a class="anchor" href="#writetransformers"></a>@WriteTransformers</h3>
<div class="paragraph">
<p>Use <code>@WriteTransformer</code> on a <code>TranformationMapping</code> to transform a
single attribute value to a single database column value. Use the
<code>@WriteTransformers</code> annotation to wrap multiple transformations.</p>
</div>
<div id="sthref494" class="paragraph">
<p><strong>Annotation Elements</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCFBFAIF">Table 2-89</a> describes this annotation&#8217;s elements.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA602"></a><a id="sthref495"></a><a id="BCFBFAIF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 2-89 @WriteTransformers Annotation Elements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Annotation Element</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Default</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WriteTransformer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of <code>WriteTransformer</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref496" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You cannot use `@WriteTransforme`rs for a read-only mapping.</p>
</div>
<div id="sthref497" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABHECGF">"Using @Transformation Annotation"</a> for an example of
how to use the <code>@WriteTransformer annotation</code> with a Transformation
mapping.</p>
</div>
<div id="sthref498" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBGGAEA">"@WriteTransformer"</a>.</p>
</li>
<li>
<p><a href="#BABCJGIG">"@Transformation"</a>.</p>
</li>
<li>
<p><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Print_Version#How_to_Use_the_.40Transformation_Annotation" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Print_Version#How_to_Use_the_.40Transformation_Annotation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="java-persistence-query-language-extensions"><a class="anchor" href="#java-persistence-query-language-extensions"></a>3. Java Persistence Query Language Extensions</h2>
<div class="sectionbody">
<div id="TLJPA54065" class="paragraph">
<p>This chapter describes the extensions EclipseLink providesto the
standard JPA Java Persistence Query Language (JPQL). These extensions,
referred to as the EclipseLink Query Language (EQL), provide access to
additional database features many of which are part of standard SQL,
provide access to native database features and functions, and provide
access to EclipseLink specific features.</p>
</div>
<div class="paragraph">
<p>This chapter includes the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABEJJHG">Special Operators</a></p>
</li>
<li>
<p><a href="#BABEAIIA">EclipseLink Query Language</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information on JQPL, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Query Language" in the JPA Specification
(<code><a href="http://jcp.org/en/jsr/detail?id=317" class="bare">http://jcp.org/en/jsr/detail?id=317</a></code>)</p>
</li>
<li>
<p>"The Java Persistence Query Language" in <em>The Java EE 6 Tutorial</em>
(<code><a href="http://docs.oracle.com/javaee/6/tutorial/doc/bnbtg.html" class="bare">http://docs.oracle.com/javaee/6/tutorial/doc/bnbtg.html</a></code>)</p>
</li>
<li>
<p>"EclipseLink User Guide"</p>
<div class="paragraph">
<p>(<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL</a></code>)</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABEJJHG"></a><a id="TLJPA604"></a></p>
</div>
<div class="sect2">
<h3 id="special-operators"><a class="anchor" href="#special-operators"></a>Special Operators</h3>
<div class="paragraph">
<p>EclipseLink defines the following operators to perform database
operations that would not be possible in standard JPQL:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#column">COLUMN</a></p>
</li>
<li>
<p><a href="#func">FUNCTION</a></p>
</li>
<li>
<p><a href="#operator">OPERATOR</a></p>
</li>
<li>
<p><a href="#sql">SQL</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BABEAIIA"></a><a id="TLJPA605"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="eclipselink-query-language"><a class="anchor" href="#eclipselink-query-language"></a>EclipseLink Query Language</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#cast">CAST</a></p>
</li>
<li>
<p><a href="#except">EXCEPT</a></p>
</li>
<li>
<p><a href="#extract">EXTRACT</a></p>
</li>
<li>
<p><a href="#intersect">INTERSECT</a></p>
</li>
<li>
<p><a href="#on">ON</a></p>
</li>
<li>
<p><a href="#CIHGBAEC">REGEXP</a></p>
</li>
<li>
<p><a href="#table">TABLE</a></p>
</li>
<li>
<p><a href="#treat">TREAT</a></p>
</li>
<li>
<p><a href="#union">UNION</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cast"></a><a id="TLJPA606"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cast-2"><a class="anchor" href="#cast-2"></a>CAST</h3>
<div class="paragraph">
<p>Use <code>CAST</code> to convert a value to a specific database type.</p>
</div>
<div id="sthref499" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>CAST</code> function is database independent, but requires database
support.</p>
</div>
<div id="sthref500" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHGHBIC">Example 3-1</a> shows how to use this JPQL extension.</p>
</div>
<div class="paragraph">
<p><a id="CIHGHBIC"></a><a id="TLJPA607"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-1 Using CAST EQL</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">CAST(e.salary NUMERIC(10,2))</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="column"></a><a id="TLJPA608"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="column-2"><a class="anchor" href="#column-2"></a>COLUMN</h3>
<div class="paragraph">
<p>Use <code>COLUMN</code> to access to unmapped columns in an object&#8217;s table.</p>
</div>
<div id="sthref501" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use <code>COLUMN</code> to access foreign key columns, inheritance
discriminators, or primitive columns (such as <code>ROWID</code>). You can also use
<code>COLUMN</code> in JPQL fragments inside the <code>@AdditionalCriteria</code> annotation.</p>
</div>
<div id="sthref502" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDCCFCBE">Example 3-2</a> shows how to use the <code>COLUMN</code> EQL.</p>
</div>
<div class="paragraph">
<p><a id="CDCCFCBE"></a><a id="TLJPA609"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-2 Using COLUMN EQL</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT e FROM Employee e WHERE COLUMN('MANAGER_ID', e) = :id</code></pre>
</div>
</div>
<div class="paragraph">
<p>In <a href="#CDCFDDGF">Example 3-3</a>, uses <code>COLUMN</code> EQL access a primitive
column (<code>ROWID</code>).</p>
</div>
<div class="paragraph">
<p><a id="CDCFDDGF"></a><a id="TLJPA610"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-3 Using COLUMN with a Primitive Column</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT e FROM Employee e WHERE COLUMN('ROWID', e) = :id</code></pre>
</div>
</div>
<div id="sthref503" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#additionalcriteria">"@AdditionalCriteria"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="except"></a><a id="TLJPA611"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="except-2"><a class="anchor" href="#except-2"></a>EXCEPT</h3>
<div class="paragraph">
<p>When performing multiple queries, use <code>EXCEPT</code> to remove the results of
a second query from the results of a first query.</p>
</div>
<div id="sthref504" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>EXCEPT</code> function is database independent, but requires database
support.</p>
</div>
<div id="sthref505" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABJIEDC">Example 3-4</a> shows how to use this JPQL extension.</p>
</div>
<div class="paragraph">
<p><a id="BABJIEDC"></a><a id="TLJPA612"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-4 Using EXCEPT EQL</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT e FROM Employee e
EXCEPT SELECT e FROM Employee e WHERE e.salary &gt; e.manager.salary</code></pre>
</div>
</div>
<div id="sthref506" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#union">"UNION"</a></p>
</li>
<li>
<p><a href="#intersect">"INTERSECT"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="extract"></a><a id="TLJPA613"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="extract-2"><a class="anchor" href="#extract-2"></a>EXTRACT</h3>
<div class="paragraph">
<p>Use <code>EXTRACT</code> to retrieve the date portion of a date/time value.</p>
</div>
<div id="sthref507" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>EXTRACT</code> function is database independent, but requires database
support</p>
</div>
<div id="sthref508" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJGBFJ">Example 3-5</a> shows how to use this JPQL extension.</p>
</div>
<div class="paragraph">
<p><a id="CHDJGBFJ"></a><a id="TLJPA614"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-5 Using EXTRACT EQL</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">EXTRACT(YEAR, e.startDate)</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="func"></a><a id="TLJPA615"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="function"><a class="anchor" href="#function"></a>FUNCTION</h3>
<div class="paragraph">
<p>Use <code>FUNCTION</code> (formerly <code>FUNC</code>) to call database specific functions
from JPQL</p>
</div>
<div id="sthref509" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use <code>FUNCTION</code> to call database functions that are not supported
directly in JPQL and to call user or library specific functions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>FUNCTION</code> is database specific – it does not translate the function
call in any way to support different databases as other JPQL functions
do.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Use <code>FUNCTION</code> to call functions with normal syntax. Functions that
require special syntax cannot be called with <code>FUNCTION</code>. Instead, use
<code>OPERATOR</code></p>
</div>
<div id="sthref510" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHCCHIC">Example 3-6</a> shows how to use this JPQL extension.</p>
</div>
<div class="paragraph">
<p><a id="CIHCCHIC"></a><a id="TLJPA616"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-6 Using FUNCTION EQL</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT p FROM Phone p WHERE FUNCTION('TO_NUMBER', e.areaCode) &gt; 613

SELECT FUNCTION('YEAR', e.startDate) AS year, COUNT(e) FROM Employee e GROUP BY year</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CIHFDEIJ">Example 3-7</a> shows how to use <code>FUNCTION</code> with Oracle
Spatial queries</p>
</div>
<div class="paragraph">
<p><a id="CIHFDEIJ"></a><a id="TLJPA617"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-7 Using FUNCTION EQL Oracle Spatial examples</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT a FROM Asset a, Geography geo WHERE geo.id = :id AND a.id IN :id_list AND FUNCTION('ST_INTERSECTS', a.geometry, geo.geometry) = 'TRUE'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT s FROM SimpleSpatial s WHERE FUNCTION('MDSYS.SDO_RELATE', s.jGeometry, :otherGeometry, :params) = 'TRUE' ORDER BY s.id ASC</code></pre>
</div>
</div>
<div id="sthref511" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#operator">"OPERATOR"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="intersect"></a><a id="TLJPA618"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="intersect-2"><a class="anchor" href="#intersect-2"></a>INTERSECT</h3>
<div class="paragraph">
<p>When performing multiple queries, use <code>INTERSECT</code> to return only results
that are found in both queries.</p>
</div>
<div id="sthref512" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGGIFA">Example 3-8</a> shows how to use this JPQL extension.</p>
</div>
<div class="paragraph">
<p><a id="BABGGIFA"></a><a id="TLJPA54133"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-8 Using INTERSECT EQL</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT MAX(e.salary) FROM Employee e WHERE e.address.city = :city1
UNION SELECT MAX(e.salary) FROM Employee e WHERE e.address.city = :city2
SELECT e FROM Employee e JOIN e.phones p WHERE p.areaCode = :areaCode1
INTERSECT SELECT e FROM Employee e JOIN e.phones p WHERE p.areaCode = :areaCode2
SELECT e FROM Employee e
EXCEPT SELECT e FROM Employee e WHERE e.salary &gt; e.manager.salary</code></pre>
</div>
</div>
<div id="sthref513" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#union">"UNION"</a></p>
</li>
<li>
<p><a href="#except">"EXCEPT"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="on"></a><a id="TLJPA620"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="on-2"><a class="anchor" href="#on-2"></a>ON</h3>
<div class="paragraph">
<p>Use the <code>ON</code> clause to append additional conditions to a <code>JOIN</code>
condition, such as for outer joins.</p>
</div>
<div id="sthref514" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>EclipseLink supports using the <code>ON</code> clause between two root level
objects.</p>
</div>
<div id="sthref515" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFGBAD">Example 3-9</a> shows how to use this JPQL extension.</p>
</div>
<div class="paragraph">
<p><a id="BABFGBAD"></a><a id="TLJPA621"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-9 Using ON Clause EQ</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT e FROM Employee e LEFT JOIN e.address ON a.city = :city</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT e FROM Employee e LEFT JOIN MailingAddress a ON e.address = a.address</code></pre>
</div>
</div>
<div id="sthref516" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"JPQL"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="operator"></a><a id="TLJPA622"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="operator-2"><a class="anchor" href="#operator-2"></a>OPERATOR</h3>
<div class="paragraph">
<p>Use <code>OPERATION</code> to call any EclipseLink operator.</p>
</div>
<div id="sthref517" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>EclipseLink supports many database functions using standard operator
names that are translated to different databases. EclipseLink operators
are supported on any database that has an equivalent function (or set of
functions). Use the EclipseLink <code>ExpressionOperator</code> class to define a
custom operator or allow <code>DatabasePlatform</code> to override an operator..</p>
</div>
<div class="paragraph">
<p><code>OPERATOR</code> is similar to <code>FUNCTION</code>, but allows the function to be
database independent, and you can call functions that require special
syntax.</p>
</div>
<div class="paragraph">
<p>The supported EclipseLink operators include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Abs</p>
</li>
<li>
<p>ToUpperCase</p>
</li>
<li>
<p>ToLowerCase</p>
</li>
<li>
<p>Chr</p>
</li>
<li>
<p>Concat</p>
</li>
<li>
<p>Coalesce</p>
</li>
<li>
<p>Case</p>
</li>
<li>
<p>HexToRaw</p>
</li>
<li>
<p>Initcap</p>
</li>
<li>
<p>Instring</p>
</li>
<li>
<p>Soundex</p>
</li>
<li>
<p>LeftPad</p>
</li>
<li>
<p>LeftTrim</p>
</li>
<li>
<p>RightPad</p>
</li>
<li>
<p>RightTrim</p>
</li>
<li>
<p>Substring</p>
</li>
<li>
<p>Translate</p>
</li>
<li>
<p>Ascii</p>
</li>
<li>
<p>Length</p>
</li>
<li>
<p>CharIndex</p>
</li>
<li>
<p>Cast</p>
</li>
<li>
<p>Extract</p>
</li>
<li>
<p>CharLength</p>
</li>
<li>
<p>Difference</p>
</li>
<li>
<p>Reverse</p>
</li>
<li>
<p>Replicate</p>
</li>
<li>
<p>Right</p>
</li>
<li>
<p>Locate</p>
</li>
<li>
<p>ToNumber</p>
</li>
<li>
<p>ToChar</p>
</li>
<li>
<p>AddMonths</p>
</li>
<li>
<p>DateToString</p>
</li>
<li>
<p>MonthsBetween</p>
</li>
<li>
<p>NextDay</p>
</li>
<li>
<p>RoundDate</p>
</li>
<li>
<p>AddDate</p>
</li>
<li>
<p>DateName</p>
</li>
<li>
<p>DatePart</p>
</li>
<li>
<p>DateDifference</p>
</li>
<li>
<p>TruncateDate</p>
</li>
<li>
<p>NewTime</p>
</li>
<li>
<p>Nvl</p>
</li>
<li>
<p>NewTime</p>
</li>
<li>
<p>Ceil</p>
</li>
<li>
<p>Cos</p>
</li>
<li>
<p>Cosh</p>
</li>
<li>
<p>Acos</p>
</li>
<li>
<p>Asin</p>
</li>
<li>
<p>Atan</p>
</li>
<li>
<p>Exp</p>
</li>
<li>
<p>Sqrt</p>
</li>
<li>
<p>Floor</p>
</li>
<li>
<p>Ln</p>
</li>
<li>
<p>Log</p>
</li>
<li>
<p>Mod</p>
</li>
<li>
<p>Power</p>
</li>
<li>
<p>Round</p>
</li>
<li>
<p>Sign</p>
</li>
<li>
<p>Sin</p>
</li>
<li>
<p>Sinh</p>
</li>
<li>
<p>Tan</p>
</li>
<li>
<p>Tanh</p>
</li>
<li>
<p>Trunc</p>
</li>
<li>
<p>Greatest</p>
</li>
<li>
<p>Least</p>
</li>
<li>
<p>Add</p>
</li>
<li>
<p>Subtract</p>
</li>
<li>
<p>Divide</p>
</li>
<li>
<p>Multiply</p>
</li>
<li>
<p>Atan2</p>
</li>
<li>
<p>Cot</p>
</li>
<li>
<p>Deref</p>
</li>
<li>
<p>Ref</p>
</li>
<li>
<p>RefToHex</p>
</li>
<li>
<p>Value</p>
</li>
<li>
<p>ExtractXml</p>
</li>
<li>
<p>ExtractValue</p>
</li>
<li>
<p>ExistsNode</p>
</li>
<li>
<p>GetStringVal</p>
</li>
<li>
<p>GetNumberVal</p>
</li>
<li>
<p>IsFragment</p>
</li>
<li>
<p>SDO_WITHIN_DISTANCE</p>
</li>
<li>
<p>SDO_RELATE</p>
</li>
<li>
<p>SDO_FILTER</p>
</li>
<li>
<p>SDO_NN</p>
</li>
<li>
<p>NullIf</p>
</li>
</ul>
</div>
<div id="sthref518" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBGIAEE">Example 3-10</a> shows how to use this JPQL extension.</p>
</div>
<div class="paragraph">
<p><a id="BGBGIAEE"></a><a id="TLJPA623"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-10 Using OPERATOR EQL</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT e FROM Employee e WHERE OPERATOR('ExtractXml', e.resume, '@years-experience') &gt; 10</code></pre>
</div>
</div>
<div id="sthref519" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#func">"FUNCTION"</a></p>
</li>
<li>
<p>"JPQL"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CIHGBAEC"></a><a id="TLJPA54066"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="regexp"><a class="anchor" href="#regexp"></a>REGEXP</h3>
<div class="paragraph">
<p>Use <code>REGEXP</code> to determine if a string matches a regular expression.</p>
</div>
<div id="sthref520" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>To use the <code>REGEXP</code> function, your database must support regular
expressions.</p>
</div>
<div id="sthref521" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHHDCH">Example 3-11</a> shows how to use this JPQL extension.</p>
</div>
<div class="paragraph">
<p><a id="BABHHDCH"></a><a id="TLJPA54067"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-11 Using REGEXP EQL</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">e.lastName REGEXP 'îDr\.*'</code></pre>
</div>
</div>
<div id="sthref522" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"JPQL"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="sql"></a><a id="TLJPA626"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="sql-2"><a class="anchor" href="#sql-2"></a>SQL</h3>
<div class="paragraph">
<p>Use <code>SQL</code> to integrate SQL within a JPQL statement. This provides an
alternative to using native SQL queries simply because the query may
require a function not supported in JPQL.</p>
</div>
<div id="sthref523" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>SQL</code> function includes both the SQL string (to inline into the JPQL
statement) and the arguments to translate into the SQL string. Use a
question mark character ( <strong>?</strong> ) to define parameters within the SQL that
are translated from the SQL function arguments.</p>
</div>
<div class="paragraph">
<p>You can use <code>SQL</code> to call database functions with non standard syntax,
embed SQL literals, and perform any other SQL operations within JPQL.
With SQL, you can still use JPQL for the query.</p>
</div>
<div id="sthref524" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDCEHAI">Example 3-12</a> shows how to use this JPQL extension.</p>
</div>
<div class="paragraph">
<p><a id="CHDCEHAI"></a><a id="TLJPA627"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-12 Using SQL EQ</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT p FROM Phone p WHERE SQL('CAST(? AS CHAR(3))', e.areaCode) = '613'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT SQL('EXTRACT(YEAR FROM ?)', e.startDate) AS year, COUNT(e) FROM Employee e GROUP BY year</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT e FROM Employee e ORDER BY SQL('? NULLS FIRST', e.startDate)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT e FROM Employee e WHERE e.startDate = SQL('(SELECT SYSDATE FROM DUAL)')</code></pre>
</div>
</div>
<div id="sthref525" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"JPQL"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="table"></a><a id="TLJPA628"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="table-2"><a class="anchor" href="#table-2"></a>TABLE</h3>
<div class="paragraph">
<p>Use <code>TABLE</code> to access unmapped tables.</p>
</div>
<div id="sthref526" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>With the <code>TABLE</code> function, you use join, collection, history, auditing,
or system tables in a JPQL query.</p>
</div>
<div id="sthref527" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIAFABDE">Example 3-13</a> shows how to use an <strong>audit</strong> table
(unmapped) within a <code>SELECT</code> statement.</p>
</div>
<div class="paragraph">
<p><a id="CIAFABDE"></a><a id="TLJPA629"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-13 Using TABLE EQL</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT e, a.LAST_UPDATE_USER FROM Employee e, TABLE('AUDIT') a WHERE a.TABLE = 'EMPLOYEE' AND a.ROWID = COLUMN('ROWID', e)</code></pre>
</div>
</div>
<div id="sthref528" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"JPQL"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="treat"></a><a id="TLJPA630"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="treat-2"><a class="anchor" href="#treat-2"></a>TREAT</h3>
<div class="paragraph">
<p>Use <code>TREAT</code> to cast an object as its subclass value (that is, downcast
related entities with inheritance).</p>
</div>
<div id="sthref529" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEHECHCD">Example 3-14</a> shows how to use this JPQL extension.</p>
</div>
<div class="paragraph">
<p><a id="BEHECHCD"></a><a id="TLJPA631"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-14 Using TREAT EQL</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT e FROM Employee JOIN TREAT(e.projects AS LargeProject)
p WHERE p.budget &gt; 1000000</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="union"></a><a id="TLJPA632"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="union-2"><a class="anchor" href="#union-2"></a>UNION</h3>
<div class="paragraph">
<p>Use <code>UNION</code> to combine the results of two queries into a single query.</p>
</div>
<div id="sthref530" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>With <code>UNION</code>, the unique results from both queries will be returned. If
you include the <code>ALL</code> option, the results found in both queries will be
duplicated.</p>
</div>
<div id="sthref531" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CJHHJIDB">Example 3-15</a> shows how to use this JPQL extension.</p>
</div>
<div class="paragraph">
<p><a id="CJHHJIDB"></a><a id="TLJPA633"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 3-15 Using UNION EQL</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">SELECT MAX(e.salary) FROM Employee e WHERE e.address.city = :city1
UNION SELECT MAX(e.salary) FROM Employee e WHERE e.address.city = :city2</code></pre>
</div>
</div>
<div id="sthref532" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#except">"EXCEPT"</a></p>
</li>
<li>
<p><a href="#intersect">"INTERSECT"</a></p>
</li>
<li>
<p>"JPQL"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/JPQL</a></code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jpa-query-customization-extensions"><a class="anchor" href="#jpa-query-customization-extensions"></a>4. JPA Query Customization Extensions</h2>
<div class="sectionbody">
<div id="TLJPA54068" class="paragraph">
<p>This chapter describes how to specify EcpliseLink query hints (JPA query
extensions). You can specify EclipseLink query hints (JPA query
extensions) by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Using the <code>@QueryHint</code> annotation</p>
</li>
<li>
<p>Including the hints in the <code>orm.xml</code> or <code>eclipselink-orm.xml</code> file</p>
</li>
<li>
<p>Using the <code>setHint()</code> method when executing a named or dynamic query
(JPQL or Criteria)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EclipseLink supplies the following query hints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#batch"><code>batch</code></a></p>
</li>
<li>
<p><a href="#batchsize"><code>batch.size</code></a></p>
</li>
<li>
<p><a href="#batchtype"><code>batch.type</code></a></p>
</li>
<li>
<p><a href="#cacheusage"><code>cache-usage</code></a></p>
</li>
<li>
<p><a href="#cacheusageindirectionpolicy"><code>cache-usage.indirection-policy</code></a></p>
</li>
<li>
<p><a href="#cursor"><code>cursor</code></a></p>
</li>
<li>
<p><a href="#hint.compositeunitmember"><code>composite-unit.member</code></a></p>
</li>
<li>
<p><a href="#cursorinitialsize"><code>cursor.initial-size</code></a></p>
</li>
<li>
<p><a href="#cursorpagesize"><code>cursor.page-size</code></a></p>
</li>
<li>
<p><a href="#exclusiveconnection"><code>exclusive-connection</code></a></p>
</li>
<li>
<p><a href="#flush"><code>flush</code></a></p>
</li>
<li>
<p><a href="#historyasof"><code>history.as-of</code></a></p>
</li>
<li>
<p><a href="#historyasofscn"><code>history.as-of.scn</code></a></p>
</li>
<li>
<p><a href="#inheritanceouterjoin"><code>inheritance.outer-join</code></a></p>
</li>
<li>
<p><a href="#jdbcbindparameters"><code>jdbc.bind-parameters</code></a></p>
</li>
<li>
<p><a href="#jdbcallowpartialbindparameters"><code>jdbc.allow-partial-bind-parameters</code></a></p>
</li>
<li>
<p><a href="#jdbccachestatement"><code>jdbc.cache-statement</code></a></p>
</li>
<li>
<p><a href="#jdbcfetchsize"><code>jdbc.fetch-size</code></a></p>
</li>
<li>
<p><a href="#jdbcfirstresult"><code>jdbc.first-result</code></a></p>
</li>
<li>
<p><a href="#jdbcmaxrows"><code>jdbc.max-rows</code></a></p>
</li>
<li>
<p><a href="#jdbcnativeconnection"><code>jdbc.native-connection</code></a></p>
</li>
<li>
<p><a href="#jdbcparameterdelimiter"><code>jdbc.parameter-delimiter</code></a></p>
</li>
<li>
<p><a href="#jdbctimeout"><code>jdbc.timeout</code></a></p>
</li>
<li>
<p><a href="#joinfetch1"><code>join-fetch</code></a></p>
</li>
<li>
<p><a href="#leftjoinfetch"><code>left-join-fetch</code></a></p>
</li>
<li>
<p><a href="#loadgroup"><code>load-group</code></a></p>
</li>
<li>
<p><a href="#loadgroupattribute"><code>load-group.attribute</code></a></p>
</li>
<li>
<p><a href="#maintaincache"><code>maintain-cache</code></a></p>
</li>
<li>
<p><a href="#pessimisticlock"><code>pessimistic-lock</code></a></p>
</li>
<li>
<p><a href="#prepare"><code>prepare</code></a></p>
</li>
<li>
<p><a href="#queryresultscache"><code>query-results-cache</code></a></p>
</li>
<li>
<p><a href="#queryresultscacheexpiry"><code>query-results-cache.expiry</code></a></p>
</li>
<li>
<p><a href="#queryresultscacheexpirytimeofday"><code>query-results-cache.expiry-time-of-day</code></a></p>
</li>
<li>
<p><a href="#queryresultscacheignorenull"><code>query-results-cache.ignore-null</code></a></p>
</li>
<li>
<p><a href="#queryresultscacherandomizeexpiry"><code>query-results-cache.randomize-expiry</code></a></p>
</li>
<li>
<p><a href="#queryresultscachesize"><code>query-results-cache.size</code></a></p>
</li>
<li>
<p><a href="#queryresultscachetype"><code>query-results-cache.type</code></a></p>
</li>
<li>
<p><a href="#querytype"><code>query-type</code></a></p>
</li>
<li>
<p><a href="#readonly1"><code>read-only</code></a></p>
</li>
<li>
<p><a href="#refresh"><code>refresh</code></a></p>
</li>
<li>
<p><a href="#refreshcascade"><code>refresh.cascade</code></a></p>
</li>
<li>
<p><a href="#resultcollectiontype"><code>result-collection-type</code></a></p>
</li>
<li>
<p><a href="#sqlhint"><code>sql.hint</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All EclipseLink query hints are defined in the <code>QueryHints</code> class in the
<code>org.eclipse.persistence.config package</code>. When you set a hint, you can
set the value using the public static final field in the appropriate
configuration class in <code>org.eclipse.persistence.config</code> package,
including the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>HintValues</code></p>
</li>
<li>
<p><code>CacheUsage</code></p>
</li>
<li>
<p><code>PessimisticLock</code></p>
</li>
<li>
<p><code>QueryType</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see Section 10.3.1 "NamedQuery Annotation" in the
JPA Specification (<code><a href="http://jcp.org/en/jsr/detail?id=317" class="bare">http://jcp.org/en/jsr/detail?id=317</a></code>).</p>
</div>
<div class="paragraph">
<p><a id="batch"></a><a id="TLJPA635"></a></p>
</div>
<hr>
<div class="sect2">
<h3 id="batch-2"><a class="anchor" href="#batch-2"></a>batch</h3>
<div class="paragraph">
<p>Use <code>eclipselink.batch</code> to supply EclipseLink with batching information
so subsequent queries of related objects can be optimized in batches,
instead of being retrieved one-by-one or in one large joined read.</p>
</div>
<div id="sthref534" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p>This query hint accepts a single-valued, relationship path expression.</p>
</div>
<div id="sthref535" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Using the <code>eclipselink.batch</code> hint is more efficient than joining,
because EclipseLink avoids reading duplicate data.</p>
</div>
<div class="paragraph">
<p>You can only batch queries that have a single object in the select
clause.</p>
</div>
<div class="paragraph">
<p>Valid values: a single-valued relationship path expression.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Use <em>dot notation</em> to access nested attributes. For example, to
batch-read an employee&#8217;s manager&#8217;s address, use <code>e.manager.address</code>.
</td>
</tr>
</table>
</div>
<div id="sthref536" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBHCBIJB">Example 4-1</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CBHCBIJB"></a><a id="TLJPA636"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-1 Using batch in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.batch", "e.address");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CBHJEGBF">Example 4-2</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CBHJEGBF"></a><a id="TLJPA637"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-2 Using batch in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.BATCH, value="e.address");</code></pre>
</div>
</div>
<div id="sthref537" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"EclipseLink" JPA Query Hints
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints</a></code></p>
</li>
<li>
<p><a href="#joinfetch1">"join-fetch"</a></p>
</li>
<li>
<p><a href="#batchsize">"batch.size"</a></p>
</li>
<li>
<p><a href="#batchtype">"batch.type"</a></p>
</li>
<li>
<p>"Querying" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="batchsize"></a><a id="TLJPA723"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="batch-size"><a class="anchor" href="#batch-size"></a>batch.size</h3>
<div class="paragraph">
<p>Use <code>eclipselink.batch.size</code> to configure the batch size when using
<code>batch.type</code> set to <code>IN</code>.</p>
</div>
<div id="sthref538" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEJGHF">Table 4-1</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA724"></a><a id="sthref539"></a><a id="BABEJGHF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-1 Valid Values for batch.size</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of keys in each <code>IN</code> clause</p>
</div>
<div class="paragraph">
<p>Default: <strong>256</strong> or the query&#8217;s <code>pageSize</code> (for cursor queries)</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref540" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHIGJA">Example 4-3</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="BABHIGJA"></a><a id="TLJPA54028"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-3 Using batch.size in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.BATCH_SIZE", "3");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABIHJJH">Example 4-4</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABIHJJH"></a><a id="TLJPA54029"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-4 Using batch.size in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.BATCH_SIZE, value="3");</code></pre>
</div>
</div>
<div id="sthref541" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#batch">"batch"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="batchtype"></a><a id="TLJPA727"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="batch-type"><a class="anchor" href="#batch-type"></a>batch.type</h3>
<div class="paragraph">
<p>Use <code>eclipselink.batch.type</code> to specify the type of batch fetching the
query should use for any batch-fetched relationships.</p>
</div>
<div id="sthref542" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAEHJEE">Table 4-2</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA728"></a><a id="sthref543"></a><a id="CBAEHJEE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-2 Valid Values for batch.type</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JOIN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) The original query&#8217;s selection criteria is joined
with the batch query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EXISTS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses an SQL <code>EXISTS</code> and a sub-select in the batch query
instead of a join.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses an SQL <code>IN</code> clause in the batch query passing in the source
object IDs.</p></td>
</tr>
</tbody>
</table>
<div id="sthref544" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGBHFC">Example 4-5</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="BABGBHFC"></a><a id="TLJPA54030"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-5 Using batch.type in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.BATCH_TYPE", "EXISTS");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABFGECF">Example 4-6</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABFGECF"></a><a id="TLJPA54031"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-6 Using batch.type in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.BATCH_TYPE, value="EXISTS");</code></pre>
</div>
</div>
<div id="sthref545" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#batch">"batch"</a></p>
</li>
<li>
<p><a href="#CHDCCIDA">"@BatchFetch"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cacheusage"></a><a id="TLJPA638"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-usage"><a class="anchor" href="#cache-usage"></a>cache-usage</h3>
<div class="paragraph">
<p>Use <code>eclipselink.cache-usage</code> to specify how the query should interact
with the EclipseLink cache.</p>
</div>
<div id="sthref546" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEIJAE">Table 4-3</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA639"></a><a id="sthref547"></a><a id="BABEIJAE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-3 Valid Values for org.eclipse.persistence.config.CacheUsage</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DoNotCheckCache</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always go to the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CheckCacheByExactPrimaryKey</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a read-object query contains an
expression where the primary key is the only comparison, you can obtain
a cache hit if you process the expression against the object in memory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CheckCacheByPrimaryKey</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a read-object query contains an expression
that compares at least the primary key, you can obtain a cache hit if
you process the expression against the objects in memory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CheckCacheThenDatabase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You can configure any read-object query to
check the cache completely before you resort to accessing the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CheckCacheOnly</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You can configure any read-all query to check only
the parent session cache (shared cache) and return the result from it
without accessing the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConformResultsInUnitOfWork</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You can configure any read-object or
read-all query within the context of a unit of work to conform the
results with the changes to the object made within that unit of work.
This includes new objects, deleted objects and changed objects.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UseEntityDefault</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Default) Use the cache configuration as specified by the EclipseLink
descriptor API for this entity.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: The entity default value is to not check the cache
(<code>DoNotCheckCache</code>). The query will access the database and synchronize
with the cache. Unless refresh has been set on the query, the cached
objects will be returned without being refreshed from the database.
EclipseLink does not support the cache usage for native queries or
queries that have complex result sets such as returning data or multiple
objects.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref548" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>EclipseLink JPA uses a shared cache assessed across the entire
persistence unit. After completing an operation in a particular
persistence context, EclipseLink merges the results into the shared
cache, so that other persistence contexts can use the results
<em>regardless of whether the entity manager and persistence context are
created in Java SE or Jakarta EE</em>.</p>
</div>
<div class="paragraph">
<p>Any entity persisted or removed using the entity manager will always
consistently maintained with the cache.</p>
</div>
<div id="sthref549" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCBJAH">Example 4-7</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="BABCBJAH"></a><a id="TLJPA640"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-7 Using cache-usage in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.CacheUsage;
import org.eclipse.persistence.config.QueryHints;
query.setHint(QueryHints.CACHE_USAGE, CacheUsage.CheckCacheOnly);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABBFCGD">Example 4-8</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABBFCGD"></a><a id="TLJPA641"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-8 Using cache-usage in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.CacheUsage;
import org.eclipse.persistence.config.TargetDatabase;
@QueryHint(name=QueryHints.CACHE_USAGE, value=CacheUsage.CheckCacheOnly);</code></pre>
</div>
</div>
<div id="sthref550" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"EclipseLink Caches" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Querying" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p><a href="#cacheusageindirectionpolicy">"cache-usage.indirection-policy"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cacheusageindirectionpolicy"></a><a id="TLJPA731"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-usage-indirection-policy"><a class="anchor" href="#cache-usage-indirection-policy"></a>cache-usage.indirection-policy</h3>
<div class="paragraph">
<p>Use <code>eclipselink.cache-usage.indirection-policy</code> (with
<a href="#cacheusage">cache-usage</a>) to configure in-memory querying and
conforming&#8217;s treatment of uninstantiated indirection/lazy relationships.</p>
</div>
<div id="sthref551" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAHAACF">Table 4-4</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA732"></a><a id="sthref552"></a><a id="CBAHAACF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-4 Valid Values for cache-usage.indirection-policy</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Conform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If conforming encounters an uninstantiated indirection/lazy
object, it is assumed to conform.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Exception</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) If conforming encounters an uninstantiated
indirection/lazy object an exception is thrown.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NotConform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If conforming encounters an uninstantiated
indirection/lazy object it is assumed to not conform.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Trigger</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If conforming encounters an uninstantiated indirection/lazy
object it is triggered.</p></td>
</tr>
</tbody>
</table>
<div id="sthref553" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This hint applies only when the query traverses a <code>join</code> across a lazy
relationship.</p>
</div>
<div id="sthref554" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGHCAF">Example 4-9</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDGHCAF"></a><a id="TLJPA733"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-9 Using cache-usage.indirection-policy in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">query.setHint(QueryHints.INDIRECTION_POLICY, CacheUsageIndirectionPolicy.Trigger);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDEFCID">Example 4-10</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDEFCID"></a><a id="TLJPA734"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-10 Using cache-usage.indirection-policy in a @QueryHint
Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">@QueryHint(name=QueryHints.INDIRECTION_POLICY, value=CacheUsageIndirectionPolicy.Trigger)</code></pre>
</div>
</div>
<div id="sthref555" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"EclipseLink" JPA Query Hints
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints</a></code></p>
</li>
<li>
<p>"EclipseLink Caches" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Querying" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p><a href="#cacheusage">"cache-usage"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cursor"></a><a id="TLJPA735"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cursor-2"><a class="anchor" href="#cursor-2"></a>cursor</h3>
<div class="paragraph">
<p>Use <code>eclipselink.cursor</code> to configure the query to return a
<code>CursoredStream</code>.</p>
</div>
<div id="sthref556" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABDGGBI">Table 4-5</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA736"></a><a id="sthref557"></a><a id="BABDGGBI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-5 Valid Values for cursor</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default)</p></td>
</tr>
</tbody>
</table>
<div id="sthref558" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>A <em>Cursor</em> is a stream of the JDBC <code>ResultSet</code>. Cursors are useful for
large results sets, or when you only need the few results of a query.</p>
</div>
<div class="paragraph">
<p>A cursor implements <code>Enumeration</code>, when the each <code>next()</code> will fetch the
next from the JDBC <code>ResultSet</code>, and builds the resulting Object or
value. A Cursor requires, and will keep, a live JDBC connection. You
must use <code>close()</code> to free the Cursor&#8217;s resources.</p>
</div>
<div class="paragraph">
<p>You can access a Cursor from a JPA Query through <code>getSingleResult()</code>, or
from <code>JpaQuery</code> using <code>getResultCursor()</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can use <code>MAX_ROWS</code> and <code>FIRST_RESULT</code> instead of a Cursor to obtain
a page of results.
</td>
</tr>
</table>
</div>
<div id="sthref559" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHFHEG">Example 4-11</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="BABHFHEG"></a><a id="TLJPA54032"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-11 Using cursor in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.cursor", "TRUE");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABFADCA">Example 4-12</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABFADCA"></a><a id="TLJPA54033"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-12 Using cursor in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.CURSOR, value="TRUE");</code></pre>
</div>
</div>
<div id="sthref560" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cursorinitialsize">"cursor.initial-size"</a></p>
</li>
<li>
<p><a href="#cursorpagesize">"cursor.page-size"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="hint.compositeunitmember"></a><a id="TLJPA54134"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="composite-unit-member"><a class="anchor" href="#composite-unit-member"></a>composite-unit.member</h3>
<div class="paragraph">
<p>The ecliplselink.composite-unit.member query hint specifies the name of
the composite member persistence unit on which you want to execute the
query. You must use it on a native query executed on a composite
persistence unit.</p>
</div>
<div id="sthref561" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIAHAB">Table 4-6</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54135"></a><a id="sthref562"></a><a id="CHDIAHAB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-6 Valid Values for composite-unit.member</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the composite persistence unit.</p></td>
</tr>
</tbody>
</table>
<div id="sthref563" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEJEAE">Example 4-13</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDEJEAE"></a><a id="TLJPA54136"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-13 Using composite-unit.member in a JPA query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.composite-unit.member", "mypersistentunit");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDDJEAA">Example 4-14</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDDJEAA"></a><a id="TLJPA54137"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-14 Using composite-unit.member in an @QueryHint annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.COMPOSITE_UNIT_MEMBER,
value="mypersistentunit");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="cursorinitialsize"></a><a id="TLJPA739"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cursor-initial-size"><a class="anchor" href="#cursor-initial-size"></a>cursor.initial-size</h3>
<div class="paragraph">
<p>Use <code>eclipselink.cursor.initial-size</code> to configure the query to return a
CursoredStream with the specified initial size.</p>
</div>
<div id="sthref564" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBDJEA">Table 4-7</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA740"></a><a id="sthref565"></a><a id="CHDBDJEA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-7 Valid Values for cursor.initial-size</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code> or <code>Strings</code> that can be parsed to <code>int</code> values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The initial
number of objects that are prebuilt for the stream before a <code>next()</code> is
called</p></td>
</tr>
</tbody>
</table>
<div id="sthref566" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIIBJH">Example 4-15</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDIIBJH"></a><a id="TLJPA741"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-15 Using cursor.initial-size in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.cursor_initial_size", "10");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDIHGDI">Example 4-16</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDIHGDI"></a><a id="TLJPA742"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-16 Using cursor.initial-size in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.CURSOR_INITIAL_SIZE, value="10");</code></pre>
</div>
</div>
<div id="sthref567" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cursor">"cursor"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cursorpagesize"></a><a id="TLJPA54069"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cursor-page-size"><a class="anchor" href="#cursor-page-size"></a>cursor.page-size</h3>
<div class="paragraph">
<p>Use <code>eclipselink.cursor.page-size</code> to configure the query to return a
<code>CursoredStream</code> with the specified page size.</p>
</div>
<div id="sthref568" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEBBJJ">Table 4-8</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54070"></a><a id="sthref569"></a><a id="BABEBBJJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-8 Valid Values for cursor.page-size</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code> or <code>Strings</code> that can be parsed to <code>int</code> values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number
of objects that are fetched from the stream on a <code>next()</code> call, if the
buffer of objects is empty</p></td>
</tr>
</tbody>
</table>
<div id="sthref570" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIAFBG">Example 4-17</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDIAFBG"></a><a id="TLJPA54071"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-17 Using cursor.page-size in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.CURSOR_PAGE_SIZE", "10");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDIACBG">Example 4-18</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDIACBG"></a><a id="TLJPA54072"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-18 Using cursor.page-size in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.CURSOR_PAGE_SIZE, value="10");</code></pre>
</div>
</div>
<div id="sthref571" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cursor">"cursor"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="exclusiveconnection"></a><a id="TLJPA747"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="exclusive-connection"><a class="anchor" href="#exclusive-connection"></a>exclusive-connection</h3>
<div class="paragraph">
<p>Use <code>eclipselink.exclusive-connection</code> to specify if the query should
use the exclusive (transactional/write) connection.</p>
</div>
<div id="sthref572" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGGEAH">Table 4-9</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA748"></a><a id="sthref573"></a><a id="BABGGEAH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-9 Valid Values for exclusive-connection</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The query is executed through the exclusive connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div id="sthref574" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This is valid only when an <code>EXCLUSIVE_CONNECTION_MODE</code> property has been
set for the persistence unit (such as VPD). If a
<code>jdbc.exclusive-connection.mode</code> has been configured, use this query
hint to ensure that the query is executed through the exclusive
connection.</p>
</div>
<div class="paragraph">
<p>This may be required in certain cases, such as when database security
prevents a query joining to a secure table from returning the correct
results, when executed through the shared connection.</p>
</div>
<div id="sthref575" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHHEGA">Example 4-19</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDHHEGA"></a><a id="TLJPA749"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-19 Using exclusive-connection in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.EXCLUSIVE_CONNECTION", "TRUE");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDIGEII">Example 4-20</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDIGEII"></a><a id="TLJPA750"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-20 Using exclusive-connection in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.EXCLUSIVE_CONNECTION, value="TRUE");</code></pre>
</div>
</div>
<div id="sthref576" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbcexclusiveconnectionmode">"jdbc.exclusive-connection.mode"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="flush"></a><a id="TLJPA751"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="flush-2"><a class="anchor" href="#flush-2"></a>flush</h3>
<div class="paragraph">
<p>Use <code>eclipselink.flush</code> to specify if the query should flush the
persistence context before executing.</p>
</div>
<div id="sthref577" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAGCCIH">Table 4-10</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA752"></a><a id="sthref578"></a><a id="CBAGCCIH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-10 Valid Values for flush</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The query triggers a flush of the persistence context before
execution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default)</p></td>
</tr>
</tbody>
</table>
<div id="sthref579" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>If the query may access objects that have been changed in the
persistence context, you must trigger a flush in order for the query to
see the changes. If the query does not require seeing the changes, you
should avoid the flush in order to improve performance.</p>
</div>
<div class="paragraph">
<p>You can also configure the flush-mode as a persistence unit property.
See <a href="#flushclearcache">"flush-clear.cache"</a> for
more information.</p>
</div>
<div class="paragraph">
<p>You can also use conforming to query changes without requiring a flush.
See <a href="#cacheusage">"cache-usage"</a> for more information.</p>
</div>
<div id="sthref580" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGGHHG">Example 4-21</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDGGHHG"></a><a id="TLJPA753"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-21 Using flush in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.FLUSH", "TRUE");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHDACD">Example 4-22</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDHDACD"></a><a id="TLJPA754"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-22 Using flush in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.FLUSH, value="TRUE");</code></pre>
</div>
</div>
<div id="sthref581" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#persistencecontextflushmode">"persistence-context.flush-mode"</a></p>
</li>
<li>
<p><a href="#flushclearcache">"flush-clear.cache"</a></p>
</li>
<li>
<p>"EclipseLink" JPA Query Hints
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints</a></code></p>
</li>
<li>
<p>"EclipseLink Caches" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Querying" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p><a href="#cacheusageindirectionpolicy">"cache-usage.indirection-policy"</a></p>
</li>
<li>
<p><a href="#cacheusage">"cache-usage"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="historyasof"></a><a id="TLJPA755"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="history-as-of"><a class="anchor" href="#history-as-of"></a>history.as-of</h3>
<div class="paragraph">
<p>Configures the query to query the state of the object as-of a point in
time.</p>
</div>
<div id="sthref582" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACFHAJC">Table 4-11</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA756"></a><a id="sthref583"></a><a id="CACFHAJC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-11 Valid Values for history.as-of</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timestamp, in the form: <code>YYYY/MM/DD HH:MM:SS.n</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref584" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Both the query execution and result will conform to the database as it
existed based on the database SCN.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This query hint requires a class with historical support or when using
Oracle Flashback.
</td>
</tr>
</table>
</div>
<div id="sthref585" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGCFEI">Example 4-23</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDGCFEI"></a><a id="TLJPA757"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-23 Using history.as-of in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.AS_OF", "2012/10/15 11:21:18.2");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDIEAIC">Example 4-24</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDIEAIC"></a><a id="TLJPA758"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-24 Using history.as-of in @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.AS_OF, value="2012/10/15 11:21:18.2");</code></pre>
</div>
</div>
<div id="sthref586" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#historyasofscn">"history.as-of.scn"</a></p>
</li>
<li>
<p>"Using Oracle Flashback Technology" in <em>Oracle Database Advanced
Application Developer&#8217;s Guide</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="historyasofscn"></a><a id="TLJPA759"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="history-as-of-scn"><a class="anchor" href="#history-as-of-scn"></a>history.as-of.scn</h3>
<div class="paragraph">
<p>Use <code>eclipselink.history.as-of.scn</code> to configure the query to query the
state of the object as-of a database SCN (System Change Number).</p>
</div>
<div id="sthref587" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBACAFGG">Table 4-12</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA760"></a><a id="sthref588"></a><a id="CBACAFGG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-12 Valid Values for history.as-of.scn</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer SCN value</p></td>
</tr>
</tbody>
</table>
<div id="sthref589" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This query hint requires Oracle Flashback support.
</td>
</tr>
</table>
</div>
<div id="sthref590" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGAJAB">Example 4-25</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDGAJAB"></a><a id="TLJPA761"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-25 Using history.as-of.scn in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.AS_OF_SCN", "3");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDIHCFG">Example 4-26</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDIHCFG"></a><a id="TLJPA762"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-26 Using history.as-of.scn in @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.AS_OF_SCN, value="3");</code></pre>
</div>
</div>
<div id="sthref591" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#historyasof">"history.as-of"</a></p>
</li>
<li>
<p>"Using Oracle Flashback Technology" in <em>Oracle Database Advanced
Application Developer&#8217;s Guide</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="inheritanceouterjoin"></a><a id="TLJPA763"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="inheritance-outer-join"><a class="anchor" href="#inheritance-outer-join"></a>inheritance.outer-join</h3>
<div class="paragraph">
<p>Use <code>eclipselink.inheritance.outer-join</code> to configure the query to use
an outer-join for all subclasses.</p>
</div>
<div id="sthref592" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAGHABJ">Table 4-13</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA764"></a><a id="sthref593"></a><a id="CBAGHABJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-13 Valid Values for inheritance.outer-join</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use outer-join.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not use outer-join; execute a separate query for
each subclass.</p></td>
</tr>
</tbody>
</table>
<div id="sthref594" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This query hint can be used queries to root or branch inherited classes.</p>
</div>
<div class="paragraph">
<p>You can also configure this behavior by using a <code>DescriptorCustomizer</code>
(see
<a href="#descriptorcustomizer">"descriptor.customizer"</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This is required for correct ordering, <code>firstResult</code>, <code>maxResult</code>, and
cursors.
</td>
</tr>
</table>
</div>
<div id="sthref595" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDICAFC">Example 4-27</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDICAFC"></a><a id="TLJPA765"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-27 Using inheritance.outer-join in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.INHERITANCE_OUTER_JOIN", "TRUE");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDIFIJJ">Example 4-28</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDIFIJJ"></a><a id="TLJPA54034"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-28 Using inheritance.outer-join in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.INHERITANCE_OUTER_JOIN, value="TRUE");</code></pre>
</div>
</div>
<div id="sthref596" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Inheritance" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcbindparameters"></a><a id="TLJPA642"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-bind-parameters"><a class="anchor" href="#jdbc-bind-parameters"></a>jdbc.bind-parameters</h3>
<div class="paragraph">
<p>Use <code>eclipselink.jdbc.bind-parameters</code> to specify if the query uses
parameter binding (parameterized SQL).</p>
</div>
<div id="sthref597" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHJFEJ">Table 4-14</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA643"></a><a id="sthref598"></a><a id="BABHJFEJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-14 Valid Values for
org.eclipse.persistence.config.HintValues</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TRUE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bind all parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FALSE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not bind all parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PERSISTENCE_UNIT_DEFAULT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Use the parameter binding setting
made in your EclipseLink session&#8217;s database login, which is true by
default.</p></td>
</tr>
</tbody>
</table>
<div id="sthref599" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default, EclipseLink enables parameter binding and statement caching.
This causes EclipseLink to use a prepared statement, binding all SQL
parameters and caching the prepared statement. When you re-execute this
query, you avoid the SQL preparation, which improves performance.</p>
</div>
<div class="paragraph">
<p>You can also configure parameter binding for the persistence unit in the
<code>persistence.xml</code> file (when used in a Java SE environment).</p>
</div>
<div id="sthref600" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGDCJA">Example 4-29</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="BABGDCJA"></a><a id="TLJPA644"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-29 Using bind-parameters in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint(QueryHints.BIND_PARAMETERS, HintValues.TRUE);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABIHAEJ">Example 4-30</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABIHAEJ"></a><a id="TLJPA645"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-30 Using bind-parameters in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.TargetDatabase;
@QueryHint(name=QueryHints.BIND_PARAMETERS, value=HintValues.TRUE);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABFBBJD">Example 4-31</a> shows how to configure parameter binding in
the persistence unit <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABFBBJD"></a><a id="TLJPA646"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-31 Specifying Parameter Binding Persistence Unit Property</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.bind-parameters" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or byimporting a <code>property</code> map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.JDBC_BIND_PARAMETERS, "true");</code></pre>
</div>
</div>
<div id="sthref601" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbccachestatements">"jdbc.cache-statements"</a></p>
</li>
<li>
<p><a href="#jdbcbatchwritingsize">"jdbc.batch-writing.size"</a></p>
</li>
<li>
<p>"Parameterized SQL and Statement Caching" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcallowpartialbindparameters"></a><a id="TLJPA831"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-allow-partial-bind-parameters"><a class="anchor" href="#jdbc-allow-partial-bind-parameters"></a>jdbc.allow-partial-bind-parameters</h3>
<div class="paragraph">
<p>Use <code>eclipselink.jdbc.allow-partial-bind-parameters</code> to specify if
parameter binding decisions apply to individual expressions or the whole
query.</p>
</div>
<div class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHJFEK">Table 4-83</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA832"></a><a id="sthref833"></a><a id="BABHJFEK"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-83 Valid Values for jdbc.allow-partial-bind-parameters</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TRUE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EclipseLink binds parameters per SQL function/expression.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FALSE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) EclipseLink either binds all parameters or no
parameters; depending on database support.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>EclipseLink determines binding behavior based on the database&#8217;s support
for binding. If the database does not support binding, for a specific
expression, EclipseLink will disable parameter binding for the whole
query. Setting this property to 'true' will allow EclipseLink to bind
per expression, instead of per query.</p>
</div>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFBBJK">Example 4-83</a> shows how to configure parameter binding in
the persistence unit <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABFBBJK"></a><a id="TLJPA836"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-83 Specifying Allow Partial Parameter Binding Persistence
Unit Property</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.allow-partial-bind-parameters" value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or byimporting a <code>property</code> map:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.JDBC_ALLOW_PARTIAL_PARAMETERS, "true");</code></pre>
</div>
</div>
<div id="sthref837" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbcbindparameters">"jdbc.bind-parameters"</a></p>
</li>
<li>
<p><a href="#jdbcbatchwritingsize">"jdbc.batch-writing.size"</a></p>
</li>
<li>
<p>"Parameterized SQL and Statement Caching" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbccachestatement"></a><a id="TLJPA766"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-cache-statement"><a class="anchor" href="#jdbc-cache-statement"></a>jdbc.cache-statement</h3>
<div class="paragraph">
<p>Specify if the query caches its JDBC statement.</p>
</div>
<div id="sthref602" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIBGGB">Table 4-15</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA767"></a><a id="sthref603"></a><a id="CHDIBGGB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-15 Valid Values for jdbc.cache-statement</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The query will cache its JDBC statement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default)</p></td>
</tr>
</tbody>
</table>
<div id="sthref604" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This allows queries to use parameterized SQL with statement caching. It
also allows a specific query to not cache its statement, if statement
caching is enable for the persistence unit.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Normally, you should set statement caching for the entire persistence
unit (see
<a href="#jdbccachestatements">"jdbc.cache-statements"</a>)
instead of each query.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When using a <code>DataSource</code>, you must set statement caching in the
<code>DataSource</code> configuration.</p>
</div>
<div id="sthref605" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIAHFI">Example 4-32</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDIAHFI"></a><a id="TLJPA54035"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-32 Using jdbc.cache-statement in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.CACHE_STATEMENT", "TRUE");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHEDDG">Example 4-33</a> shows how to use this hint in the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDHEDDG"></a><a id="TLJPA54036"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-33 Using jdbc.cache-statement in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.CACHE_STATEMENT, value="TRUE");</code></pre>
</div>
</div>
<div id="sthref606" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbccachestatements">"jdbc.cache-statements"</a></p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcfetchsize"></a><a id="TLJPA647"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-fetch-size"><a class="anchor" href="#jdbc-fetch-size"></a>jdbc.fetch-size</h3>
<div class="paragraph">
<p>Use <code>eclipselink.jdbc.fetch-size</code> to specify the number of rows to be
fetched from the database when additional rows are needed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This property requires JDBC driver support.
</td>
</tr>
</table>
</div>
<div id="sthref607" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHHCFG">Table 4-16</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA648"></a><a id="sthref608"></a><a id="CHDHHCFG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-16 Valid Values for eclipselink.jdbc.fetch-size</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">from <code>0</code> to <code>Integer.MAX_VALUE</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Default = <code>0</code>) As a <code>String</code>, depending on your JDBC driver.</p>
</div>
<div class="paragraph">
<p>If 0, the JDBC driver default will be used.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref609" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>For queries that return a large number of objects, you can configure the
row fetch size used in the query to improve performance by reducing the
number database hits required to satisfy the selection criteria.</p>
</div>
<div class="paragraph">
<p>By default, most JDBC drivers use a fetch size of 10. , so if you are
reading 1000 objects, increasing the fetch size to 256 can significantly
reduce the time required to fetch the query&#8217;s results. The optimal fetch
size is not always obvious. Usually, a fetch size of one half or one
quarter of the total expected result size is optimal.</p>
</div>
<div class="paragraph">
<p>If you are unsure of the result set size, incorrectly setting a fetch
size too large or too small can decrease performance.</p>
</div>
<div id="sthref610" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBEBDE">Example 4-34</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDBEBDE"></a><a id="TLJPA649"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-34 Using jdbc.fetch-size in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.JDBC_FETCH_SIZE", "100");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHFAHJ">Example 4-35</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDHFAHJ"></a><a id="TLJPA650"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-35 Using jdbc.fetch-size in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.JDBC_FETCH_SIZE, value="100");</code></pre>
</div>
</div>
<div id="sthref611" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"EclipseLink" JPA Query Hints
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints</a></code></p>
</li>
<li>
<p>"Querying" and "Enhancing Performance" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
<li>
<p>"EclipseLink Caches" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcfirstresult"></a><a id="TLJPA770"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-first-result"><a class="anchor" href="#jdbc-first-result"></a>jdbc.first-result</h3>
<div class="paragraph">
<p>Use <code>eclipselink.jdbc.first-result</code> to specify if the query should skip
the specified number of rows in the result.</p>
</div>
<div id="sthref612" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BHAGFHHH">Table 4-17</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA771"></a><a id="sthref613"></a><a id="BHAGFHHH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-17 Valid Values for jdbc.first-result</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>Integer</code> or <code>String</code> value that can be parsed to an <code>int</code> value.</p>
</div>
<div class="paragraph">
<p>The position of the first result to retrieve.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref614" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This query hint is similar to JPA Query <code>setFirstResults()</code>, but can be
set in metadata for <code>NamedQuerys</code>.</p>
</div>
<div id="sthref615" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIFCDA">Example 4-36</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDIFCDA"></a><a id="TLJPA772"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-36 Using jdbc.first-result in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.JDBC_FIRST_RESULT", "10");</code></pre>
</div>
</div>
<div id="sthref616" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Query Concepts" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcmaxrows"></a><a id="TLJPA651"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-max-rows"><a class="anchor" href="#jdbc-max-rows"></a>jdbc.max-rows</h3>
<div class="paragraph">
<p>Use <code>eclipselink.jdbc.max-rows</code> to specify the maximum number of rows to
be returned. If the query returns more rows than specified, the trailing
rows will not be returned.</p>
</div>
<div id="sthref617" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BACJCJHA">Table 4-18</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA652"></a><a id="sthref618"></a><a id="BACJCJHA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-18 Valid Values for eclipselink.jdbc.max-rows</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Int</code> or <code>String</code> (that can be parsed to <code>Int</code> values)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configures the
JDBC maximum number of rows.</p></td>
</tr>
</tbody>
</table>
<div id="sthref619" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This hint is similar to JPQL <code>setMaxResults()</code>, but can be specified
within the metadata for <code>NamedQueries</code>.</p>
</div>
<div id="sthref620" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BACJHHJB">Example 4-37</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="BACJHHJB"></a><a id="TLJPA653"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-37 Using jdbc.max-rows in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.JDBC_MAX_ROWS", "100");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BACEDDBB">Example 4-38</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="BACEDDBB"></a><a id="TLJPA654"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-38 Using jdbc.max-rows in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.JDBC_MAX_ROWS, value="100");</code></pre>
</div>
</div>
<div id="sthref621" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>EclipseLink Pagination Example
<a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Pagination" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Pagination</a></p>
</li>
<li>
<p>"Query Concepts" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcnativeconnection"></a><a id="TLJPA773"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-native-connection"><a class="anchor" href="#jdbc-native-connection"></a>jdbc.native-connection</h3>
<div class="paragraph">
<p>Use <code>eclipselink.jdbc.native-connection</code> to specify if the query
requires a native JDBC connection.</p>
</div>
<div id="sthref622" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAFCGCJ">Table 4-19</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA774"></a><a id="sthref623"></a><a id="CBAFCGCJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-19 Valid Values for jdbc.native-connection</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Require native connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not require native connection.</p></td>
</tr>
</tbody>
</table>
<div id="sthref624" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This may be required for some queries on some server platforms that have
<code>DataSource</code> implementations that wrap the JDBC connection in their own
proxy. If the query requires custom JDBC access, it may require a native
connection.</p>
</div>
<div class="paragraph">
<p>A <code>ServerPlatform</code> is required to be set as a persistence property to be
able to use a native connection. For features that EclipseLink already
knows require a native connection, eclipselink.jdbc.native-connection
will default to <code>true</code>.</p>
</div>
<div id="sthref625" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIGECJ">Example 4-39</a> shows how to use the hint in a JPA Query.</p>
</div>
<div class="paragraph">
<p><a id="CHDIGECJ"></a><a id="TLJPA775"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-39 Using jdbc.native-connection in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.NATIVE_CONNECTION", "TRUE");</code></pre>
</div>
</div>
<div id="sthref626" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#target-server">"target-server"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcparameterdelimiter"></a><a id="TLJPA776"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-parameter-delimiter"><a class="anchor" href="#jdbc-parameter-delimiter"></a>jdbc.parameter-delimiter</h3>
<div class="paragraph">
<p>Use <code>eclipselink.jdbc.parameter-delimiter</code> to specify a custom parameter
binding character (instead of the default hash <strong>#</strong> character).</p>
</div>
<div id="sthref627" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAJJADC">Table 4-20</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA777"></a><a id="sthref628"></a><a id="CBAJJADC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-20 Valid Values for jdbc.parameter-delimiter</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Character</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any valid, single character. Do not use "".</p></td>
</tr>
</tbody>
</table>
<div id="sthref629" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDCICJE">Example 4-40</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDCICJE"></a><a id="TLJPA54037"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-40 Using jdbc.parameter-delimiter in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.PARAMETER_DELIMITER", ",");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDFCEBI">Example 4-41</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDFCEBI"></a><a id="TLJPA54038"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-41 Using jdbc.parameter-delimiter in a @QueryHint
Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.PARAMETER_DELIMITER, value=",");</code></pre>
</div>
</div>
<div id="sthref630" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbcbindparameters">"jdbc.bind-parameters"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbctimeout"></a><a id="TLJPA656"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-timeout"><a class="anchor" href="#jdbc-timeout"></a>jdbc.timeout</h3>
<div class="paragraph">
<p>Use <code>eclipselink.jdbc.timeout</code> to specify number of seconds EclipseLink
will wait (time out) for a query result, before throwing a
<code>DatabaseExcpetion</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This property requires JDBC driver support.
</td>
</tr>
</table>
</div>
<div id="sthref631" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHBCIE">Table 4-21</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA657"></a><a id="sthref632"></a><a id="CHDHBCIE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-21 Valid Values for eclipselink.jdbc.timeout</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">from <code>0</code> to <code>Integer.MAX_VALUE</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Default = <code>0</code>) As a <code>String</code>, depending on your JDBC driver.</p>
</div>
<div class="paragraph">
<p>If 0, EclipseLink will never time out waiting for a query.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref633" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Some database platforms may not support lock timeouts, so you may
consider setting a <code>JDBC_TIMEOUT</code> hint for these platforms.</p>
</div>
<div id="sthref634" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGCDAG">Example 4-42</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDGCDAG"></a><a id="TLJPA658"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-42 Using jdbc.timeout in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.CacheUsage;
import org.eclipse.persistence.config.QueryHints;
query.setHint(QueryHints.JDBC_TIMEOUT, "100");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHICEC">Example 4-43</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDHICEC"></a><a id="TLJPA659"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-43 Using jdbc.timeout in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.CacheUsage;
import org.eclipse.persistence.config.TargetDatabase;
@QueryHint(name=QueryHints.JDBC_TIMEOUT, value="100");</code></pre>
</div>
</div>
<div id="sthref635" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#querytype">"query-type"</a></p>
</li>
<li>
<p>"About JPA Query Hints" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="joinfetch1"></a><a id="TLJPA660"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="join-fetch"><a class="anchor" href="#join-fetch"></a>join-fetch</h3>
<div class="paragraph">
<p>Use <code>eclipselink.join-fetch hint</code> to join attributes in a query.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Use <em>dot notation</em> to access nested attributes. For example, to
batch-read an employee&#8217;s manager&#8217;s address, use <code>e.manager.address</code>.
</td>
</tr>
</table>
</div>
<div id="sthref636" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHECAC">Table 4-22</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA661"></a><a id="sthref637"></a><a id="BABHECAC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-22 Valid Values for eclipselink.join-fetch hint</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A relationship path expression</p></td>
</tr>
</tbody>
</table>
<div id="sthref638" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This hint is similar to <code>eclipselink.batch</code>. Subsequent queries of
related objects can be optimized in batches instead of being retrieved
in one large joined read</p>
</div>
<div class="paragraph">
<p>The <code>eclipselink.join-fetch</code> hint differs from JPQL joining in that it
allows multilevel fetch joins.</p>
</div>
<div id="sthref639" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABJAJBE">Example 4-44</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="BABJAJBE"></a><a id="TLJPA662"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-44 Using join-fetch in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.join-fetch", "e.address");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABCAFGJ">Example 4-45</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABCAFGJ"></a><a id="TLJPA663"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-45 Using join-fetch in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.FETCH, value="e.address");</code></pre>
</div>
</div>
<div id="sthref640" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"EclipseLink" JPA Query Hints
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Querying/Query_Hints</a></code></p>
</li>
<li>
<p>EclipseLink Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/QueryOptimization" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/QueryOptimization</a></code></p>
</li>
<li>
<p>"Optimizing Queries" in <em>Understanding EclipseLink</em>.</p>
</li>
<li>
<p>"Fetch Joins" in the JPA Specification
(<code><a href="http://jcp.org/en/jsr/detail?id=317" class="bare">http://jcp.org/en/jsr/detail?id=317</a></code>)</p>
</li>
<li>
<p><a href="#batch">"batch"</a></p>
</li>
<li>
<p><a href="#leftjoinfetch">"left-join-fetch"</a></p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="leftjoinfetch"></a><a id="TLJPA779"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="left-join-fetch"><a class="anchor" href="#left-join-fetch"></a>left-join-fetch</h3>
<div class="paragraph">
<p>Use <code>eclipselink.left-join-fetch</code> to optimize the query: related objects
will be joined into the query instead of being queries separately.</p>
</div>
<div id="sthref641" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBADFCGG">Table 4-23</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA780"></a><a id="sthref642"></a><a id="CBADFCGG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-23 Valid Values for left-join-fetch</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JPQL-style navigations to a relationship</p></td>
</tr>
</tbody>
</table>
<div id="sthref643" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use this query hint to create nested join fetches, which is not
supported by JPQL. You can also use <code>eclipselink.left-join-fetch</code> to
create join fetches with native queries.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This uses an <code>OUTER</code> join to allow null or empty values.
</td>
</tr>
</table>
</div>
<div id="sthref644" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDCBHBD">Example 4-46</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDCBHBD"></a><a id="TLJPA54039"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-46 Using left-join-fetch in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.LEFT_FETCH", "STRING");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDECBHE">Example 4-47</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDECBHE"></a><a id="TLJPA54040"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-47 Using left-join-fetch in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.LEFT_FETCH, value="STRING");</code></pre>
</div>
</div>
<div id="sthref645" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>EclipseLink Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/QueryOptimization" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/QueryOptimization</a></code></p>
</li>
<li>
<p>"Fetch Joins" in the JPA Specification
(<code><a href="http://jcp.org/en/jsr/detail?id=317" class="bare">http://jcp.org/en/jsr/detail?id=317</a></code>)</p>
</li>
<li>
<p><a href="#batch">"batch"</a></p>
</li>
<li>
<p><a href="#joinfetch1">"join-fetch"</a></p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="loadgroup"></a><a id="TLJPA782"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="load-group"><a class="anchor" href="#load-group"></a>load-group</h3>
<div class="paragraph">
<p>Use <code>eclipselink.load-group</code> to configures a query to use the load group
object.</p>
</div>
<div id="sthref646" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAFAEGI">Table 4-24</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA783"></a><a id="sthref647"></a><a id="CBAFAEGI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-24 Valid Values for load-group</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>load-group</code> classname</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An instance of <code>LoadGroup</code>.</p></td>
</tr>
</tbody>
</table>
<div id="sthref648" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>With load groups, EclipseLink ensures that all relational attributes for
a group are loaded. LoadGroups are only supported for queries returning
objects (only a single alias can be the select clause).</p>
</div>
<div id="sthref649" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDJICH">Example 4-48</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDDJICH"></a><a id="TLJPA54041"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-48 Using load-group in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.LOAD_GROUP", MyLoadGroup);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDFJAGD">Example 4-49</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDFJAGD"></a><a id="TLJPA54042"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-49 Using load-group in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.LOAD_GROUP, value="lg");</code></pre>
</div>
</div>
<div id="sthref650" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#loadgroupattribute">"load-group.attribute"</a></p>
</li>
<li>
<p>"AttributeGroup Types and Operations" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>EclipseLink Attribute Group
example:`http://wiki.eclipse.org/EclipseLink/Examples/JPA/AttributeGroup`</p>
</li>
<li>
<p><a href="#BABJBDEG">"@FetchGroup"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="loadgroupattribute"></a><a id="TLJPA785"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="load-group-attribute"><a class="anchor" href="#load-group-attribute"></a>load-group.attribute</h3>
<div class="paragraph">
<p>Use <code>eclipselink.load-group.attribute</code> to specify if the query uses a
<a href="#loadgroup">load-group</a> that includes a list of attributes.</p>
</div>
<div id="sthref651" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You must define each attribute using a separate hint. The query loads
all relational attributes defined in the load group.</p>
</div>
<div class="paragraph">
<p>LoadGroups are only supported for queries returning objects (only a
single alias can be the select clause). Both local and nested attributes
are supported.</p>
</div>
<div id="sthref652" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#loadgroup">"load-group"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="maintaincache"></a><a id="TLJPA54073"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="maintain-cache"><a class="anchor" href="#maintain-cache"></a>maintain-cache</h3>
<div class="paragraph">
<p>Use <code>eclipselink.maintain-cache</code> to controls whether or not query
results are cached in the session cache</p>
</div>
<div id="sthref653" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEHGHI">Table 4-25</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54074"></a><a id="sthref654"></a><a id="BABEHGHI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-25 Valid Values for org.eclipselink.maintain-cache</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TRUE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintain cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FALSE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not maintain cache.</p></td>
</tr>
</tbody>
</table>
<div id="sthref655" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>eclipselink.maintain-cache</code> hint provides a way to query the
current database contents <em>without affecting the current persistence
context</em>. It configures the query to return un-managed instances so any
updates to entities queried using this hint would have to be merged into
the persistence context.</p>
</div>
<div id="sthref656" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABJCJGF">Example 4-50</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="BABJCJGF"></a><a id="TLJPA54075"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-50 Using maintain-cache in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint(QueryHints.MAINTAIN_CACHE, HintValues.FALSE);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABBHIDI">Example 4-51</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABBHIDI"></a><a id="TLJPA54076"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-51 Using maintain-cache in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.MAINTAIN_CACHE, value=HintValues.FALSE);</code></pre>
</div>
</div>
<div id="sthref657" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>"EclipseLink Caches" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="pessimisticlock"></a><a id="TLJPA668"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="pessimistic-lock"><a class="anchor" href="#pessimistic-lock"></a>pessimistic-lock</h3>
<div class="paragraph">
<p>Use <code>eclipselink.pessimistic-lock</code> to specify if EclipseLink uses
pessimistic locking.</p>
</div>
<div id="sthref658" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHDEEDF">Table 4-26</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA669"></a><a id="sthref659"></a><a id="CIHDEEDF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-26 Valid Values for
org.eclipse.persistence.config.PessimisticLock</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NoLock</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not use pessimistic locking.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Lock</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EclipseLink issues <code>SELECT &#8230;&#8203;. FOR UPDATE</code> statements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LockNoWait</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EclipseLink issues <code>SELECT &#8230;&#8203;. FOR UPDATE NO WAIT</code>
statements.</p></td>
</tr>
</tbody>
</table>
<div id="sthref660" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The primary advantage of using pessimistic locking is that you are
assured, once the lock is obtained, of a successful edit. This is
desirable in highly concurrent applications in which optimistic locking
may cause too many optimistic locking errors.</p>
</div>
<div class="paragraph">
<p>One drawback of pessimistic locking is that it requires additional
database resources, requiring the database transaction and connection to
be maintained for the duration of the edit. Pessimistic locking may also
cause deadlocks and lead to concurrency issues.</p>
</div>
<div id="sthref661" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHGEJFF">Example 4-52</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CIHGEJFF"></a><a id="TLJPA670"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-52 Using pessimistic-lock in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PessimisticLock;
import org.eclipse.persistence.config.QueryHints;
query.setHint(QueryHints.PESSIMISTIC_LOCK, PessimisticLock.LockNoWait);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CIHIAFGH">Example 4-53</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CIHIAFGH"></a><a id="TLJPA671"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-53 Using pessimistic-lock in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PessimisticLock;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.PESSIMISTIC_LOCK, value=PessimisticLock.LockNoWait);</code></pre>
</div>
</div>
<div id="sthref662" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>EclipseLink Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/PessimisticLocking" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/PessimisticLocking</a></code></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
<li>
<p>"Understanding Queries" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Building Blocks of a EclipseLink Project" in <em>Understanding
EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="prepare"></a><a id="TLJPA788"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="prepare-2"><a class="anchor" href="#prepare-2"></a>prepare</h3>
<div class="paragraph">
<p>Use <code>eclipselink.prepare</code> to specify if a query prepares (that is,
generates) its SQL for each execution.</p>
</div>
<div id="sthref663" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBABAEBF">Table 4-27</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA789"></a><a id="sthref664"></a><a id="CBABAEBF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-27 Valid Values for prepare</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generate the SQL <em>each time</em> EclipseLink executes the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Generate the SQL only the <em>first time</em> EclipseLink
executes the query.</p></td>
</tr>
</tbody>
</table>
<div id="sthref665" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default, EclipseLink does not re-generate the SQL for each execution.
This may improve performance.</p>
</div>
<div class="paragraph">
<p>For queries that require dynamic SQL (for example, to handle <code>null</code>
parameters) set <code>eclipselink.prepare</code> to <strong>false</strong>.</p>
</div>
<div id="sthref666" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEABHD">Example 4-54</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDEABHD"></a><a id="TLJPA54043"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-54 Using prepare in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.PREPARE", "TRUE");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDBDIFC">Example 4-55</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDBDIFC"></a><a id="TLJPA54044"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-55 Using prepare in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.PREPARE, value="TRUE");</code></pre>
</div>
</div>
<div id="sthref667" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Understanding Queries" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="queryresultscache"></a><a id="TLJPA792"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="query-results-cache"><a class="anchor" href="#query-results-cache"></a>query-results-cache</h3>
<div class="paragraph">
<p>Use <code>eclipselink.query-results-cache</code> to specify that the query should
use a results cache.</p>
</div>
<div id="sthref668" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEBFCF">Table 4-28</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA793"></a><a id="sthref669"></a><a id="CHDEBFCF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-28 Valid Values for query-results-cache</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Persistence_Unit_Default</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>True</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query results are cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>False</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query results are not cached.</p></td>
</tr>
</tbody>
</table>
<div id="sthref670" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default, the query will cache 100 query results (see
<a href="#queryresultscachesize">query-results-cache.size</a>); if the same named query with
the same arguments is re-executed EclipseLink will skip the database and
return the cached results.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <em>query</em> cache is different and independent from the <em>object</em> cache.
</td>
</tr>
</table>
</div>
<div id="sthref671" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHAFFG">Example 4-56</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDHAFFG"></a><a id="TLJPA54045"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-56 Using query-results-cache in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.QUERY_RESULTS_CACHE", "TRUE");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDBHAGC">Example 4-57</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDBHAGC"></a><a id="TLJPA54046"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-57 Using query-results-cache in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.QUERY_RESULTS_CACHE, value="TRUE");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDBHFJI">Example 4-58</a> shows how to use this hint in an <code>orm.xml</code>
file.</p>
</div>
<div class="paragraph">
<p><a id="CHDBHFJI"></a><a id="TLJPA796"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-58 Using query-results-cache in orm.xml File</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;?xml version="1.0"?&gt;
&lt;entity-mappings
    xmlns="http://www.eclipse.org/eclipselink/xsds/persistence/orm"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.eclipse.org/eclipselink/xsds/persistence/orm     http://www.eclipse.org/eclipselink/xsds/eclipselink_orm_2_4.xsd"
    version="2.4"&gt;
    &lt;entity name="Employee" class="org.acme.Employee" access="FIELD"&gt;
        &lt;named-query name="findAllEmployeesInCity" query="Select e from Employee e where e.address.city = :city"&gt;
            &lt;hint name="eclipselink.query-results-cache" value="true"/&gt;
            &lt;hint name="eclipselink.query-results-cache.size" value="500"/&gt;
        &lt;/named-query&gt;
        ...
    &lt;/entity&gt;
&lt;/entity-mappings&gt;</code></pre>
</div>
</div>
<div id="sthref672" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"About Query Results Cache" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="queryresultscacheexpiry"></a><a id="TLJPA797"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="query-results-cache-expiry"><a class="anchor" href="#query-results-cache-expiry"></a>query-results-cache.expiry</h3>
<div class="paragraph">
<p>Use <code>eclipselink.query-results-cache.expiry</code> to set the time-to-live
(that is, expiration time) of the query&#8217;s results cache.</p>
</div>
<div id="sthref673" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAEIJBC">Table 4-29</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA798"></a><a id="sthref674"></a><a id="CBAEIJBC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-29 Valid Values for query-results-cache.expiry</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of milliseconds, as <code>Integer</code> or <code>Strings</code> that can be
parsed to <code>int</code> values.</p></td>
</tr>
</tbody>
</table>
<div id="sthref675" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default the query results cache will not expiry results.</p>
</div>
<div id="sthref676" class="ulist">
<ul>
<li>
<p>+
Examples*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#CHDHHGJE">Example 4-59</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDHHGJE"></a><a id="TLJPA54047"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-59 Using query-results-cache.expiry in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.QUERY_RESULTS_CACHE_EXPIRY", "100");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHIJFD">Example 4-60</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDHIJFD"></a><a id="TLJPA54048"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-60 Using query-results-cache.expiry in a @QueryHint
Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.QUERY_RESULTS_CACHE_EXPIRY, value="100");</code></pre>
</div>
</div>
<div id="sthref677" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#queryresultscache">"query-results-cache"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="queryresultscacheexpirytimeofday"></a><a id="TLJPA801"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="query-results-cache-expiry-time-of-day"><a class="anchor" href="#query-results-cache-expiry-time-of-day"></a>query-results-cache.expiry-time-of-day</h3>
<div class="paragraph">
<p>Use <code>eclipselink.query-results-cache.expiry-time-of-day</code> to set the time
of day of the query&#8217;s results cache expiration.</p>
</div>
<div id="sthref678" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAEDBEC">Table 4-30</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA802"></a><a id="sthref679"></a><a id="CBAEDBEC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-30 Valid Values for query-results-cache.expiry-time-of-day</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time, in HH:MM:SS format, as a <code>String</code></p></td>
</tr>
</tbody>
</table>
<div id="sthref680" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default the query results cache will not expiry results.</p>
</div>
<div id="sthref681" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDCCJCH">Example 4-61</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDCCJCH"></a><a id="TLJPA803"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-61 Using query-results-cache.expiry-time-of-day in a JPA
Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.QUERY_RESULTS_CACHE_EXPIRY_TIME_OF_DAY", "11:15:34");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDEDCDD">Example 4-62</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDEDCDD"></a><a id="TLJPA804"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-62 Using query-results-cache.expiry-time-of-day in a
@QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.QUERY_RESULTS_CACHE_EXPIRY_TIME_OF_DAY, value="11:15:34");</code></pre>
</div>
</div>
<div id="sthref682" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#queryresultscache">"query-results-cache"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="queryresultscacheignorenull"></a><a id="TLJPA805"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="query-results-cache-ignore-null"><a class="anchor" href="#query-results-cache-ignore-null"></a>query-results-cache.ignore-null</h3>
<div class="paragraph">
<p>Use eclipselink.query-results-cache.ignore-null to specify if
EclipseLink caches <code>null</code> query results</p>
</div>
<div id="sthref683" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAJDDFC">Table 4-31</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA806"></a><a id="sthref684"></a><a id="CBAJDDFC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-31 Valid Values for query-results-cache.ignore-null</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ignore null results (that is, <em>do not</em> cache results)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not ignore <code>null</code> results (that is, <em>do</em> cache
results)</p></td>
</tr>
</tbody>
</table>
<div id="sthref685" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use this query hint to use query cache as a secondary key index,
and allow inserts of new objects.</p>
</div>
<div id="sthref686" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEAHFC">Example 4-63</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDEAHFC"></a><a id="TLJPA807"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-63 Using query-results-cache.ignore-null in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.QUERY_RESULTS_CACHE_IGNORE_NULL", "TRUE");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDIEEHG">Example 4-64</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDIEEHG"></a><a id="TLJPA808"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-64 Using query-results-cache.ignore-null in a @QueryHint
Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.QUERY_RESULTS_CACHE_IGNORE_NULL, value="TRUE");</code></pre>
</div>
</div>
<div id="sthref687" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#queryresultscache">"query-results-cache"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="queryresultscacherandomizeexpiry"></a><a id="TLJPA54077"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="query-results-cache-randomize-expiry"><a class="anchor" href="#query-results-cache-randomize-expiry"></a>query-results-cache.randomize-expiry</h3>
<div class="paragraph">
<p>Use <code>eclipselink.query-results-cache.randomize-expiry</code> to specify the
expiry time (<a href="#queryresultscacheexpiry">query-results-cache.expiry</a>) should be
randomized by 10% of its set value.</p>
</div>
<div id="sthref688" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEGFHE">Table 4-32</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54078"></a><a id="sthref689"></a><a id="BABEGFHE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-32 Valid Values for query-results-cache.randomize-expiry</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Randomize the expiration time by 10%.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not randomize the expiration time.</p></td>
</tr>
</tbody>
</table>
<div id="sthref690" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this query hint to avoid bottlenecks from multiple cached values
expiring at a fixed time.</p>
</div>
<div id="sthref691" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHEDDC">Example 4-65</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDHEDDC"></a><a id="TLJPA54079"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-65 Using query-results-cache.randomize-expiry in a JPA
Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.QUERY_RESULTS_CACHE_RANDOMIZE_EXPIRY", "TRUE");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDICBII">Example 4-66</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDICBII"></a><a id="TLJPA54080"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-66 Using query-results-cache.randomize-expiry in a
@QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.QUERY_RESULTS_CACHE_RANDOMIZE_EXPIRY, value="TRUE");</code></pre>
</div>
</div>
<div id="sthref692" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#queryresultscache">"query-results-cache"</a></p>
</li>
<li>
<p><a href="#queryresultscacheexpiry">"query-results-cache.expiry"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="queryresultscachesize"></a><a id="TLJPA813"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="query-results-cache-size"><a class="anchor" href="#query-results-cache-size"></a>query-results-cache.size</h3>
<div class="paragraph">
<p>Use <code>eclipselink.query-results-cache.size</code> to set the fixed size of the
query&#8217;s results cache.</p>
</div>
<div id="sthref693" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAIEAAC">Table 4-33</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA814"></a><a id="sthref694"></a><a id="CBAIEAAC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-33 Valid Values for query-results-cache.size</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer or Strings that can be parsed to int values (Default:
<strong>100</strong>)</p></td>
</tr>
</tbody>
</table>
<div id="sthref695" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>When using <a href="#queryresultscache">query-results-cache</a>, if the same named query
with the same arguments is re-executed EclipseLink will skip the
database and return the cached results.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a query has no arguments, use a size of <strong>1</strong> (as there is only a
single result).
</td>
</tr>
</table>
</div>
<div id="sthref696" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGADHE">Example 4-67</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDGADHE"></a><a id="TLJPA815"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-67 Using query-results-cache.size in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.QUERY_RESULTS_CACHE_SIZE", "150");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDIGAAF">Example 4-68</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDIGAAF"></a><a id="TLJPA816"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-68 Using query-results-cache.size in a @QueryHint
Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.QUERY_RESULTS_CACHE_SIZE, value="150");</code></pre>
</div>
</div>
<div id="sthref697" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#queryresultscache">"query-results-cache"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="queryresultscachetype"></a><a id="TLJPA54081"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="query-results-cache-type"><a class="anchor" href="#query-results-cache-type"></a>query-results-cache.type</h3>
<div class="paragraph">
<p>Use <code>eclipselink.query-results-cache.type</code> to set the cache type used
for the query&#8217;s results cache.</p>
</div>
<div id="sthref698" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABJADJH">Table 4-34</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54082"></a><a id="sthref699"></a><a id="BABJADJH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-34 Valid Values for query-results-cache.type</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Fixed size LRU cache (<code>CacheIdentityMap</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides full caching and guaranteed identity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hard_Weak</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Similar to SOFT_WEAK, except that it uses <em>hard</em> references
in the sub-cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No caching.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Soft</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Similar to FULL, except the map holds the objects using <em>soft</em>
references.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Soft_Weak</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Similar to WEAK, except it maintains a most-frequently-used
sub-cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Weak</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Similar to FULL, except the map holds the objects using <em>weak</em>
references.</p></td>
</tr>
</tbody>
</table>
<div id="sthref700" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div id="sthref701" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEAAAI">Example 4-69</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="BABEAAAI"></a><a id="TLJPA54083"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-69 Using query-results-cache.type in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.QUERY_RESULTS_CACHE_TYPE", "FULL");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABHGBJD">Example 4-70</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="BABHGBJD"></a><a id="TLJPA54084"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-70 Using query-results-cache.type in a @QueryHint
Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.QUERY_RESULTS_CACHE_TYPE, value="FULL");</code></pre>
</div>
</div>
<div id="sthref702" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDBBIHE">"@Cache"</a></p>
</li>
<li>
<p>"Caching
Overview"`http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic JPA Development/Caching/Caching Overview`</p>
</li>
<li>
<p>"EclipseLink Caches" in the <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="querytype"></a><a id="TLJPA672"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="query-type"><a class="anchor" href="#query-type"></a>query-type</h3>
<div class="paragraph">
<p>Use <code>eclipselink.query-type</code> to specify which EclipseLink query type to
use for the query.</p>
</div>
<div id="sthref703" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDECCFBJ">Table 4-35</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA673"></a><a id="sthref704"></a><a id="CDECCFBJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-35 Valid Values for org.eclipse.persistence.config.QueryType</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Auto</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default = <code>0</code>) EclipseLink chooses the type of query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ReadAll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>ReadAllQuery</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ReadObject</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>ReadObjectQuery</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Report</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>ReportQuery</code>.</p></td>
</tr>
</tbody>
</table>
<div id="sthref705" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default, EclipseLink uses
<code>org.eclipse.persistence.queries.ReportQuery</code> or
<code>org.eclipse.persistence.queries.ReadAllQuery</code> for most JPQL queries.
Use the <code>eclipselink.query-type</code> hint lets to specify another query
type, such as <code>org.eclipse.persistence.queries.ReadObjectQuery</code> for
queries that will return a single object.</p>
</div>
<div id="sthref706" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDEJACJC">Example 4-71</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CDEJACJC"></a><a id="TLJPA674"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-71 Using query-type in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.QueryType;
import org.eclipse.persistence.config.QueryHints;
query.setHint(QueryHints.QUERY_TYPE, QueryType.ReadObject);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CDEIIIDE">Example 4-72</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CDEIIIDE"></a><a id="TLJPA675"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-72 Using query-type in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.QueryType;
import org.eclipse.persistence.config.TargetDatabase;
@QueryHint(name=QueryHints.QUERY_TYPE, value=QueryType.ReadObject);</code></pre>
</div>
</div>
<div id="sthref707" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Queries" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="readonly1"></a><a id="TLJPA676"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="read-only"><a class="anchor" href="#read-only"></a>read-only</h3>
<div class="paragraph">
<p>Use <code>eclipselink.read-only</code> to retrieve read-only results back from a
query.</p>
</div>
<div id="sthref708" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDDDFGIB">Table 4-36</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA677"></a><a id="sthref709"></a><a id="CDDDFGIB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-36 Valid Values for read-only</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TRUE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieve read-only results from the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FALSE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not retrieve read-only results from the query.</p></td>
</tr>
</tbody>
</table>
<div id="sthref710" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>For non-transactional read operations, if the requested entity types are
stored in the shared cache you can request that the shared instance be
returned instead of a detached copy.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You should never modify objects returned from the shared cache.
</td>
</tr>
</table>
</div>
<div id="sthref711" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDDEDJEH">Example 4-73</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CDDEDJEH"></a><a id="TLJPA678"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-73 Using read-only in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint(QueryHints.READ_ONLY, HintValues.TRUE);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CDDCEFBH">Example 4-74</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CDDCEFBH"></a><a id="TLJPA679"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-74 Using read-only in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.READ_ONLY, value=HintValues.TRUE);</code></pre>
</div>
</div>
<div id="sthref712" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Oracle EclipseLink JPA Performance Tuning" in <em>Oracle Fusion
Middleware Performance and Tuning Guide</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="refresh"></a><a id="TLJPA680"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="refresh-2"><a class="anchor" href="#refresh-2"></a>refresh</h3>
<div class="paragraph">
<p>Use <code>eclipselink.refresh</code> to specify whether or not to update the
EclipseLink session cache with objects returned by the query.</p>
</div>
<div id="sthref713" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJJBJF">Table 4-37</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA681"></a><a id="sthref714"></a><a id="CHDJJBJF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-37 Valid Values for eclipselink.refresh</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TRUE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refreshes the cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FALSE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Does not refresh the cache. You can use <code>""</code> instead
of <code>FALSE</code>.</p></td>
</tr>
</tbody>
</table>
<div id="sthref715" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>eclipselink.refresh</code> query hint configures the query to refresh the
resulting objects in the cache and persistence context with the current
state of the database. It also refreshes the objects in the shared
cache, unless a flush has occurred. Any <em>unflushed</em> changes made to the
objects are lost, unless this query triggers a flush before it
executes). The refresh will cascade relationships based on the
<code>REFRESH_CASCADE</code> hint value.</p>
</div>
<div id="sthref716" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJBCHB">Example 4-75</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDJBCHB"></a><a id="TLJPA682"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-75 Using refresh in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint(QueryHints.REFRESH, HintValues.TRUE);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDJFCJB">Example 4-76</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDJFCJB"></a><a id="TLJPA683"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-76 Using refresh in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.REFRESH, value=HintValues.TRUE);</code></pre>
</div>
</div>
<div id="sthref717" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#refreshcascade">"refresh.cascade"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="refreshcascade"></a><a id="TLJPA1056"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="refresh-cascade"><a class="anchor" href="#refresh-cascade"></a>refresh.cascade</h3>
<div class="paragraph">
<p>Use <code>eclipselink.refresh.cascade</code> to specify if a refresh query should
cascade the refresh to relationships.</p>
</div>
<div id="sthref718" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDEEGHHB">Table 4-38</a> describes this query hint&#8217;s valid values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1057"></a><a id="sthref719"></a><a id="CDEEGHHB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-38 Valid Values for eclipselink.refresh.cascade</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CascadeAllParts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cascade to all associations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CascadeByMapping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cascade by mapping metadata.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CascadePrivateParts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cascade to privately-owned relationships.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NoCascade</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not cascade.</p></td>
</tr>
</tbody>
</table>
<div id="sthref720" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You should also use a <code>refresh</code> hint in order to cause the refresh.</p>
</div>
<div id="sthref721" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDEDJFBE">Example 4-77</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CDEDJFBE"></a><a id="TLJPA1058"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-77 Using refresh.cascade in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues
import oorg.eclipse.persistence.config.QueryHints;
query.setHint(QueryHints.REFRESH_CASCADE, CascadePolicy.CascadeAllParts);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CDEGAJFE">Example 4-78</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CDEGAJFE"></a><a id="TLJPA1059"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-78 Using refresh.cascade in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.REFRESH_CASCADE, value=CascadePolicy.CascadeAllParts);</code></pre>
</div>
</div>
<div id="sthref722" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#refresh">"refresh"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="resultcollectiontype"></a><a id="TLJPA655"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="result-collection-type"><a class="anchor" href="#result-collection-type"></a>result-collection-type</h3>
<div class="paragraph">
<p>Use <code>eclipselink.result-collection-type</code> to configure the collection
class implementation for the query&#8217;s results.</p>
</div>
<div id="sthref723" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDBIGC">Table 4-39</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA821"></a><a id="sthref724"></a><a id="CHDDBIGC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-39 Valid Values for result-collection-type</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name, without <code>.class</code>, representing a
collection type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not ignore <code>null</code> results (that is, <em>do</em> cache
results)</p></td>
</tr>
</tbody>
</table>
<div id="sthref725" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>If you use a <code>Collection</code> type that <em>is not</em> a <code>List</code>, you must use
<code>getResultCollection()</code> or <code>getSingleResult()</code> instead of
<code>getResultList()</code>.</p>
</div>
<div id="sthref726" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHCECJ">Example 4-79</a> show how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CHDHCECJ"></a><a id="TLJPA54049"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-79 Using result-collection-type in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.RESULT_COLLECTION_TYPE", "&lt;CLASS_NAME&gt;");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDFHCEF">Example 4-80</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CHDFHCEF"></a><a id="TLJPA54050"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-80 Using result-collection-type in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.RESULT_COLLECTION_TYPE, value="&lt;CLASS_NAME&gt;");</code></pre>
</div>
</div>
<div id="sthref727" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Collection Mappings" in the <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="sqlhint"></a><a id="TLJPA822"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="sql-hint"><a class="anchor" href="#sql-hint"></a>sql.hint</h3>
<div class="paragraph">
<p>Use <code>eclipselink.sql.hint</code> to include an SQL hint in the SQL for a
query.</p>
</div>
<div id="sthref728" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAHJJFF">Table 4-40</a> describes this query hint&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA823"></a><a id="sthref729"></a><a id="CBAHJJFF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 4-40 Valid Values for sql.hint</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The full hint string, including the comment \ delimiters</p></td>
</tr>
</tbody>
</table>
<div id="sthref730" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>A SQL hint can be used on certain database platforms to define how the
query uses indexes and other such low level usages. The SQL hint will be
included in the SQL, after the <code>SELECT</code>/<code>INSERT</code>/<code>UPDATE</code>/<code>DELETE</code>
command.</p>
</div>
<div id="sthref731" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHHIBCH">Example 4-81</a> shows how to use this hint in a JPA query.</p>
</div>
<div class="paragraph">
<p><a id="CIHHIBCH"></a><a id="TLJPA824"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-81 Using sql.hint in a JPA Query</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
query.setHint("eclipselink.HINT", "/*+ index(scott.emp ix_emp) * /");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CIHDEAGG">Example 4-82</a> shows how to use this hint with the
<code>@QueryHint</code> annotation.</p>
</div>
<div class="paragraph">
<p><a id="CIHDEAGG"></a><a id="TLJPA825"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 4-82 Using sql.hint in a @QueryHint Annotation</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.HintValues;
import org.eclipse.persistence.config.QueryHints;
@QueryHint(name=QueryHints.HINT, value="/*+ index(scott.emp ix_emp) * /");</code></pre>
</div>
</div>
<div id="sthref732" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Query Hints" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Query" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>Section 10.3.1 "NamedQuery Annotation" in the JPA Specification
(<code><a href="http://jcp.org/en/jsr/detail?id=317" class="bare">http://jcp.org/en/jsr/detail?id=317</a></code>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="persistence-property-extensions-reference"><a class="anchor" href="#persistence-property-extensions-reference"></a>5. Persistence Property Extensions Reference</h2>
<div class="sectionbody">
<div id="TLJPA54085" class="paragraph">
<p>This chapter describes the persistence property extensions.You configure
persistence units in the JPA persistence descriptor file:
<code>persistence.xml</code>. EclipseLink includes many persistence property
enhancements and extensions that can be configured in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p>This chapter includes the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACGDIBI2">Functional Listing of Persistence Property Extensions</a></p>
</li>
<li>
<p><a href="#CACBGBJG2">Alphabetical Listing of Persistence Property
Extensions</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACGDIBI2"></a><a id="TLJPA1047"></a></p>
</div>
<div class="sect2">
<h3 id="functional-listing-of-persistence-property-extensions"><a class="anchor" href="#functional-listing-of-persistence-property-extensions"></a>Functional Listing of Persistence Property Extensions</h3>
<div class="paragraph">
<p>The following lists the EclipseLink persistence property
(<code>persistence.xml</code> file) extensions, categorized by function:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CACGCEIJ2">Weaving</a></p>
</li>
<li>
<p><a href="#CACDIEID2">Customizers</a></p>
</li>
<li>
<p><a href="#CACJHFEC2">Validation and Optimization</a></p>
</li>
<li>
<p><a href="#CACDCCEG2">Caching</a></p>
</li>
<li>
<p><a href="#CHDBDCHB2">Mapping</a></p>
</li>
<li>
<p><a href="#CHDFDDBF">Schema generation</a></p>
</li>
<li>
<p><a href="#CHDICECH2">JDBC configuration</a></p>
</li>
<li>
<p><a href="#CHDFDDBF1">Concurrency manager</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACGCEIJ2"></a><a id="TLJPA1049"></a></p>
</div>
<div class="sect3">
<h4 id="weaving"><a class="anchor" href="#weaving"></a>Weaving</h4>
<div class="paragraph">
<p>EclipseLink includes the following persistence property extensions for
weaving:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#prop.weaving"><code>weaving</code></a></p>
</li>
<li>
<p><a href="#weavingchangetracking"><code>weaving.changetracking</code></a></p>
</li>
<li>
<p><a href="#weavingeager"><code>weaving.eager</code></a></p>
</li>
<li>
<p><a href="#weavingfetchgroups"><code>weaving.fetchgroups</code></a></p>
</li>
<li>
<p><a href="#weavinginternal"><code>weaving.internal</code></a></p>
</li>
<li>
<p><a href="#weavinglazy"><code>weaving.lazy</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACDIEID2"></a><a id="TLJPA1050"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="customizers"><a class="anchor" href="#customizers"></a>Customizers</h4>
<div class="paragraph">
<p>EclipseLink includes the following persistence property extensions for
customizing descriptors and sessions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#deployonstartup"><code>deploy-on-startup</code></a></p>
</li>
<li>
<p><a href="#descriptorcustomizer"><code>descriptor.customizer</code></a></p>
</li>
<li>
<p><a href="#sessioncustomizer"><code>session.customizer</code></a></p>
</li>
<li>
<p><a href="#sessionincludedescriptorqueries"><code>session.include.descriptor.queries</code></a></p>
</li>
<li>
<p><a href="#sessioneventlistener"><code>session-event-listener</code></a></p>
</li>
<li>
<p><a href="#sessionname"><code>session-name</code></a></p>
</li>
<li>
<p><a href="#sessionsxml"><code>sessions-xml</code></a></p>
</li>
<li>
<p><a href="#targetdatabase"><code>target-database</code></a></p>
</li>
<li>
<p><a href="#targetserver"><code>target-server</code></a></p>
</li>
<li>
<p><a href="#metadatasource"><code>metadata-source</code></a></p>
</li>
<li>
<p><a href="#metadatasourcepropertiesfile"><code>metadata-source.properties.file</code></a></p>
</li>
<li>
<p><a href="#metadatasourcesendrefreshcommand"><code>metadata-source.send-refresh-command</code></a></p>
</li>
<li>
<p><a href="#metadatasourcexmlurl"><code>metadata-source.xml.url</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACJHFEC2"></a><a id="TLJPA1051"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="validation-and-optimization"><a class="anchor" href="#validation-and-optimization"></a>Validation and Optimization</h4>
<div class="paragraph">
<p>EclipseLink includes the following persistence property extensions for
validation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#exceptionhandler"><code>exception-handler</code></a></p>
</li>
<li>
<p><a href="#prop.partitioning"><code>partitioning</code></a></p>
</li>
<li>
<p><a href="#partitioningcallback"><code>partitioning.callback</code></a></p>
</li>
<li>
<p><a href="#profiler"><code>profiler</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="sthref734"><a class="anchor" href="#sthref734"></a>Logging</h4>
<div class="paragraph">
<p>EclipseLink includes the following persistence property extensions for
logging.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#loggingconnection"><code>logging.connection</code></a></p>
</li>
<li>
<p><a href="#loggingexceptions"><code>logging.exceptions</code></a></p>
</li>
<li>
<p><a href="#loggingfile"><code>logging.file</code></a></p>
</li>
<li>
<p><a href="#logginglevel"><code>logging.level</code></a></p>
</li>
<li>
<p><a href="#loggingsession"><code>logging.session</code></a></p>
</li>
<li>
<p><a href="#loggingthread"><code>logging.thread</code></a></p>
</li>
<li>
<p><a href="#loggingtimestamp"><code>logging.timestamp</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACDCCEG2"></a><a id="TLJPA1052"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="caching"><a class="anchor" href="#caching"></a>Caching</h4>
<div class="paragraph">
<p>EclipseLink includes the following persistence property extensions for
caching:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationchannel"><code>cache.coordination.channel</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjmsfactory"><code>cache.coordination.jms.factory</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjmshost"><code>cache.coordination.jms.host</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjmsreusetopicpublisher"><code>cache.coordination.jms.reuse-topic-publisher</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjmstopic"><code>cache.coordination.jms.topic</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjndiinitialcontextfactory"><code>cache.coordination.jndi.initial-context-factory</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjndipassword"><code>cache.coordination.jndi.password</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjndiuser"><code>cache.coordination.jndi.user</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationnamingservice"><code>cache.coordination.naming-service</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationpropagateasynchronously"><code>cache.coordination.propagate-asynchronously</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationprotocol"><code>cache.coordination.protocol</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationremoveconnectiononerror"><code>cache.coordination.remove-connection-on-error</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationrmiannouncementdelay"><code>cache.coordination.rmi.announcement-delay</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationrmimulticastgroup"><code>cache.coordination.rmi.multicast-group</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationrmimulticastgroupport"><code>cache.coordination.rmi.multicast-group.port</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationrmipackettimetolive"><code>cache.coordination.rmi.packet-time-to-live</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationrmiurl"><code>cache.coordination.rmi.url</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationthreadpoolsize"><code>cache.coordination.thread.pool.size</code></a></p>
</li>
<li>
<p><a href="#cachedatabaseeventlistener"><code>cache.database-event-listener</code></a></p>
</li>
<li>
<p><a href="#cacheshared"><code>cache.shared</code></a></p>
</li>
<li>
<p><a href="#cachesize"><code>cache.size</code></a></p>
</li>
<li>
<p><a href="#cachetype"><code>cache.type</code></a></p>
</li>
<li>
<p><a href="#cachetype"><code>flush-clear.cache</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDBDCHB2"></a><a id="TLJPA1053"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="mapping"><a class="anchor" href="#mapping"></a>Mapping</h4>
<div class="paragraph">
<p>EclipseLink includes the following persistence property extensions for
mappings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#compositeunit"><code>composite-unit</code></a></p>
</li>
<li>
<p><a href="#compositeunitmember"><code>composite-unit.member</code></a></p>
</li>
<li>
<p><a href="#compositeunitproperties"><code>composite-unit.properties</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDFDDBF"></a><a id="TLJPA54051"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="schema-generation"><a class="anchor" href="#schema-generation"></a>Schema generation</h4>
<div class="paragraph">
<p>EclipseLink includes the following persistence property extensions for
mappings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#createddljdbcfilename"><code>create-ddl-jdbc-file-name</code></a></p>
</li>
<li>
<p><a href="#ddltablecreationsuffix"><code>ddl.table-creation-suffix</code></a></p>
</li>
<li>
<p><a href="#ddlgeneration"><code>ddl-generation</code></a></p>
</li>
<li>
<p><a href="#ddlgenerationoutputmode"><code>ddl-generation.output-mode</code></a></p>
</li>
<li>
<p><a href="#dropddljdbcfilename"><code>drop-ddl-jdbc-file-name</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDICECH2"></a><a id="TLJPA1054"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="jdbc-configuration"><a class="anchor" href="#jdbc-configuration"></a>JDBC configuration</h4>
<div class="paragraph">
<p>EclipseLink includes the following persistence property extensions for
configuring JDBC connections and connection pooling:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#connectionpool"><code>connection-pool</code></a></p>
</li>
<li>
<p><a href="#connectionpoolread"><code>connection-pool.read</code></a></p>
</li>
<li>
<p><a href="#connectionpoolsequence"><code>connection-pool.sequence</code></a></p>
</li>
<li>
<p><a href="#jdbcallownativesqlqueries"><code>jdbc.allow-native-sql-queries</code></a></p>
</li>
<li>
<p><a href="#jdbcbatchwriting"><code>jdbc.batch-writing</code></a></p>
</li>
<li>
<p><a href="#jdbcbatchwritingsize"><code>jdbc.batch-writing.size</code></a></p>
</li>
<li>
<p><a href="#jdbccachestatements"><code>jdbc.cache-statements</code></a></p>
</li>
<li>
<p><a href="#jdbccachestatementssize"><code>jdbc.cache-statements.size</code></a></p>
</li>
<li>
<p><a href="#jdbcconnector"><code>jdbc.connector</code></a></p>
</li>
<li>
<p><a href="#jdbcexclusiveconnectionislazy"><code>jdbc.exclusive-connection.is-lazy</code></a></p>
</li>
<li>
<p><a href="#jdbcexclusiveconnectionmode"><code>jdbc.exclusive-connection.mode</code></a></p>
</li>
<li>
<p><a href="#jdbcnamingintoindexed"><code>jdbc.naming_into_indexed</code></a></p>
</li>
<li>
<p><a href="#jdbcnativesql"><code>jdbc.native-sql</code></a></p>
</li>
<li>
<p><a href="#jdbcproperty"><code>jdbc.property</code></a></p>
</li>
<li>
<p><a href="#jdbcsqlcast"><code>jdbc.sql-cast</code></a></p>
</li>
<li>
<p><a href="#jdbcuppercasecolumns"><code>jdbc.uppercase-columns</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CHDFDDBF1"></a><a id="TLJPA540511"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="concurrency-manager"><a class="anchor" href="#concurrency-manager"></a>Concurrency manager</h4>
<div class="paragraph">
<p>EclipseLink includes the following persistence property extensions for
concurrency management:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#concurrencymanagerwaittime"><code>concurrency.manager.waittime</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagermaxsleeptime"><code>concurrency.manager.maxsleeptime</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagermaxfrequencytodumptinymessage"><code>concurrency.manager.maxfrequencytodumptinymessage</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagermaxfrequencytodumpmassivemessage"><code>concurrency.manager.maxfrequencytodumpmassivemessage</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagerallowinterruptedexception"><code>concurrency.manager.allow.interruptedexception</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagerallowconcurrencyexception"><code>concurrency.manager.allow.concurrencyexception</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagerallowreadlockstacktrace"><code>concurrency.manager.allow.readlockstacktrace</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CACBGBJG2"></a><a id="TLJPA1055"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="alphabetical-listing-of-persistence-property-extensions"><a class="anchor" href="#alphabetical-listing-of-persistence-property-extensions"></a>Alphabetical Listing of Persistence Property Extensions</h3>
<div class="paragraph">
<p>The following lists the EclipseLink persistence property
(<code>persitence.xml</code> file) extensions, in alphabetical order:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#applicationlocation"><code>application-location</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationchannel"><code>cache.coordination.channel</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjmsfactory"><code>cache.coordination.jms.factory</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjmshost"><code>cache.coordination.jms.host</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjmsreusetopicpublisher"><code>cache.coordination.jms.reuse-topic-publisher</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjmstopic"><code>cache.coordination.jms.topic</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjndiinitialcontextfactory"><code>cache.coordination.jndi.initial-context-factory</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjndipassword"><code>cache.coordination.jndi.password</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationjndiuser"><code>cache.coordination.jndi.user</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationnamingservice"><code>cache.coordination.naming-service</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationpropagateasynchronously"><code>cache.coordination.propagate-asynchronously</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationprotocol"><code>cache.coordination.protocol</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationremoveconnectiononerror"><code>cache.coordination.remove-connection-on-error</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationrmiannouncementdelay"><code>cache.coordination.rmi.announcement-delay</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationrmimulticastgroup"><code>cache.coordination.rmi.multicast-group</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationrmimulticastgroupport"><code>cache.coordination.rmi.multicast-group.port</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationrmipackettimetolive"><code>cache.coordination.rmi.packet-time-to-live</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationrmiurl"><code>cache.coordination.rmi.url</code></a></p>
</li>
<li>
<p><a href="#cachecoordinationthreadpoolsize"><code>cache.coordination.thread.pool.size</code></a></p>
</li>
<li>
<p><a href="#cachedatabaseeventlistener"><code>cache.database-event-listener</code></a></p>
</li>
<li>
<p><a href="#cacheshared"><code>cache.shared</code></a></p>
</li>
<li>
<p><a href="#cachesize"><code>cache.size</code></a></p>
</li>
<li>
<p><a href="#cachetype"><code>cache.type</code></a></p>
</li>
<li>
<p><a href="#classloader"><code>classloader</code></a></p>
</li>
<li>
<p><a href="#compositeunit"><code>composite-unit</code></a></p>
</li>
<li>
<p><a href="#compositeunitmember"><code>composite-unit.member</code></a></p>
</li>
<li>
<p><a href="#compositeunitproperties"><code>composite-unit.properties</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagerwaittime"><code>concurrency.manager.waittime</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagermaxsleeptime"><code>concurrency.manager.maxsleeptime</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagermaxfrequencytodumptinymessage"><code>concurrency.manager.maxfrequencytodumptinymessage</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagermaxfrequencytodumpmassivemessage"><code>concurrency.manager.maxfrequencytodumpmassivemessage</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagerallowinterruptedexception"><code>concurrency.manager.allow.interruptedexception</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagerallowconcurrencyexception"><code>concurrency.manager.allow.concurrencyexception</code></a></p>
</li>
<li>
<p><a href="#concurrencymanagerallowreadlockstacktrace"><code>concurrency.manager.allow.readlockstacktrace</code></a></p>
</li>
<li>
<p><a href="#connectionpool"><code>connection-pool</code></a></p>
</li>
<li>
<p><a href="#connectionpoolread"><code>connection-pool.read</code></a></p>
</li>
<li>
<p><a href="#connectionpoolsequence"><code>connection-pool.sequence</code></a></p>
</li>
<li>
<p><a href="#createddljdbcfilename"><code>create-ddl-jdbc-file-name</code></a></p>
</li>
<li>
<p><a href="#ddltablecreationsuffix"><code>ddl.table-creation-suffix</code></a></p>
</li>
<li>
<p><a href="#ddlgeneration"><code>ddl-generation</code></a></p>
</li>
<li>
<p><a href="#ddlgenerationoutputmode"><code>ddl-generation.output-mode</code></a></p>
</li>
<li>
<p><a href="#deployonstartup"><code>deploy-on-startup</code></a></p>
</li>
<li>
<p><a href="#descriptorcustomizer"><code>descriptor.customizer</code></a></p>
</li>
<li>
<p><a href="#dropddljdbcfilename"><code>drop-ddl-jdbc-file-name</code></a></p>
</li>
<li>
<p><a href="#exceptionhandler"><code>exception-handler</code></a></p>
</li>
<li>
<p><a href="#excludeeclipselinkorm"><code>exclude-eclipselink-orm</code></a></p>
</li>
<li>
<p><a href="#flushclearcache"><code>flush-clear.cache</code></a></p>
</li>
<li>
<p><a href="#idvalidation"><code>id-validation</code></a></p>
</li>
<li>
<p><a href="#jdbcallownativesqlqueries"><code>jdbc.allow-native-sql-queries</code></a></p>
</li>
<li>
<p><a href="#jdbcbatchwriting"><code>jdbc.batch-writing</code></a></p>
</li>
<li>
<p><a href="#jdbcbatchwritingsize"><code>jdbc.batch-writing.size</code></a></p>
</li>
<li>
<p><a href="#jdbccachestatements"><code>jdbc.cache-statements</code></a></p>
</li>
<li>
<p><a href="#jdbccachestatementssize"><code>jdbc.cache-statements.size</code></a></p>
</li>
<li>
<p><a href="#jdbcconnector"><code>jdbc.connector</code></a></p>
</li>
<li>
<p><a href="#jdbcexclusiveconnectionislazy"><code>jdbc.exclusive-connection.is-lazy</code></a></p>
</li>
<li>
<p><a href="#jdbcexclusiveconnectionmode"><code>jdbc.exclusive-connection.mode</code></a></p>
</li>
<li>
<p><a href="#jdbcnamingintoindexed"><code>jdbc.naming_into_indexed</code></a></p>
</li>
<li>
<p><a href="#jdbcnativesql"><code>jdbc.native-sql</code></a></p>
</li>
<li>
<p><a href="#jdbcproperty"><code>jdbc.property</code></a></p>
</li>
<li>
<p><a href="#jdbcsqlcast"><code>jdbc.sql-cast</code></a></p>
</li>
<li>
<p><a href="#jdbcuppercasecolumns"><code>jdbc.uppercase-columns</code></a></p>
</li>
<li>
<p><a href="#jpauppercasecolumnnames"><code>jpa.uppercase-column-names</code></a></p>
</li>
<li>
<p><a href="#jpqlparser"><code>jpql.parser</code></a></p>
</li>
<li>
<p><a href="#jpqlvalidation"><code>jpql.validation</code></a></p>
</li>
<li>
<p><a href="#loggingconnection"><code>logging.connection</code></a></p>
</li>
<li>
<p><a href="#loggingexceptions"><code>logging.exceptions</code></a></p>
</li>
<li>
<p><a href="#loggingfile"><code>logging.file</code></a></p>
</li>
<li>
<p><a href="#logginglevel"><code>logging.level</code></a></p>
</li>
<li>
<p><a href="#loggingsession"><code>logging.session</code></a></p>
</li>
<li>
<p><a href="#loggingthread"><code>logging.thread</code></a></p>
</li>
<li>
<p><a href="#loggingtimestamp"><code>logging.timestamp</code></a></p>
</li>
<li>
<p><a href="#metadatasource"><code>metadata-source</code></a></p>
</li>
<li>
<p><a href="#metadatasourcepropertiesfile"><code>metadata-source.properties.file</code></a></p>
</li>
<li>
<p><a href="#metadatasourcesendrefreshcommand"><code>metadata-source.send-refresh-command</code></a></p>
</li>
<li>
<p><a href="#metadatasourcexmlurl"><code>metadata-source.xml.url</code></a></p>
</li>
<li>
<p><a href="#nosqlconnectionfactory"><code>nosql.connection-factory</code></a></p>
</li>
<li>
<p><a href="#nosqlconnectionspec"><code>nosql.connection-spec</code></a></p>
</li>
<li>
<p><a href="#nosqlproperty"><code>nosql.property</code></a></p>
</li>
<li>
<p><a href="#oracleproxytype"><code>oracle.proxy-type</code></a></p>
</li>
<li>
<p><a href="#ormthrowexceptions"><code>orm.throw.exceptions</code></a></p>
</li>
<li>
<p><a href="#ormvalidateschema"><code>orm.validate.schema</code></a></p>
</li>
<li>
<p><a href="#prop.partitioning"><code>partitioning</code></a></p>
</li>
<li>
<p><a href="#partitioningcallback"><code>partitioning.callback</code></a></p>
</li>
<li>
<p><a href="#persistencecontextcloseoncommit"><code>persistence-context.close-on-commit</code></a></p>
</li>
<li>
<p><a href="#persistencecontextcommitwithoutpersistrules"><code>persistence-context.commit-without-persist-rules</code></a></p>
</li>
<li>
<p><a href="#persistencecontextflushmode"><code>persistence-context.flush-mode</code></a></p>
</li>
<li>
<p><a href="#persistencecontextpersistoncommit"><code>persistence-context.persist-on-commit</code></a></p>
</li>
<li>
<p><a href="#persistencecontextreferencemode"><code>persistence-context.reference-mode</code></a></p>
</li>
<li>
<p><a href="#persistenceunits"><code>persistenceunits</code></a></p>
</li>
<li>
<p><a href="#persistencexml"><code>persistencexml</code></a></p>
</li>
<li>
<p><a href="#persisencexmldefault"><code>persisencexml.default</code></a></p>
</li>
<li>
<p><a href="#profiler"><code>profiler</code></a></p>
</li>
<li>
<p><a href="#sessioncustomizer"><code>session.customizer</code></a></p>
</li>
<li>
<p><a href="#sessionincludedescriptorqueries"><code>session.include.descriptor.queries</code></a></p>
</li>
<li>
<p><a href="#sessioneventlistener"><code>session-event-listener</code></a></p>
</li>
<li>
<p><a href="#sessionname"><code>session-name</code></a></p>
</li>
<li>
<p><a href="#sessionsxml"><code>sessions-xml</code></a></p>
</li>
<li>
<p><a href="#targetdatabase"><code>target-database</code></a></p>
</li>
<li>
<p><a href="#targetserver"><code>target-server</code></a></p>
</li>
<li>
<p><a href="#temporalmutable"><code>temporal.mutable</code></a></p>
</li>
<li>
<p><a href="#tenantid"><code>tenant-id</code></a></p>
</li>
<li>
<p><a href="#transactionjoinexisting"><code>transaction.join-existing</code></a></p>
</li>
<li>
<p><a href="#tuning"><code>tuning</code></a></p>
</li>
<li>
<p><a href="#validateexistence"><code>validate-existence</code></a></p>
</li>
<li>
<p><a href="#validationonly"><code>validation-only</code></a></p>
</li>
<li>
<p><a href="#prop.weaving"><code>weaving</code></a></p>
</li>
<li>
<p><a href="#weavingchangetracking"><code>weaving.changetracking</code></a></p>
</li>
<li>
<p><a href="#weavingeager"><code>weaving.eager</code></a></p>
</li>
<li>
<p><a href="#weavingfetchgroups"><code>weaving.fetchgroups</code></a></p>
</li>
<li>
<p><a href="#weavinginternal"><code>weaving.internal</code></a></p>
</li>
<li>
<p><a href="#weavinglazy"><code>weaving.lazy</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="applicationlocation"></a><a id="TLJPA1060"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="application-location"><a class="anchor" href="#application-location"></a>application-location</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.application-location</code> property to specify the file
system directory in which EclipseLink writes (outputs) DDL files.</p>
</div>
<div id="sthref735" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACBIDFB">Table 5-1</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1061"></a><a id="sthref736"></a><a id="CACBIDFB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-1 Valid Values for application-location</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory location. The path must be fully qualified. For
Windows, use a backslash. For UNIX use a slash.</p></td>
</tr>
</tbody>
</table>
<div id="sthref737" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You may set this option only if the value of
<code>eclipselink.ddl-generation.output-mode</code> is <code>sql-script</code> or <code>both</code>.</p>
</div>
<div id="sthref738" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACGJACG">Example 5-1</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CACGJACG"></a><a id="TLJPA830"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-1 Using application-location in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.application-location" value="c:/YOURDIRECTORY/"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDDIGII">Example 5-2</a> shows how to use this property in a property
map.</p>
</div>
<div class="paragraph">
<p><a id="CHDDIGII"></a><a id="TLJPA54155"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-2 Using application-location in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.APPLICATION_LOCATION,
"c:/YOURDIRECTORY/");</code></pre>
</div>
</div>
<div id="sthref739" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#ddlgenerationoutputmode">"ddl-generation.output-mode"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationchannel"></a><a id="TLJPA1062"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-channel"><a class="anchor" href="#cache-coordination-channel"></a>cache.coordination.channel</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.channel</code> property to configure
cache coordination for a clustered environment.</p>
</div>
<div id="sthref740" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABDCBBB">Table 5-2</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1063"></a><a id="sthref741"></a><a id="BABDCBBB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-2 Valid Values for cache.coordination.channel</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">channel name</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The channel used for cache coordination. All persistence units using the
same channel will be coordinated.</p>
</div>
<div class="paragraph">
<p>Default: <code>EclipseLinkCommandChannel</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref742" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>If multiple EclipseLink deployments reside on the same network, they
should be in different channels.</p>
</div>
<div id="sthref743" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABBJEBD">Example 5-3</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABBJEBD"></a><a id="TLJPA831"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-3 Using application-location in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.channel" value="EmployeeChannel" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDDBGHI">Example 5-4</a> shows how to use this property in a property
map.</p>
</div>
<div class="paragraph">
<p><a id="CHDDBGHI"></a><a id="TLJPA54156"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-4 Using cache.coordination.channel in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.CACHE_COORDINATION_CHANNEL,
"myChannel");</code></pre>
</div>
</div>
<div id="sthref744" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDBBIHE">"@Cache"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationjmsfactory"></a><a id="TLJPA54086"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-jms-factory"><a class="anchor" href="#cache-coordination-jms-factory"></a>cache.coordination.jms.factory</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.jms.factory</code> property to
configure the JMS topic connection factory name, when using JMS
coordination for a clustered environment.</p>
</div>
<div id="sthref745" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACBGAJC">Table 5-3</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54087"></a><a id="sthref746"></a><a id="CACBGAJC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-3 Valid Values for cache.coordination.jms.factory</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The JMS topic connection factory name.</p>
</div>
<div class="paragraph">
<p>Default: <code>jms/EclipseLinkTopicConnectionFactory</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref747" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property for JMS coordination (when
<code>eclipselink.cache.coordination.protocol</code> = <code>jms</code>).</p>
</div>
<div id="sthref748" class="ulist">
<ul>
<li>
<p>+
Examples*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="#BABHGIFC">Example 5-13</a> for information on how to use this
property.</p>
</div>
<div id="sthref749" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationjmshost"></a><a id="TLJPA1066"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-jms-host"><a class="anchor" href="#cache-coordination-jms-host"></a>cache.coordination.jms.host</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.jms.host</code> property to configure
the URL of the JMS server that hosts the topic, when using JMS
coordination for a clustered environment.</p>
</div>
<div id="sthref750" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHHADG">Table 5-4</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1067"></a><a id="sthref751"></a><a id="BABHHADG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-4 Valid Values for cache.coordination.jms.host</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The fully-qualified URL for the JMS server.</p>
</div>
<div class="paragraph">
<p>This is not required if the topic is distributed across the cluster
(that is, it can be looked up in local JNDI).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref752" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property for JMS coordination (when
<code>eclipselink.cache.coordination.protocol</code> = <code>jms</code>). You must use a fully
qualified URL.</p>
</div>
<div id="sthref753" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABHGIFC">Example 5-13</a> for information on how to use this
property.</p>
</div>
<div id="sthref754" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationjmsreusetopicpublisher"></a><a id="TLJPA54088"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-jms-reuse-topic-publisher"><a class="anchor" href="#cache-coordination-jms-reuse-topic-publisher"></a>cache.coordination.jms.reuse-topic-publisher</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.jms.reuse-topic-publisher</code>
property to specify if the JSM transport manager should cache a
<code>TopicPubliser</code> and reuse it for all cache coordination publishing.</p>
</div>
<div id="sthref755" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACFGJBJ">Table 5-5</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54089"></a><a id="sthref756"></a><a id="CACFGJBJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-5 Valid Values for
cache.coordination.jms.reuse-topic-publisher</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caches the topic publisher.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Does not cache the topic publisher.</p></td>
</tr>
</tbody>
</table>
<div id="sthref757" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property for JMS coordination (when
<code>eclipselink.cache.coordination.protocol</code> = <code>jms</code>).</p>
</div>
<div id="sthref758" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABHGIFC">Example 5-13</a> for information on how to use this
property.</p>
</div>
<div id="sthref759" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationjmstopic"></a><a id="TLJPA834"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-jms-topic"><a class="anchor" href="#cache-coordination-jms-topic"></a>cache.coordination.jms.topic</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.jms.topic</code> property to set the
JMS topic name, when using JMS coordination for a clustered environment.</p>
</div>
<div id="sthref760" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFEBJD">Table 5-6</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA835"></a><a id="sthref761"></a><a id="BABFEBJD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-6 Valid Values for cache.coordination.jms.topic</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the JMS topic name.</p>
</div>
<div class="paragraph">
<p>Default: <code>jms/EclipseLinkTopic</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref762" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property for JMS coordination (when
<code>eclipselink.cache.coordination.protocol</code> = <code>jms</code>).</p>
</div>
<div id="sthref763" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABHGIFC">Example 5-13</a> for information on how to use this
property.</p>
</div>
<div id="sthref764" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationjndiinitialcontextfactory"></a><a id="TLJPA54090"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-jndi-initial-context-factory"><a class="anchor" href="#cache-coordination-jndi-initial-context-factory"></a>cache.coordination.jndi.initial-context-factory</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.jndi.initial-context-factory</code>
property to set the JNDI <code>InitialContext</code> factory, when using cache
coordination for a clustered environment.</p>
</div>
<div id="sthref765" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACBDFGG">Table 5-7</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54091"></a><a id="sthref766"></a><a id="CACBDFGG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-7 Valid Values for
cache.coordination.jndi.initial-context-factory</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the JNDI <code>InitialContext</code> factory.</p></td>
</tr>
</tbody>
</table>
<div id="sthref767" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Normally, you will not need this property when connecting to the local
server.</p>
</div>
<div id="sthref768" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBIAHF">Example 5-5</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDBIAHF"></a><a id="TLJPA54138"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-5 Using cache.coordination.jndi.initial-context-factory in
persistence.xml.</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.jndi.initial-context-factory"
value="weblogic.jndi.WLInitialContextFactory/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDGJAGI">Example 5-6</a> shows how to use this property in a property
map.</p>
</div>
<div class="paragraph">
<p><a id="CHDGJAGI"></a><a id="TLJPA54157"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-6 Using cache.coordination.jndi.initial-context-factory in a
property map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put
(PersistenceUnitProperties.CACEH_COORDINATION_JNDI_INITIAL_CONTEXT_FACTORY,
"weblogic.jndi.WLInitialContextFactory");</code></pre>
</div>
</div>
<div id="sthref769" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationjndipassword"></a><a id="TLJPA838"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-jndi-password"><a class="anchor" href="#cache-coordination-jndi-password"></a>cache.coordination.jndi.password</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.jndi.password</code> property to set
the password for the <code>cache.coordination.jndi.user</code>, when using cache
coordination for a clustered environment.</p>
</div>
<div id="sthref770" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCDCAB">Table 5-8</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA839"></a><a id="sthref771"></a><a id="BABCDCAB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-8 Valid Values for cache.coordination.jndi.password</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for the <a href="#cachecoordinationjndiuser">cache.coordination.jndi.user</a>.</p></td>
</tr>
</tbody>
</table>
<div id="sthref772" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Normally, you will not need this property when connecting to the local
server.</p>
</div>
<div id="sthref773" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEDFDG">Example 5-7</a> shows how to use this propery in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABEDFDG"></a><a id="TLJPA840"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-7 Using cache.coordination.jndi.password in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.jndi.user" value="USERNAME"/&gt;
&lt;property name="eclipselink.cache.coordination.jndi.password" value="PASSWORD"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDDGDHG">Example 5-8</a> shows how to use this property in a property
map.</p>
</div>
<div class="paragraph">
<p><a id="CHDDGDHG"></a><a id="TLJPA54158"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-8 Using cache.coordination.jndi.password in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put(PersistenceUnitProperties.CACHE_COORDINATION_JNDI_USER,
"USERNAME");
propertyMap.put(PersistenceUnitProperties.CACHE_COORDINATION_JNDI_PASSWORD,
"PASSWORD");</code></pre>
</div>
</div>
<div id="sthref774" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationjndiuser">"cache.coordination.jndi.user"</a></p>
</li>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationjndiuser"></a><a id="TLJPA841"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-jndi-user"><a class="anchor" href="#cache-coordination-jndi-user"></a>cache.coordination.jndi.user</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.jndi.user</code> property to set JNDI
naming service user, when using cache coordination for a clustered
environment.</p>
</div>
<div id="sthref775" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABJECGE">Table 5-9</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA842"></a><a id="sthref776"></a><a id="BABJECGE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-9 Valid Values for cache.coordination.jndi.user</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The JNDI user.</p></td>
</tr>
</tbody>
</table>
<div id="sthref777" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Normally, you will not need this property when connecting to the local
server.</p>
</div>
<div id="sthref778" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABHGIFC">Example 5-13</a> for information on how to use this
property.</p>
</div>
<div id="sthref779" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationjndipassword">"cache.coordination.jndi.password"</a></p>
</li>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationnamingservice"></a><a id="TLJPA843"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-naming-service"><a class="anchor" href="#cache-coordination-naming-service"></a>cache.coordination.naming-service</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.naming-service</code> property to
specify the naming service to use, when using cache coordination for a
clustered environment.</p>
</div>
<div id="sthref780" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEFFAF">Table 5-10</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA844"></a><a id="sthref781"></a><a id="BABEFFAF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-10 Valid Values for cache.coordination.naming-service</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jndi</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses JNDI.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rmi</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configures RMI.</p></td>
</tr>
</tbody>
</table>
<div id="sthref782" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Cache coordination must be enabled.</p>
</div>
<div id="sthref783" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGAFBA">Example 5-9</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABGAFBA"></a><a id="TLJPA845"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-9 Using cache.coordination.naming-service in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination" value="true"/&gt;
&lt;property name="eclipselink.cache.coordination.naming-service" value="jndi"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDGAICF">Example 5-10</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDGAICF"></a><a id="TLJPA54159"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-10 Using cache.coordination.naming-service in a Property
Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put(PersistenceUnitProperties.CACHE_COORDINATION_NAMING_SERVICE,
"jndi");</code></pre>
</div>
</div>
<div id="sthref784" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationpropagateasynchronously"></a><a id="TLJPA846"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-propagate-asynchronously"><a class="anchor" href="#cache-coordination-propagate-asynchronously"></a>cache.coordination.propagate-asynchronously</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.propagate-asynchronously</code>
property to specify if the coordination broadcast should occur
asynchronously with the committing thread.</p>
</div>
<div class="paragraph">
<p>The property configures cache coordination for a clustered environment.
Set if the coordination broadcast should occur asynchronously with the
committing thread. This means the coordination will be complete before
the thread returns from the commit of the transaction.</p>
</div>
<div id="sthref785" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABBGGGD">Table 5-11</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA847"></a><a id="sthref786"></a><a id="BABBGGGD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-11 Valid Values for
cache.coordination.propagate-asynchronously</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) EclipseLink will broadcast asynchronously. The
coordination will be complete before the thread returns from the
committing the transaction.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EclipseLink will broadcast synchronously.</p></td>
</tr>
</tbody>
</table>
<div id="sthref787" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>JMS cache coordination is always asynchronous, regardless of this
setting.</p>
</div>
<div class="paragraph">
<p>By default, RMI cache coordination is asynchronous. Use synchronous
(<code>eclipselink.cache.coordination.propagate-asynchronously</code> = <code>false</code>) to
ensure that all servers are updated before the request returns.</p>
</div>
<div id="sthref788" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCBHJG">Example 5-11</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABCBHJG"></a><a id="TLJPA848"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-11 Using cache.coordination.propagate-asynchronously in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.propagate-asynchronously"
value="false" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDCDGIC">Example 5-12</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDCDGIC"></a><a id="TLJPA54160"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-12 Using cache.coordination.propagate-asynchronously in a
Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put
(PersistenceUnitProperties.CACHE_COORDINATION_PROPAGATE_ASYNCHRONOUSLY,
"false");</code></pre>
</div>
</div>
<div id="sthref789" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationprotocol"></a><a id="TLJPA1068"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-protocol"><a class="anchor" href="#cache-coordination-protocol"></a>cache.coordination.protocol</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.protocol</code> property to specify
the cache coordination protocol to use. Depending on the cache
configuration for each descriptor, this will broadcast cache updates or
inserts to the cluster to update or invalidate each session&#8217;s cache.</p>
</div>
<div id="sthref790" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCEGFF">Table 5-12</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA849"></a><a id="sthref791"></a><a id="BABCEGFF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-12 Valid Values for cache.coordination.protocol</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use Java Message Service (JMS) to broadcast changes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jms-publishing</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use an EJB MessageDrivenBean to be used to broadcast
changes. You must configure the MessageDrivenBean separately.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rmi</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use Java Remote Method Invocation (RMI) to broadcast changes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rmi-iiop</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use RMI over the Internet Inter-Orb Protocol (IIOP) to
broadcast changes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ClassName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of a subclass implementation of the
<code>TransportManager</code> abstract class</p></td>
</tr>
</tbody>
</table>
<div id="sthref792" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You must specify the <code>cache.coordination.protocol</code> for every persistence
unit and session in the cluster.</p>
</div>
<div id="sthref793" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHGIFC">Example 5-13</a> shows how configure JMS cache coordination
in the <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABHGIFC"></a><a id="TLJPA850"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-13 Configuring JMS Cache Coordination in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.protocol" value="jms" /&gt;
&lt;property name="eclipselink.cache.coordination.jms.topic"
value="jms/EmployeeTopic" /&gt;
&lt;property name="eclipselink.cache.coordination.jms.factory"
value="jms/EmployeeTopicConnectionFactory" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If your application <em>is not</em> running in a cluster, you must provide the
URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.jms.host"
value="t3://myserver:7001/" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also include a username and password, if required, to access the
server (for example, if on a separate domain):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.jndi.user" value="weblogic" /&gt;
&lt;property name="eclipselink.cache.coordination.jndi.password" value="welcome1" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABJDAIB">Example 5-14</a> shows how to configure RMI cache
coordination in the <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABJDAIB"></a><a id="TLJPA851"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-14 Configuring RMI Cache Coordination in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.protocol" value="rmi" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If your application <em>is not</em> running in a cluster, you must provide the
URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.rmi.url"
value="t3://myserver:7001/" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also include a username and password, if required, to access the
server (for example, if on a separate domain):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.jndi.user" value="weblogic" /&gt;
&lt;property name="eclipselink.cache.coordination.jndi.password" value="welcome1" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, RMI cache coordination broadcasts are asynchronous. You can
override this, if needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.propagate-asynchronously"
value="false" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you have multiple applications on the same server or network, you can
specify a separate cache coordination channel for each application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.channel" value="EmployeeChannel" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>RMI cache coordination uses a multicast socket to allow servers to find
each other. You can configure the multicast settings, if needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.rmi.announcement-delay"
value="1000" /&gt;
&lt;property name="eclipselink.cache.coordination.rmi.multicast-group"
value="239.192.0.0" /&gt;
&lt;property name="eclipselink.cache.coordination.rmi.multicast-group.port"
value="3121" /&gt;
&lt;property name="eclipselink.cache.coordination.packet-time-to-live" value="2" /&gt;</code></pre>
</div>
</div>
<div id="sthref794" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationchannel">"cache.coordination.channel"</a></p>
</li>
<li>
<p><a href="#cachecoordinationjmsfactory">"cache.coordination.jms.factory"</a></p>
</li>
<li>
<p><a href="#cachecoordinationjmshost">"cache.coordination.jms.host"</a></p>
</li>
<li>
<p><a href="#cachecoordinationjmsreusetopicpublisher">"cache.coordination.jms.reuse-topic-publisher"</a></p>
</li>
<li>
<p><a href="#cachecoordinationjmstopic">"cache.coordination.jms.topic"</a></p>
</li>
<li>
<p><a href="#cachecoordinationjndiinitialcontextfactory">"cache.coordination.jndi.initial-context-factory"</a></p>
</li>
<li>
<p><a href="#cachecoordinationjndipassword">"cache.coordination.jndi.password"</a></p>
</li>
<li>
<p><a href="#cachecoordinationjndiuser">"cache.coordination.jndi.user"</a></p>
</li>
<li>
<p><a href="#cachecoordinationnamingservice">"cache.coordination.naming-service"</a></p>
</li>
<li>
<p><a href="#cachecoordinationpropagateasynchronously">"cache.coordination.propagate-asynchronously"</a></p>
</li>
<li>
<p><a href="#cachecoordinationremoveconnectiononerror">"cache.coordination.remove-connection-on-error"</a></p>
</li>
<li>
<p><a href="#cachecoordinationrmiannouncementdelay">"cache.coordination.rmi.announcement-delay"</a></p>
</li>
<li>
<p><a href="#cachecoordinationrmimulticastgroup">"cache.coordination.rmi.multicast-group"</a></p>
</li>
<li>
<p><a href="#cachecoordinationrmimulticastgroup">"cache.coordination.rmi.multicast-group"</a></p>
</li>
<li>
<p><a href="#cachecoordinationrmipackettimetolive">"cache.coordination.rmi.packet-time-to-live"</a></p>
</li>
<li>
<p><a href="#cachecoordinationrmiurl">"cache.coordination.rmi.url"</a></p>
</li>
<li>
<p><a href="#cachecoordinationthreadpoolsize">"cache.coordination.thread.pool.size"</a></p>
</li>
<li>
<p>Cache Coordination Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/CacheCoordination" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/CacheCoordination</a></code></p>
</li>
<li>
<p>"Clustering and Cache Coordination"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Coordination" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Coordination</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationremoveconnectiononerror"></a><a id="TLJPA852"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-remove-connection-on-error"><a class="anchor" href="#cache-coordination-remove-connection-on-error"></a>cache.coordination.remove-connection-on-error</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.remove-connection-on-error</code>
property to specify if the connection should be removed if EclipseLink
encounters a communication error when coordinating the cache.</p>
</div>
<div id="sthref795" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CJHBHDJH">Table 5-13</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA853"></a><a id="sthref796"></a><a id="CJHBHDJH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-13 Valid Values for
cache.coordination.remove-connection-on-error</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes the connection if a communication error occurs.
EclipseLink will reconnect when the server becomes available.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Does not remove the connection if a communication
error occurs.</p></td>
</tr>
</tbody>
</table>
<div id="sthref797" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Normally, this is used for RMI connections in the event that a server
goes down.</p>
</div>
<div id="sthref798" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGBHBE">Example 5-15</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABGBHBE"></a><a id="TLJPA854"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-15 Using cache.coordination.remove-connection-on-error in
peristence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.remove-connection-on-error"
value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDDAIAI">Example 5-16</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDDAIAI"></a><a id="TLJPA54161"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-16 Using cache.coordination.remove-connection-on_error in a
property map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put
(PersistenceUnitProperties.CACHE_COORDINATION_REMOVE_CONNECTION_ON_ERROR,"true");</code></pre>
</div>
</div>
<div id="sthref799" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationrmiannouncementdelay"></a><a id="TLJPA855"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-rmi-announcement-delay"><a class="anchor" href="#cache-coordination-rmi-announcement-delay"></a>cache.coordination.rmi.announcement-delay</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.rmi.announcement-delay</code> property
to set the time (in milliseconds) to wait for announcements from other
cluster members on startup.</p>
</div>
<div id="sthref800" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCEDJF">Table 5-14</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA856"></a><a id="sthref801"></a><a id="BABCEDJF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-14 Valid Values for
cache.coordination.rmi.announcement-delay</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Time (in milliseconds) to wait for announcements, on startup.</p>
</div>
<div class="paragraph">
<p>Default: <strong>1000</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref802" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property for RMI coordination (when
<code>eclipselink.cache.coordination.protocol</code> = <code>rmi</code>).</p>
</div>
<div id="sthref803" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABJDAIB">Example 5-14</a> for information on how to use this
property.</p>
</div>
<div id="sthref804" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationrmimulticastgroup"></a><a id="TLJPA857"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-rmi-multicast-group"><a class="anchor" href="#cache-coordination-rmi-multicast-group"></a>cache.coordination.rmi.multicast-group</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.rmi.multicast-group</code> property to
set the multicast socket group address (used to find other members of
the cluster), when using cache coordination for a clustered environment.</p>
</div>
<div id="sthref805" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABDIBJH">Table 5-15</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA858"></a><a id="sthref806"></a><a id="BABDIBJH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-15 Valid Values for cache.coordination.rmi.multicast-group</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the multicast socket group address</p>
</div>
<div class="paragraph">
<p>Default: <code>239.192.0.0</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref807" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property for RMI coordination (when
<code>eclipselink.cache.coordination.protocol</code> = <code>rmi</code>).</p>
</div>
<div id="sthref808" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABJDAIB">Example 5-14</a> for information on how to use this
property.</p>
</div>
<div id="sthref809" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="sthref810"><a class="anchor" href="#sthref810"></a>cache.coordination.rmi.multicast-group.port</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.rmi.multicast-group.port</code>
property to set the multicast socket group port (used to find other
members of the cluster), when using cache coordination for a clustered
environment.</p>
</div>
<div id="sthref811" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACFAGIE">Table 5-16</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54093"></a><a id="sthref812"></a><a id="CACFAGIE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-16 Valid Values for
cache.coordination.rmi.multicast-group.port</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set the multicast socket group port.</p>
</div>
<div class="paragraph">
<p>Default: <code>3121</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref813" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property for RMI coordination (when
<code>eclipselink.cache.coordination.protocol</code> = <code>rmi</code>).</p>
</div>
<div id="sthref814" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABJDAIB">Example 5-14</a> for information on how to use this
property.</p>
</div>
<div id="sthref815" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationrmipackettimetolive"></a><a id="TLJPA861"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-rmi-packet-time-to-live"><a class="anchor" href="#cache-coordination-rmi-packet-time-to-live"></a>cache.coordination.rmi.packet-time-to-live</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.rmi.packet-time-to-live</code>
property to set the number of hops the session announcement data packets
will take before expiring. The multicast group is used to find other
members of the cluster.</p>
</div>
<div id="sthref816" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHDDBG">Table 5-17</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA862"></a><a id="sthref817"></a><a id="BABHDDBG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-17 Valid Values for
cache.coordination.rmi.packet-time-to-live</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Number of hops the session announcement data packets will take before
expiring.</p>
</div>
<div class="paragraph">
<p>Default: <code>2</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref818" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>If sessions are hosted on different LANs that are part of WAN, the
announcement sent by one session may not reach other sessions. In this
case, consult your network administrator for the correct time-to-live
value or test your network by increasing the value until each session
receives announcement sent by others.</p>
</div>
<div class="paragraph">
<p>Use this property for RMI coordination (when
<code>eclipselink.cache.coordination.protocol</code> = <code>rmi</code>).</p>
</div>
<div id="sthref819" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABJDAIB">Example 5-14</a> for information on how to use this
property.</p>
</div>
<div id="sthref820" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationrmiurl"></a><a id="TLJPA863"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-rmi-url"><a class="anchor" href="#cache-coordination-rmi-url"></a>cache.coordination.rmi.url</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.rmi.url</code> property to set the URL
of the host server. This is the URL that other cluster member use to
connect to this host.</p>
</div>
<div id="sthref821" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHIFGF">Table 5-18</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA864"></a><a id="sthref822"></a><a id="BABHIFGF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-18 Valid Values for cache.coordination.rmi.url</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>URL of the host server</p>
</div>
<div class="paragraph">
<p>Default: <code>local</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref823" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property for RMI coordination (when
<code>eclipselink.cache.coordination.protocol</code> = <code>rmi</code>).</p>
</div>
<div class="paragraph">
<p>This may not be required in a clustered environment where JNDI is
replicated. You can also set the location as a System property or using
a <code>SessionCustomizer</code> to avoid requiring a separate <code>persistence.xml</code>
file per server.</p>
</div>
<div id="sthref824" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABJDAIB">Example 5-14</a> for information on how to use this
property.</p>
</div>
<div id="sthref825" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachecoordinationthreadpoolsize"></a><a id="TLJPA865"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-coordination-thread-pool-size"><a class="anchor" href="#cache-coordination-thread-pool-size"></a>cache.coordination.thread.pool.size</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.coordination.thread.pool.size</code> property to
configure the size of the thread pool, for cache coordination threads.</p>
</div>
<div id="sthref826" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABIHIHC">Table 5-19</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA866"></a><a id="sthref827"></a><a id="BABIHIHC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-19 Valid Values for cache.coordination.thread.pool.size</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Size of the thread pool. If <code>0</code>, EclipseLink does not use a thread pool;
instead threads are spawned when required.</p>
</div>
<div class="paragraph">
<p>Default: <code>32</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref828" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>For RMI cache coordination, EclipseLink spawns one thread per node to
send change notifications and one thread to listen for new node
notifications.</p>
</div>
<div class="paragraph">
<p>For JMS cache coordination, EclipseLink spawns one thread to <em>receive</em>
JMS change notification messages (unless MDB is used) and one thread to
<em>process</em> the change notification (unless MDB is used).</p>
</div>
<div id="sthref829" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEFIEH">Example 5-17</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDEFIEH"></a><a id="TLJPA54139"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-17 Using cache.coordination.thread.pool.size in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.cache.coordination.thread.pool.size"
value="48"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHEAHC">Example 5-18</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDHEAHC"></a><a id="TLJPA54162"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-18 Using cache.coordination.thread.pool.size in a Property
Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put(PersistenceUnitProperties.CACHE_COORDINATION_THREAD_POOL_SIZE,
"48");</code></pre>
</div>
</div>
<div id="sthref830" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cachecoordinationprotocol">"cache.coordination.protocol"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cachedatabaseeventlistener"></a><a id="TLJPA867"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-database-event-listener"><a class="anchor" href="#cache-database-event-listener"></a>cache.database-event-listener</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.database-event-listener</code> property to
integrate EclipseLink with a database event notification service, such
as Oracle QCN/DCN (Query Change Notification/Database Change
Notification).</p>
</div>
<div id="sthref831" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CCHGIFIF">Table 5-20</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA868"></a><a id="sthref832"></a><a id="CCHGIFIF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-20 Valid Values for cache.database-event-listener</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Class</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of a class that implements <code>DatabaseEventListener</code>, such as the
<code>OracleChangeNotificationListener</code>
(<code>org.eclipse.persistence.platform.database.oracle.dcn.OracleChangeNotificationListener</code>).</p>
</div>
<div class="paragraph">
<p>You can also use <strong>DCN</strong> and <strong>QCN</strong> for Oracle.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref833" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use this property to allow the EclipseLink cache to be
invalidated by database change events, triggers, or other services.</p>
</div>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CCHGJFCG">Example 5-19</a> shows how to use this property with Oracle
DCN.</p>
</div>
<div class="paragraph">
<p><a id="CCHGJFCG"></a><a id="TLJPA869"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-19 Using cache.database-event-listener in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                xsi:schemaLocation="http://java.sun.com/xml/ns/persistence
persistence_2_0.xsd"
                version="2.0"&gt;
    &lt;persistence-unit name="acme" transaction-type="RESOURCE_LOCAL"&gt;
        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;
        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;
        &lt;properties&gt;
            &lt;property name="eclipselink.cache.database-event-listener" value=
"org.eclipse.persistence.platform.database.oracle.dcn.OracleChangeNotificationList
ener"/&gt;
        &lt;/properties&gt;
    &lt;/persistence-unit&gt;
&lt;/persistence&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDBBIHE">"@Cache"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
<li>
<p>"Database Change Notification" in <em>Oracle Fusion Middleware
Configuring and Managing JDBC Data Sources for Oracle WebLogic Server</em></p>
</li>
<li>
<p>"Clustering and Cache Coordination"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Coordination" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Coordination</a></code></p>
</li>
<li>
<p>Cache Coordination Example
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/CacheCoordination" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/CacheCoordination</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="cacheshared"></a><a id="TLJPA54116"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-shared"><a class="anchor" href="#cache-shared"></a>cache.shared</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.shared</code> property prefix to indicate whether
an entity&#8217;s cache is shared (non-isolated).</p>
</div>
<div id="sthref836" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGGEJH">Table 5-21</a> describes this persistence property prefix&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54117"></a><a id="sthref837"></a><a id="CHDGGEJH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-21 Valid Values for cache.shared</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Shares an entity&#8217;s cache. The value is case
insensitive.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prevents sharing of an entity&#8217;s cache. The value is case
insensitive.</p></td>
</tr>
</tbody>
</table>
<div id="sthref838" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Form a property name by appending either a valid entity name or class
name to <code>class.shared</code>, indicating that the property values apply only
to a particular entity. As an alternative, you can append the <code>default</code>
suffix to the <code>cache.shared</code> property prefix to form a property name
that sets the default for all entities.</p>
</div>
<div id="sthref839" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CACHFEFD">Example 2-12</a> for information on
how to use this property.</p>
</div>
<div class="paragraph">
<p><a id="cachesize"></a><a id="TLJPA54118"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-size"><a class="anchor" href="#cache-size"></a>cache.size</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.size</code> property prefix to specify the cache
size for a specific entity type.</p>
</div>
<div id="sthref840" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDFBBJC">Table 5-22</a> describes this persistence property prefix&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54119"></a><a id="sthref841"></a><a id="CHDFBBJC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-22 Valid Values for cache.size</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The size of the cache. Default: 100 Bytes.</p></td>
</tr>
</tbody>
</table>
<div id="sthref842" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Form a property name by appending either a valid entity name or class
name to <code>cache.size</code>, indicating that the property values apply only to
a particular entity. As an alternative, you can append the <code>default</code>
suffix to the <code>cache.size</code> property prefix, indicating that the property
value applies to all entities.</p>
</div>
<div class="paragraph">
<p>For most cache types, the size is only the initial size, not a fixed or
maximum size. For <code>CacheType.SoftCache</code> and <code>CacheType.HardCache</code> types,
the size is the sub-cache size. The default cache size is 100 Bytes.</p>
</div>
<div id="sthref843" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CACHFEFD">Example 2-12</a> for information on
how to use this property.</p>
</div>
<div class="paragraph">
<p><a id="cachetype"></a><a id="TLJPA54120"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="cache-type"><a class="anchor" href="#cache-type"></a>cache.type</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.cache.type</code> property prefix to set the type of
cache.</p>
</div>
<div id="sthref844" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDDIGB">Table 5-23</a> describes this persistence property prefix&#8217;s
values</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54121"></a><a id="sthref845"></a><a id="CHDDDIGB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-23 Valid values for cache.type</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Weak</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Holds all objects in use by the application, and allows any
unreferenced objects to be free for garbage collection. This cache type
guarantees object identity and allows optimal garbage collection, but
provides little caching benefit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Soft</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Holds all objects read by the application, and allows any
unreferenced objects to be free for garbage collection only when the JVM
decides that memory is low. This cache type guarantees object identity,
allows for garbage collection when memory is low, and provides optimal
caching benefit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SoftWeak</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default)Holds all objects read by the application, and a
fixed-size subcache of MRU objects using <code>Soft</code> references.The
<code>SoftWeak</code> cache allows any unreferenced objects not in the sub-cache to
be free for garbage collection. The objects in the sub-cache are free to
garbage collect only when the JVM decides that memory is low. This cache
type guarantees object identity, allows configurable garbage collection,
and provides configurable caching benefit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HardWeak</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Holds all objects in use by the application, and a
fixed-size subcache of MRU objects using normal <code>Hard</code> references. This
type allows any unreferenced objects not in the subcache to be free for
garbage collection, but not objects in the subcache. This cache type
guarantees object identity, allows configurable garbage collection, and
provides configurable caching benefit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Full</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Holds all objects read by the application. This cache type does not
allow garbage collection. This guarantees object identity, allows no
garbage collection, and provides complete caching benefit.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Use this cache type only for a fixed number of objects;
otherwise, memory leakage will occur eventually.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NONE</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Does not cache any objects, and frees any unreferenced objects for
garbage collection. This provides no object identity, allows complete
garbage collection, and provides no caching benefit.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This cache type should normally not be used. Instead, disable
the shared cache through <code>PersistenceUnitProperties.CACHE_SHARED</code>. Lack
of object identity can lead to infinite loops for objects that have
circular references and no indirection.
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref846" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Form a property name by appending a valid entity name or class name to
<code>cache.type</code>, indicating that the property values apply only to a
particular entity. As an alternative, you can append the <code>default</code>
suffix to the <code>cache.type</code> prefix to form a property name that sets the
default for all entities.</p>
</div>
<div class="paragraph">
<p>Valid values for <code>cache.type</code> properties are declared in the <code>CacheType</code>
class. The default is <code>SoftWeak</code>.</p>
</div>
<div class="paragraph">
<p>If you do not want to cache entities, set the <code>cache.shared</code> property.</p>
</div>
<div id="sthref847" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#CACHFEFD">Example 2-12</a> for information
about how to use this property.</p>
</div>
<div id="sthref848" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cacheshared">cache.shared</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="classloader"></a><a id="TLJPA1069"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="classloader-2"><a class="anchor" href="#classloader-2"></a>classloader</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.classloader</code> property to create an
<code>EntityMangerFactory</code> in the property map to be passed to
<code>Persistence.createEntityManagerFactory</code>.</p>
</div>
<div id="sthref849" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEBCGE">Table 5-24</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54140"></a><a id="sthref850"></a><a id="CHDEBCGE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-24 Valid Values for classloader</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Classloader to use.</p></td>
</tr>
</tbody>
</table>
<div class="literalblock">
<div class="content">
<pre>+</pre>
</div>
</div>
<div id="sthref851" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This is a dynamic property that must be set at runtime, in the property
map. You cannot configure this property in the <code>persistence.xml</code> file.</p>
</div>
<div id="sthref852" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDFCFFI">Example 5-20</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDFCFFI"></a><a id="TLJPA54141"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-20 Using classloader in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">properties.put("eclipselink.classloader", this.getClass().getClassLoader());</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="compositeunit"></a><a id="TLJPA872"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="composite-unit"><a class="anchor" href="#composite-unit"></a>composite-unit</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.composite-unit</code> property to specify if the
persistence unit is a composite persistence unit.</p>
</div>
<div id="sthref853" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BIIGDCGE">Table 5-25</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA873"></a><a id="sthref854"></a><a id="BIIGDCGE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-25 Valid Values for composite-unit</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Persistence unit <em>is</em> a composite persistence unit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Persistence unit <em>is not</em> a composite persistence
unit.</p></td>
</tr>
</tbody>
</table>
<div id="sthref855" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The property must be specified in <code>persistence.xml</code> of a composite
persistence unit. The composite persistence unit must contain all
persistence units found in JAR files specified by the <code>persistence.xml</code>
file.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If this property is passed to the <code>createEntityManagerFactory</code> method or
if it is set in system properties, it is ignored.)
</td>
</tr>
</table>
</div>
<div id="sthref856" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BIIECICI">Example 5-21</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BIIECICI"></a><a id="TLJPA874"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-21 Using composite-unit in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence persistence_1_0.xsd" version="1.0"&gt;
    &lt;persistence-unit name="compositePu" transaction-type="JTA"&gt;
        &lt;provider&gt;
            org.eclipse.persistence.jpa.PersistenceProvider
        &lt;/provider&gt;

        &lt;jar-file&gt;member1.jar&lt;/jar-file&gt;
        &lt;jar-file&gt;member2.jar&lt;/jar-file&gt;

        &lt;properties&gt;
            &lt;property name="eclipselink.composite-unit" value="true"/&gt;
            &lt;property name="eclipselink.target-server" value="WebLogic_10"/&gt;
        &lt;/properties&gt;
    &lt;/persistence-unit&gt;
&lt;/persistence&gt;</code></pre>
</div>
</div>
<div id="sthref857" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#compositeunitmember">"composite-unit.member"</a></p>
</li>
<li>
<p><a href="#compositeunitproperties">"composite-unit.properties"</a></p>
</li>
<li>
<p>"Using Multiple Databases with a Composite Persistence Unit" in
<em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>"Composite Persistence Units"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Composite_Persistence_Units" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Composite_Persistence_Units</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="compositeunitmember"></a><a id="TLJPA875"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="composite-unit-member-2"><a class="anchor" href="#composite-unit-member-2"></a>composite-unit.member</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.composite-unit.member</code> property to specify if the
persistence unit is a <em>member</em> composite persistence unit.</p>
</div>
<div id="sthref858" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIGFEB">Table 5-26</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA876"></a><a id="sthref859"></a><a id="CHDIGFEB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-26 Valid Values for composite-unit.member</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The persistence unit must be a member of a composite
persistence unit and cannot be used as an independent persistence unit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) The persistence unit does not have to be a member of
a composite persistence unit.</p></td>
</tr>
</tbody>
</table>
<div id="sthref860" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Setting this property to <code>true</code> indicates that the persistence unit has
dependencies on other persistence units.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If this property is passed to the <code>createEntityManagerFactory</code> method or
if it is set in system properties, it is ignored.)</p>
</div>
<div class="paragraph">
<p>If this property is <code>true</code>, you may still create <code>EntityManagerFactory</code>,
but it cannot be connected. Any attempt to create an entity manger will
cause an exception.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="TLJPA877" class="paragraph">
<p><strong>Query Hint</strong></p>
</div>
<div class="paragraph">
<p>When executing a native query on a composite persistence unit, use
<code>composite-unit.member</code> to specify the name of the composite member
persistence unit on which to execute the query.</p>
</div>
<div id="sthref861" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACGJACG2">Example 5-22</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CACGJACG2"></a><a id="TLJPA878"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-22 Using composite-unit.member in persistence.xml</em></strong></p>
</div>
<div class="paragraph">
<p>Composite member persistence unit <strong>memberPu2</strong> is defined in the
<strong>member2.jar</strong> file. It has dependency on a class defined in
<strong>member1.jar</strong> and cannot be used independently.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/persistence persistence_1_0.xsd"
version="1.0"&gt;
    &lt;persistence-unit name="memberPu2"&gt;
        &lt;provider&gt;
            org.eclipse.persistence.jpa.PersistenceProvider
        &lt;/provider&gt;
        &lt;mapping-file&gt;META-INF/advanced-entity-mappings2.xml&lt;/mapping-file&gt;
        &lt;jta-data-source&gt;jdbc/MySqlJtaDS&lt;/jta-data-source&gt;
        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;
        &lt;properties&gt;
            &lt;property name="eclipselink.composite-unit.member" value="true"/&gt;
            &lt;property name="eclipselink.target-database"
value="org.eclipse.persistence.platform.database.MySQLPlatform"/&gt;
        &lt;/properties&gt;
    &lt;/persistence-unit&gt;
&lt;/persistence&gt;</code></pre>
</div>
</div>
<div id="sthref862" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBHHCJH">"@CompositeMember"</a></p>
</li>
<li>
<p><a href="#compositeunit">"composite-unit"</a></p>
</li>
<li>
<p><a href="#compositeunitmember">"composite-unit.member"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="compositeunitproperties"></a><a id="TLJPA879"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="composite-unit-properties"><a class="anchor" href="#composite-unit-properties"></a>composite-unit.properties</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.composite-unit.properties</code> property to configure
the properties for persistence unit members.</p>
</div>
<div id="sthref863" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHHEHCB">Table 5-27</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA880"></a><a id="sthref864"></a><a id="CIHHEHCB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-27 Valid Values for composite-unit.properties</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map of properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Properties to be passed to the persistence unit. Use
the persistence unit&#8217;s name as the key.</p></td>
</tr>
</tbody>
</table>
<div id="sthref865" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Pass this property to <code>createEntityManager</code> method of a composite
persistence unit to pass properties to its member persistence units.</p>
</div>
<div id="sthref866" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHGBGHC">Example 5-23</a> shows how to use this property in a
property map</p>
</div>
<div class="paragraph">
<p><a id="CIHGBGHC"></a><a id="TLJPA881"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-23 Using composite-unit.properties in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">Map props1 = new HashMap();

   props1.put("jakarta.persistence.jdbc.user", "user1");
   props1.put("jakarta.persistence.jdbc.password", "password1");
   props1.put("jakarta.persistence.jdbc.driver", "oracle.jdbc.OracleDriver");
   props1.put("jakarta.persistence.jdbc.url", "jdbc:oracle:thin:@oracle_db_url:1521:db");

Map props2 = new HashMap();

   props2.put("jakarta.persistence.jdbc.user", "user2");
   props2.put("jakarta.persistence.jdbc.password", "password2");
   props2.put("jakarta.persistence.jdbc.driver", "com.mysql.jdbc.Driver");
   props2.put("jakarta.persistence.jdbc.url", " jdbc:mysql://my_sql_db_url:3306/user2");

Map memberProps = new HashMap();
   memberProps.put("memberPu1", props1);
   memberProps.put("memberPu2", props2);

Map props = new HashMap();
   props.put("eclipselink.logging.level", "FINEST");
   props.put("eclipselink.composite-unit.properties", memberProps);

EntityManagerFactory emf = Persistence.createEntityManagerFactory("compositePu", props);</code></pre>
</div>
</div>
<div id="sthref867" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#compositeunit">"composite-unit"</a></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="concurrency-manager-waittime"><a class="anchor" href="#concurrency-manager-waittime"></a>concurrency.manager.waittime</h3>
<div class="paragraph">
<p>This property in milliseconds can control thread management in
<code>org.eclipse.persistence.internal.helper.ConcurrencyManager</code>. It control
how much time loop wait before it try acquire lock for current thread
again. It value is set above above 0 dead lock detection mechanism and
related extended logging will be activated.</p>
</div>
<div class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.waittime.tab">Table 5-30</a> describes this
persistence property&#8217;s values.</p>
</div>
<div id="concurrency.manager.waittime.tab" class="paragraph">
<p><strong><em>Table 5-30 Valid Values for concurrency.manager.waittime</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">How much time loop wait before it try acquire lock for
current thread again. Default value is 0 (unit is ms). Allowed values
are: long</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.waittime.example">Example 5-24</a> shows how to
use this property in the <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="concurrency.manager.waittime.example"></a><a id="TLJPA883"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-24 Using concurrency.manager.waittime in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.concurrency.manager.waittime" value="100" /&gt;</code></pre>
</div>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="concurrency-manager-maxsleeptime"><a class="anchor" href="#concurrency-manager-maxsleeptime"></a>concurrency.manager.maxsleeptime</h3>
<div class="paragraph">
<p>This system property in milliseconds can control thread management in
<code>org.eclipse.persistence.internal.helper.ConcurrencyManager</code>. It control
how long we are willing to wait before firing up an exception.</p>
</div>
<div class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.maxsleeptime.tab">Table 5-30</a> describes this
persistence property&#8217;s values.</p>
</div>
<div id="concurrency.manager.maxsleeptime.tab" class="paragraph">
<p><strong><em>Table 5-30 Valid Values for concurrency.manager.maxsleeptime</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">It control how long we are willing to wait before firing up
an exception. Default value is 40000 (unit is ms). Allowed values are:
long</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.maxsleeptime.example">Example 5-24</a> shows how
to use this property in the <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="concurrency.manager.maxsleeptime.example"></a><a id="TLJPA883"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-24 Using concurrency.manager.maxsleeptime in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.concurrency.manager.maxsleeptime" value="100" /&gt;</code></pre>
</div>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="concurrency-manager-maxfrequencytodumptinymessage"><a class="anchor" href="#concurrency-manager-maxfrequencytodumptinymessage"></a>concurrency.manager.maxfrequencytodumptinymessage</h3>
<div class="paragraph">
<p>This system property in milliseconds can control thread management in
<code>org.eclipse.persistence.internal.helper.ConcurrencyManager</code> and
<code>org.eclipse.persistence.internal.helper.ConcurrencyUtil</code>. It control
how frequently the tiny dump log message is created.</p>
</div>
<div class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.maxfrequencytodumptinymessage.tab">Table 5-30</a>
describes this persistence property&#8217;s values.</p>
</div>
<div id="concurrency.manager.maxfrequencytodumptinymessage.tab" class="paragraph">
<p><strong><em>Table 5-30 Valid Values for
concurrency.manager.maxfrequencytodumptinymessage</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">It control how frequently the tiny dump log message is
created. Default value is 40000 (unit is ms). Allowed values are: long</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.maxfrequencytodumptinymessage.example">Example
5-24</a> shows how to use this property in the <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="concurrency.manager.maxfrequencytodumptinymessage.example"></a><a id="TLJPA883"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-24 Using concurrency.manager.maxfrequencytodumptinymessage
in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.concurrency.manager.maxfrequencytodumptinymessage" value="100000" /&gt;</code></pre>
</div>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="concurrency-manager-maxfrequencytodumpmassivemessage"><a class="anchor" href="#concurrency-manager-maxfrequencytodumpmassivemessage"></a>concurrency.manager.maxfrequencytodumpmassivemessage</h3>
<div class="paragraph">
<p>This system property in milliseconds can control thread management in
<code>org.eclipse.persistence.internal.helper.ConcurrencyManager</code> and
<code>org.eclipse.persistence.internal.helper.ConcurrencyUtil</code>. It control
how frequently the massive dump log message is created.</p>
</div>
<div class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.maxfrequencytodumpmassivemessage.tab">Table
5-30</a> describes this persistence property&#8217;s values.</p>
</div>
<div id="concurrency.manager.maxfrequencytodumpmassivemessage.tab" class="paragraph">
<p><strong><em>Table 5-30 Valid Values for
concurrency.manager.maxfrequencytodumpmassivemessage</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">It control how frequently the massive dump log message is
created. Default value is 60000 (unit is ms). Allowed values are: long</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.maxfrequencytodumpmassivemessage.example">Example
5-24</a> shows how to use this property in the <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="concurrency.manager.maxfrequencytodumpmassivemessage.example"></a><a id="TLJPA883"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-24 Using
concurrency.manager.maxfrequencytodumpmassivemessage in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.concurrency.manager.maxfrequencytodumpmassivemessage" value="100000" /&gt;</code></pre>
</div>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="concurrency-manager-allow-interruptedexception"><a class="anchor" href="#concurrency-manager-allow-interruptedexception"></a>concurrency.manager.allow.interruptedexception</h3>
<div class="paragraph">
<p>In the places where use this property normally if a thread is stuck it
is because it is doing object building. Blowing the threads ups is not
that dangerous. It can be very dangerous for production if the dead lock
ends up not being resolved because the productive business transactions
will become cancelled if the application has a limited number of retries
to for example process an MDB. However, the code spots where we use this
constant are not as sensible as when the write lock manager is starving
to run commit.</p>
</div>
<div class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.allow.interruptedexception.tab">Table 5-30</a>
describes this persistence property&#8217;s values.</p>
</div>
<div id="concurrency.manager.allow.interruptedexception.tab" class="paragraph">
<p><strong><em>Table 5-30 Valid Values for
concurrency.manager.allow.interruptedexception</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) If we want the to fire up an exception to try to get
the current thread to release all of its acquired locks and allow other
threads to progress.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If aborting frozen thread is not effective it is preferable to
not fire the interrupted exception let the system.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.allow.interruptedexception.example">Example
5-24</a> shows how to use this property in the <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="concurrency.manager.allow.interruptedexception.example"></a><a id="TLJPA883"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-24 Using concurrency.manager.allow.interruptedexception in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.concurrency.manager.allow.interruptedexception" value="true" /&gt;</code></pre>
</div>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="concurrency-manager-allow-concurrencyexception"><a class="anchor" href="#concurrency-manager-allow-concurrencyexception"></a>concurrency.manager.allow.concurrencyexception</h3>
<div class="paragraph">
<p>See valid values table.</p>
</div>
<div class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.allow.concurrencyexception.tab">Table 5-30</a>
describes this persistence property&#8217;s values.</p>
</div>
<div id="concurrency.manager.allow.concurrencyexception.tab" class="paragraph">
<p><strong><em>Table 5-30 Valid Values for
concurrency.manager.allow.concurrencyexception</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) If we want the to fire up an exception to try to get
the current thread to realease all of its acquired locks and allow other
threads to progress.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If aborting frozen thread is not effective it is preferable to
not fire the concurrency exception let the system freeze and die and
force the administration to kill the server. This is preferable to
aborting the transactions multiple times without success in resolving
the dead lock and having business critical messages that after 3 JMS
retries are discarded out. Failing to resolve a dead lock can have
terrible impact in system recovery unless we have infinite retries for
the business transactions.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.allow.concurrencyexception.example">Example
5-24</a> shows how to use this property in the <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="concurrency.manager.allow.concurrencyexception.example"></a><a id="TLJPA883"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-24 Using concurrency.manager.allow.concurrencyexception in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.concurrency.manager.allow.concurrencyexception" value="true" /&gt;</code></pre>
</div>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="concurrency-manager-allow-readlockstacktrace"><a class="anchor" href="#concurrency-manager-allow-readlockstacktrace"></a>concurrency.manager.allow.readlockstacktrace</h3>
<div class="paragraph">
<p>Collect debug/trace information during ReadLock acquisition.</p>
</div>
<div class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.allow.readlockstacktrace.tab">Table 5-30</a>
describes this persistence property&#8217;s values.</p>
</div>
<div id="concurrency.manager.allow.readlockstacktrace.tab" class="paragraph">
<p><strong><em>Table 5-30 Valid Values for
concurrency.manager.allow.readlockstacktrace</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Collect debug/trace information during ReadLock
acquisition.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Don&#8217;t collect debug/trace information during ReadLock
acquisition</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#concurrency.manager.allow.readlockstacktrace.example">Example 5-24</a>
shows how to use this property in the <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="concurrency.manager.allow.readlockstacktrace.example"></a><a id="TLJPA883"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-24 Using concurrency.manager.allow.readlockstacktrace in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.concurrency.manager.allow.readlockstacktrace" value="true" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="connectionpool"></a><a id="TLJPA1070"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="connection-pool"><a class="anchor" href="#connection-pool"></a>connection-pool</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.connection-pool</code> property to configure the various
connection pool properties.</p>
</div>
<div id="sthref868" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGHEBJ">Table 5-28</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA882"></a><a id="sthref869"></a><a id="BABGHEBJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-28 Valid Values for connection-pool</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>initial</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Starting (initial) number of connections.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>min</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum number of connections.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of connections.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wait</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of time (in milliseconds) to wait for a connection from
the pool.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of the JDBC for the connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shared</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For read connection pools, indicates that read connections
are shared across threads.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jtaDataSource</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JTA DataSource name to use for the connection, if
different than the default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nonJtaDataSource</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-JTA DataSource name to use for the connection,
if different than the default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>user</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username to use for this connection (if different than the
default).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password of the <code>user</code> for this connection (if different
than the default).</p></td>
</tr>
</tbody>
</table>
<div id="sthref870" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Append the name of the connection pool and property to be configured. If
connection pool is specified, EclipseLink configures the default (write)
pool.</p>
</div>
<div id="sthref871" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABICBAJ">Example 5-24</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABICBAJ"></a><a id="TLJPA883"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-24 Using connection-pool in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.connection-pool.default.initial" value="1" /&gt;
&lt;property name="eclipselink.connection-pool.node2.min" value="16"/&gt;
&lt;property name="eclipselink.connection-pool.node2.max" value="16"/&gt;
&lt;property name="eclipselink.connection-pool.node2.url"
value="jdbc:oracle:thin:@node2:1521:orcl"/&gt;</code></pre>
</div>
</div>
<div id="sthref872" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Partitioning Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Partitioning" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Partitioning</a></code></p>
</li>
<li>
<p>"Connection Pools" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Connection Pooling" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p><a href="#jdbccachestatements">"jdbc.cache-statements"</a></p>
</li>
<li>
<p><a href="#connectionpoolread">"connection-pool.read"</a></p>
</li>
<li>
<p><a href="#connectionpoolsequence">"connection-pool.sequence"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="connectionpoolread"></a><a id="TLJPA884"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="connection-pool-read"><a class="anchor" href="#connection-pool-read"></a>connection-pool.read</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.connection-pool.read</code> property to configure a read
connection pool for non-transaction read queries.</p>
</div>
<div id="sthref873" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBEFFF">Table 5-29</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA885"></a><a id="sthref874"></a><a id="CHDBEFFF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-29 Valid Values for connection-pool.read</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>initial</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Starting (initial) number of connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>min</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum number of connections.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of connections.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wait</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Amount of time it takes to get connections from the pool.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of the JDBC connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shared</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For read connection pools, indicates that read connections
are shared across threads.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jtaDataSource</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JTA DataSource name to use for the connection, if
different than the default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nonJtaDataSource</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-JTA DataSource name to use for the connection,
if different than the default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>user</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username to use for this connection (if different than the
default).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password of the <code>user</code> for this connection (if different
then the default).</p></td>
</tr>
</tbody>
</table>
<div id="sthref875" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default, EclipseLink <em>does not</em> use a separate read connection pool;
the default pool is used for read queries.</p>
</div>
<div id="sthref876" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJCIHD">Example 5-25</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDJCIHD"></a><a id="TLJPA886"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-25 Using connection-pool.read in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.connection-pool.read.min" value="16"/&gt;
&lt;property name="eclipselink.connection-pool.read.max" value="16"/&gt;</code></pre>
</div>
</div>
<div id="sthref877" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Connection Pools" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Connection Pooling" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p><a href="#connectionpool">"connection-pool"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="connectionpoolsequence"></a><a id="TLJPA887"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="connection-pool-sequence"><a class="anchor" href="#connection-pool-sequence"></a>connection-pool.sequence</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.connection-pool.sequence</code> property to have the
connection pool allocate generated IDs.</p>
</div>
<div class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGAFBI">Table 5-30</a> describes this persistence property&#8217;s values.</p>
</div>
<div id="BABGAFBI" class="paragraph">
<p><strong><em>Table 5-30 Valid Values for connection-pool.sequence</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses the internal connection pool to pool connections from a
datasource.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Does not use the internal connection pool to pool
connections from a datasource.</p></td>
</tr>
</tbody>
</table>
<div id="sthref880" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This is only required for <code>TABLE</code> sequencing. By default, EclipseLink
<em>does not</em> use a separate sequence connection pool; the default pool is
used for sequencing.</p>
</div>
<div id="sthref881" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEFAFH">Example 5-26</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABEFAFH"></a><a id="TLJPA889"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-26 Using connection-pool.sequence in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.connection-pool.sequence" value="true"/&gt;</code></pre>
</div>
</div>
<div id="sthref882" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Connection Pools" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Connection Pooling" in <em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p><a href="#connectionpool">"connection-pool"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="createddljdbcfilename"></a><a id="TLJPA1071"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="create-ddl-jdbc-file-name"><a class="anchor" href="#create-ddl-jdbc-file-name"></a>create-ddl-jdbc-file-name</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.create-ddl-jdbc-file-name</code> property to specify the
name of the DDL file generated by EclipseLink that contains the SQL
statements to create tables for JPA entities.</p>
</div>
<div id="sthref883" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBBIDIID">Table 5-31</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA890"></a><a id="sthref884"></a><a id="CBBIDIID"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-31 Valid Values for create-ddl-jdbc-file-name</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File name</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A file name valid for your operating system.</p>
</div>
<div class="paragraph">
<p>You can prefix the file name with a file path if a concatenation of
<code>eclipselink.application-location</code><br>
<code>eclipselink.create-ddl-jdbc-file-name</code> is valid for your operating
system.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref885" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>If <code>eclipselink.ddl-generation</code> is set to <code>create-tables</code> or
<code>drop-and-create-tables</code>, EclipseLink writes this file to the location
specified by <code>eclipselink.application-location</code>.</p>
</div>
<div id="sthref886" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABFFGJE">Example 5-27</a> for information on how to use this
property.</p>
</div>
<div id="sthref887" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#applicationlocation">"application-location"</a></p>
</li>
<li>
<p><a href="#ddlgeneration">"ddl-generation"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="ddlgeneration"></a><a id="TLJPA892"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="ddl-generation"><a class="anchor" href="#ddl-generation"></a>ddl-generation</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.ddl-generation</code> property to specify how EclipseLink
generates DDL (Data Definition Language) for the database schema (tables
and constraints) on deployment.</p>
</div>
<div class="paragraph">
<p>Note: EclipseLink does not support mixing EclipseLink defined and JPA
defined DDL generation properties. If the <code>eclipselink.ddl-generation</code>
property is specified, the
<code>jakarta.persistence.schema-generation.database.action</code>,
<code>jakarta.persistence.schema-generation.scripts.action</code>, and
<code>jakarta.persistence.sql-load-script-source</code> JPA defined properties will
be ignored.</p>
</div>
<div id="sthref888" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABBEGCE">Table 5-32</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA893"></a><a id="sthref889"></a><a id="BABBEGCE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-32 Valid Values for ddl-generation</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>create-tables</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>EclipseLink will attempt to execute a <code>CREATE TABLE</code> SQL for each table.</p>
</div>
<div class="paragraph">
<p>If the table already exists, EclipseLink will follow the default
behavior of your specific database and JDBC driver combination (when a
<code>CREATE TABLE</code> SQL is issued for an already existing table). In most
cases an exception is thrown and the table is not created; the existing
table will be used. <code>EclipseLink</code> will then continue with the next
statement.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>create-or-extend-tables</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EclipseLink will attempt to create tables.
If the table exists, EclipseLink will add any missing columns.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>drop-and-create-tables</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>EclipseLink will attempt to <code>DROP</code> all tables, then <code>CREATE</code> all tables.
If any issues are encountered, EclipseLink will follow the default
behavior of your specific database and JDBC driver combination, then
continue with the next statement.</p>
</div>
<div class="paragraph">
<p>This is useful in development if the schema frequently changes or during
testing when the existing data needs to be cleared.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: Using <code>drop-and-create</code> will remove all of the data in the
tables when they are dropped. You should never use option on a
production schema that has valuable data in the database. If the schema
changed dramatically, there could be old constraints in the database
that prevent the dropping of the old tables. This may require the old
schema to be dropped through another mechanism.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>none</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) No DDL generated; no schema generated.</p></td>
</tr>
</tbody>
</table>
<div id="sthref890" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use <code>create-or-extend-tables</code> only when
<code>eclipselink.ddl-generation.output-mode</code> = <code>database</code>.</p>
</div>
<div class="paragraph">
<p>If you are using persistence in a Java SE environment and would like to
create the DDL files without creating tables, additionally define a Java
system property <code>INTERACT_WITH_DB</code> and set its value to <code>false</code>.</p>
</div>
<div class="paragraph">
<p><code>DDL_GENERATION</code> must be set in order for this property to take effect.</p>
</div>
<div id="sthref891" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFFGJE">Example 5-27</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABFFGJE"></a><a id="TLJPA894"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-27 Using ddl-generation in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.ddl-generation" value="drop-and-create-tables"/&gt;
&lt;property name="eclipselink.create-ddl-jdbc-file-name" value="createDDL_ddlGeneration.jdbc"/&gt;
&lt;property name="eclipselink.drop-ddl-jdbc-file-name" value="dropDDL_ddlGeneration.jdbc"/&gt;
&lt;property name="eclipselink.ddl-generation.output-mode" value="both"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABJADFJ">Example 5-28</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="BABJADFJ"></a><a id="TLJPA895"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-28 Using ddl-generation in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.DDL_GENERATION,
PersistenceUnitProperties.DROP_AND_CREATE);
propertiesMap.put(PersistenceUnitProperties.DDL_GENERATION_MODE,
PersistenceUnitProperties.BOTH);
propertiesMap.put(PersistenceUnitProperties.CREATE_JDBC_DDL_FILE, "create.sql");</code></pre>
</div>
</div>
<div id="sthref892" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#createddljdbcfilename">"create-ddl-jdbc-file-name"</a></p>
</li>
<li>
<p><a href="#dropddljdbcfilename">"drop-ddl-jdbc-file-name"</a></p>
</li>
<li>
<p><a href="#ddlgenerationoutputmode">"ddl-generation.output-mode"</a></p>
</li>
<li>
<p>Example <code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/DDL" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/DDL</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="ddlgenerationoutputmode"></a><a id="TLJPA1073"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="ddl-generation-output-mode"><a class="anchor" href="#ddl-generation-output-mode"></a>ddl-generation.output-mode</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.ddl-generation.output-mode</code> property to specify
where EclipseLink generates and writes the DDL.</p>
</div>
<div id="sthref893" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGHGDC">Table 5-33</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA896"></a><a id="sthref894"></a><a id="BABGHGDC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-33 Valid Values for ddl-generation.output-mode</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DDL will be generated and written to both the database and a file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>eclipselink.ddl-generation</code> is set to <code>create-tables</code>, then
<code>eclipselink.create-ddl-jdbc-file-name</code> is written to
<code>eclipselink.application-location</code> and executed on the database.</p>
</li>
<li>
<p>If eclipselink.<a href="#ddlgeneration">ddl-generation</a> is set to
<code>drop-and-create-tables</code>, then both
<code>eclipselink.create-ddl-jdbc-file-name</code> and
<code>eclipselink.drop-ddl-jdbc-file-name</code> are written to
<code>eclipselink.application-location</code>, and both SQL files are executed on
the database.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>database</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) DDL will be generated and written to the database
only.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sql-script</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DDL will be generated and written to a file only.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>eclipselink.ddl-generation</code> is set to <code>create-tables</code>, then
<code>eclipselink.create-ddl-jdbc-file-name</code> is written to
<code>eclipselink.application-location</code>. It is <em>not</em> executed on the
database.</p>
</li>
<li>
<p>If <code>eclipselink.ddl-generation</code> is set to <code>drop-and-create-tables</code>,
then both <code>eclipselink.create-ddl-jdbc-file-name</code> and
eclipselink.<a href="#dropddljdbcfilename">drop-ddl-jdbc-file-name</a> are written to
<code>eclipselink.application-location</code>. Neither are executed on the
database.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref895" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can only use <code>ddl-generation.output-mode</code> if you use
<code>ddl-generation</code>. Then, you can optimally set other properties.</p>
</div>
<div id="sthref896" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABFFGJE">Example 5-27</a> for information on how to use this
property.</p>
</div>
<div id="sthref897" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#applicationlocation">"application-location"</a></p>
</li>
<li>
<p><a href="#ddlgeneration">"ddl-generation"</a></p>
</li>
<li>
<p><a href="#createddljdbcfilename">"create-ddl-jdbc-file-name"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="ddltablecreationsuffix"></a><a id="TLJPA1072"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="ddl-table-creation-suffix"><a class="anchor" href="#ddl-table-creation-suffix"></a>ddl.table-creation-suffix</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.ddl.table-creation-suffix</code> property to append a
string to generated <code>CREATE Table</code> statements.</p>
</div>
<div id="sthref898" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEHIHGDB">Table 5-34</a> describes this property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA891"></a><a id="sthref899"></a><a id="BEHIHGDB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-34 Valid Values for ddl-generation.table-creation-suffix</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the suffix.</p></td>
</tr>
</tbody>
</table>
<div id="sthref900" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>ddl.generation</code> property must be set.</p>
</div>
<div id="sthref901" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDCAFFF">Example 5-29</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDCAFFF"></a><a id="TLJPA54142"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-29 Using ddl.table-creation-suffix in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.ddl.table-creation-suffix" value="engine=InnoDB"/&gt;</code></pre>
</div>
</div>
<div id="sthref902" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#ddlgeneration">"ddl-generation"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="deployonstartup"></a><a id="TLJPA1074"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="deploy-on-startup"><a class="anchor" href="#deploy-on-startup"></a>deploy-on-startup</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.deploy-on-startup</code> property to configure deployment
on startup (at the creation of the <code>EntityManagerFactory</code>) instead of
occurring the first time an <code>EntityManager</code> is created.</p>
</div>
<div id="sthref903" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABJJADC">Table 5-35</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA897"></a><a id="sthref904"></a><a id="BABJJADC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-35 Valid Values for delay-on-startup</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Causes a persistence unit to be created when the EntityManager
is created, usually during deployment to a Jakarta EE container or
servlet container.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) The persistence unit is not initialized until the
first EntityManager is created, or until metadata is required from the
EntityManagerFactory.</p></td>
</tr>
</tbody>
</table>
<div id="sthref905" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Using <code>true</code> may increase startup time of a JavaEE server, but will
avoid the first request from hanging as the persistence unit is
deployed.</p>
</div>
<div id="sthref906" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABJIBFB">Example 5-30</a> shows how to use this property in the
<code>peristence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABJIBFB"></a><a id="TLJPA898"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-30 Using deploy-on-startup in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.deploy-on-startup" value="true" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="descriptorcustomizer"></a><a id="TLJPA1075"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="descriptor-customizer"><a class="anchor" href="#descriptor-customizer"></a>descriptor.customizer</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.descriptor.customizer</code> property as a prefix for a
property to configure a <code>DescriptorCustomizer</code>. Use this class&#8217;s
customize method, which takes an
<code>org.eclipse.persistence.descriptors.ClassDescriptor</code>, to
programmatically access advanced EclipseLink descriptor and mapping API
for the descriptor associated with the JPA entity.</p>
</div>
<div id="sthref907" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CCHJDFEF">Table 5-36</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1076"></a><a id="sthref908"></a><a id="CCHJDFEF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-36 Valid Values for descriptor.customizer</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full name for a class that implements <code>DescriptorCustomizer</code>.</p></td>
</tr>
</tbody>
</table>
<div id="sthref909" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You cannot use multiple descriptor customizers.</p>
</div>
<div id="sthref910" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CCHFCJIB">Example 5-31</a> shows how to use this property in the
<code>peristence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CCHFCJIB"></a><a id="TLJPA899"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-31 Using descriptor.customizer in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.descriptor.customizer.Order"
value="acme.sessions.MyDesriptorCustomizer"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CCHGCBGA">Example 5-32</a> shows how to use this property with a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CCHGCBGA"></a><a id="TLJPA900"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-32 Using descriptor.customizer in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.DESCRIPTOR_CUSTOMIZER+".Order",
"acme.sessions.MyDescriptorCustomizer");</code></pre>
</div>
</div>
<div id="sthref911" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Understanding EclipseLink</em></p>
</li>
<li>
<p>Section 8.1, "Entity" in the JPA Specification
<code><a href="http://jcp.org/en/jsr/detail?id=220" class="bare">http://jcp.org/en/jsr/detail?id=220</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="dropddljdbcfilename"></a><a id="TLJPA1077"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="drop-ddl-jdbc-file-name"><a class="anchor" href="#drop-ddl-jdbc-file-name"></a>drop-ddl-jdbc-file-name</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.drop-ddl-jdbc-file-name</code> property to specify the
name of the DDL file generated by EclipseLink that contains the SQL
statements to drop tables for JPA entities.</p>
</div>
<div id="sthref912" class="ulist">
<ul>
<li>
<p>+
Values*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#BABDFGJF">Table 5-37</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1078"></a><a id="sthref913"></a><a id="BABDFGJF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-37 Valid Values for drop-ddl-jdbc-file-name</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File name</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A file name valid for your operating system.</p>
</div>
<div class="paragraph">
<p>You can prefix the file name with a file path if a concatenation of
<code>eclipselink.application-location</code><br>
<code>eclipselink.create-ddl-jdbc-file-name</code> is valid for your operating
system.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref914" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>If <code>eclipselink.ddl-generation</code> is set to <code>create-tables</code>, EclipseLink
writes this file to the location specified by
<code>eclipselink.application-location</code>.</p>
</div>
<div id="sthref915" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABFFGJE">Example 5-27</a> for information on how to use this
property.</p>
</div>
<div id="sthref916" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#ddlgeneration">"ddl-generation"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="exceptionhandler"></a><a id="TLJPA1079"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="exception-handler"><a class="anchor" href="#exception-handler"></a>exception-handler</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.exception-handler</code> property to specify the
EclipseLink exception handler class: an exception handler class that
implements the <code>org.eclipse.persistence.exceptions.ExceptionHandler</code>
interface. The class must provide a default, no-argument constructor.</p>
</div>
<div id="sthref917" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CCHEDGHC">Table 5-38</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1080"></a><a id="sthref918"></a><a id="CCHEDGHC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-38 Valid Values for exception-handler</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ExceptionHandler</code> class</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the <code>handleException</code> method of the class, which takes a
<code>java.lang.RuntimeException</code>, to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Re-throw the exception</p>
</li>
<li>
<p>Throw a different exception</p>
</li>
<li>
<p>Retry the query or database operation</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref919" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>ExceptionHandler</code> class name must be fully qualified by its package
name.</p>
</div>
<div id="sthref920" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CCHEACJI">Example 5-33</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CCHEACJI"></a><a id="TLJPA1081"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-33 Using exception-handler in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.exception-handler"
value="my.package.MyExceptionHandler"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CCHDJGGC">Example 5-34</a> shows how to use this extension in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CCHDJGGC"></a><a id="TLJPA1082"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-34 Using exception-handler in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.EXCEPTION_HANDLER_CLASS,
"my.package.MyExceptionHandler");</code></pre>
</div>
</div>
<div id="sthref921" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#ormthrowexceptions">"orm.throw.exceptions"</a></p>
</li>
<li>
<p>"Sessions" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Managing and Diagnosing Problems" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="excludeeclipselinkorm"></a><a id="TLJPA1083"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="exclude-eclipselink-orm"><a class="anchor" href="#exclude-eclipselink-orm"></a>exclude-eclipselink-orm</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.exclude-eclipselink-orm</code> property to exclude an
EclipseLink ORM mapping file for a specific persistence unit.</p>
</div>
<div id="sthref922" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEAFHG">Table 5-39</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1084"></a><a id="sthref923"></a><a id="CHDEAFHG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-39 Valid Values for exclude-eclipselink-orm</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not use the <code>eclipselink-orm.xml</code> file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) EclipseLink uses the <code>eclipselink-orm.xml</code> file.</p></td>
</tr>
</tbody>
</table>
<div id="sthref924" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default the first file found at the resource name:
<code>META-INF/eclipselink-orm.xml</code> is processed and overrides configurations
specified in annotations and standard mapping files.</p>
</div>
<div id="sthref925" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBHCCA">Example 5-35</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDBHCCA"></a><a id="TLJPA901"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-35 Using exclude-eclipselink-orm in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.exclude-eclipselink-orm" value="true"/&gt;</code></pre>
</div>
</div>
<div id="sthref926" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Building Blocks of a EclipseLink Project" in <em>Understanding
EclipseLink</em></p>
</li>
<li>
<p>"Using an External Metadata Source" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="flushclearcache"></a><a id="TLJPA1085"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="flush-clear-cache"><a class="anchor" href="#flush-clear-cache"></a>flush-clear.cache</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.flush-clear.cache</code> property to specify the
EclipseLink <code>EntityManager</code> cache behavior when a <code>clear</code> method follows
the <code>flush</code> method.</p>
</div>
<div id="sthref927" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDEDEGHC">Table 5-40</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1086"></a><a id="sthref928"></a><a id="CDEDEGHC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-40 Valid Values for flush-clear.cache</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Drop</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>EclipseLink drops the entire <code>EntityManager</code> cache.</p>
</div>
<div class="paragraph">
<p>Although this is the fastest mode and uses the least memory, the shared
cache may potentially contain stale data after performing the commit.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DropInvalidate</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Default) EclipseLink drops the entire <code>EntityManager</code> cache. Classes
that have at least one updated or deleted object become invalid in the
shared cache after performing the commit.</p>
</div>
<div class="paragraph">
<p>This mode is slower than <code>Drop</code>, but as efficient (in terms of memory
usage) and prevents stale data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Merge</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>EclipseLink drops objects the <code>EntityManager</code> cache that have not been
flushed.</p>
</div>
<div class="paragraph">
<p>Although this mode leaves the shared cache in a perfect state after
performing the commit, it is the least memory-efficient. In a very large
transaction you may run out of memory.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref929" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can specify this property when creating an <code>EntityManagerFactory</code>
(in the map passed to the <code>createEntityManagerFactory</code> method or in the
<code>persistence.xml</code> file), or an <code>EntityManager</code> (in the map passed to the
<code>createEntityManager</code> method).</p>
</div>
<div class="paragraph">
<p>Note that the latter overrides the former.</p>
</div>
<div id="sthref930" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDEICBJJ">Example 5-36</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CDEICBJJ"></a><a id="TLJPA902"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-36 Using flush-clear.cache in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.flush-clear.cache" value="Drop"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CDEJIDHJ">Example 5-37</a> shows how to use this extension in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CDEJIDHJ"></a><a id="TLJPA903"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-37 Using flush-clear.cache in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.ecliplse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.FLUSH_CLEAR_CACHE,
FlushClearCache.Drop);</code></pre>
</div>
</div>
<div id="sthref931" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CHDBBIHE">"@Cache"</a></p>
</li>
<li>
<p>"Cache Coordination" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Scaling EclipseLink Applications in Clusters" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
<li>
<p>Cache Coordination Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/CacheCoordination" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/CacheCoordination</a></code></p>
</li>
<li>
<p>"Clustering and Cache Coordination"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Coordination" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Coordination</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="idvalidation"></a><a id="TLJPA1087"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="id-validation"><a class="anchor" href="#id-validation"></a>id-validation</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.id-validation</code> property to define which primary key
components values are considered invalid.</p>
</div>
<div id="sthref932" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACJGDDD">Table 5-41</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1088"></a><a id="sthref933"></a><a id="CACJGDDD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-41 Valid Values for id-validation</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Negative</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Null</code>, <code>0</code> and negative values are invalid for IDs
extending <code>Number</code> and primitive <code>int</code> and <code>long</code> IDs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>None</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EclipseLink performs no ID validation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Null</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Null</code> is invalid All other values are valid.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Zero</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Null</code>, <code>0</code> and negative values are invalid for primitive <code>int</code>
and <code>long</code> IDs.</p></td>
</tr>
</tbody>
</table>
<div id="sthref934" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Identity and sequencing (with <code>shouldAlwaysOverrideExistingValue</code>
configured as <code>true</code>) will override any existing ID value.</p>
</div>
<div id="sthref935" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIIGAJ">Example 5-38</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDIIGAJ"></a><a id="TLJPA904"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-38 Using id-validation in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.id-validation" value="NULL"/&gt;</code></pre>
</div>
</div>
<div id="sthref936" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Persisting Objects" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p><a href="#BGEBBFJE">"@PrimaryKey"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcallownativesqlqueries"></a><a id="TLJPA1089"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-allow-native-sql-queries"><a class="anchor" href="#jdbc-allow-native-sql-queries"></a>jdbc.allow-native-sql-queries</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.allow-native-sql-queries</code> property to specify
if user-defined (that is, native) SQL is allowed within a persistence
unit.</p>
</div>
<div id="sthref937" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHCHAAF">Table 5-42</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1090"></a><a id="sthref938"></a><a id="CIHCHAAF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-42 Valid Values for jdbc.allow-native-sql-queries</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) EclipseLink allows native SQL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EclipseLink does not allow native SQL.</p></td>
</tr>
</tbody>
</table>
<div id="sthref939" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Within a multitenant, use this option to minimize the potential impact
of revealing multitenant information. By default, any persistence unit
with a multitenant entity causes EclipseLink to set
<code>eclipselink.jdbc.allow-native-sql-queries</code> as <code>false</code>.</p>
</div>
<div id="sthref940" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDFFJJE">Example 5-39</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDFFJJE"></a><a id="TLJPA905"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-39 Using jdbc.allow-native-sql-queries in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.allow-native-sql-queries" value="false" /&gt;</code></pre>
</div>
</div>
<div id="sthref941" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Querying" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcbatchwriting"></a><a id="TLJPA906"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-batch-writing"><a class="anchor" href="#jdbc-batch-writing"></a>jdbc.batch-writing</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.batch-writing</code> property to configure batch
writing to optimize transactions with multiple write functions.</p>
</div>
<div id="sthref942" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHFJDIB">Table 5-43</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA907"></a><a id="sthref943"></a><a id="CIHFJDIB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-43 Valid Values for jdbc.batch-writing</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jdbc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use JDBC batch writing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>buffered</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not use JDBC batch writing or the platform&#8217;s native
batch writing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>oracle-jdbc</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use the Oracle platform&#8217;s native batch writing. In a property map, use
<code>OracleJDBC</code>.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: This requires an Oracle JDBC driver.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>custom-class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A custom class that extends the <code>BatchWritingMechanism</code>
class.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>none</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not use batch writing (that is, turn it off).</p></td>
</tr>
</tbody>
</table>
<div id="sthref944" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Batch writing allows multiple heterogeneous dynamic SQL statements to be
sent to the database as a single execution, or multiple homogeneous
parameterized SQL statements to be executed as a single batch execution.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Not all JDBC drivers or databases support batch writing.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Use <code>eclipselink.jdbc.batch-writing.size</code> to specify the batch size.</p>
</div>
<div id="sthref945" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJDFBE">Example 5-40</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDJDFBE"></a><a id="TLJPA908"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-40 Using jdbc.batch-writing in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.batch-writing" value="Oracle-JDBC"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHJHJH">Example 5-41</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDHJHJH"></a><a id="TLJPA909"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-41 Using jdbc.batch-writing in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.BATCH_WRITING,
BatchWriting.OracleJDBC);</code></pre>
</div>
</div>
<div id="sthref946" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbcbatchwritingsize">"jdbc.batch-writing.size"</a></p>
</li>
<li>
<p>"Batch Writing" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcbatchwritingsize"></a><a id="TLJPA910"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-batch-writing-size"><a class="anchor" href="#jdbc-batch-writing-size"></a>jdbc.batch-writing.size</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.batch-writing.size</code> property to configure the
batch size used for batch writing.</p>
</div>
<div id="sthref947" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHCGJDJ">Table 5-44</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA911"></a><a id="sthref948"></a><a id="CIHCGJDJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-44 Valid Values for jdbc.batch-writing.size</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">batch size</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For <strong>parameterized</strong> batch writing, this value is the number of
statements to batch (default: <code>100</code>).</p>
</div>
<div class="paragraph">
<p>For <strong>dynamic</strong> batch writing, this value is the size of the batched SQL
buffer (default: <code>32k</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref949" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGEAHF">Example 5-42</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDGEAHF"></a><a id="TLJPA912"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-42 Using jdbc.batch-writing.size in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.batch-writing.size" value="1000"/&gt;</code></pre>
</div>
</div>
<div id="sthref950" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbcbatchwriting">"jdbc.batch-writing"</a></p>
</li>
<li>
<p>"Batch Writing" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbccachestatements"></a><a id="TLJPA913"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-cache-statements"><a class="anchor" href="#jdbc-cache-statements"></a>jdbc.cache-statements</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.cache-statements</code> property to specify if JDBC
statements should be cached.</p>
</div>
<div id="sthref951" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJCHGH">Table 5-45</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA914"></a><a id="sthref952"></a><a id="CHDJCHGH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-45 Valid Values for jdbc.cache-statements</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable internal statement caching.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Disable internal statement caching.</p></td>
</tr>
</tbody>
</table>
<div id="sthref953" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You should use this property when using EclipseLink&#8217;s internal
connection pooling. See <a href="#connectionpool">"connection-pool"</a> for more
information.</p>
</div>
<div id="sthref954" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDFFCAE">Example 5-43</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDFFCAE"></a><a id="TLJPA915"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-43 Using jdbc.cache-statements in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.cache-statements" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDGGFFJ">Example 5-44</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDGGFFJ"></a><a id="TLJPA916"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-44 Using jdbc.cache-statements in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.CACHE_STATEMENTS, "false");</code></pre>
</div>
</div>
<div id="sthref955" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbccachestatementssize">"jdbc.cache-statements.size"</a></p>
</li>
<li>
<p><a href="#connectionpool">"connection-pool"</a></p>
</li>
<li>
<p>"Batch Writing" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbccachestatementssize"></a><a id="TLJPA917"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-cache-statements-size"><a class="anchor" href="#jdbc-cache-statements-size"></a>jdbc.cache-statements.size</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.cache-statements.size</code> property to specify the
number of statements held when using internal statement caching.</p>
</div>
<div id="sthref956" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACHIFGG">Table 5-46</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA918"></a><a id="sthref957"></a><a id="CACHIFGG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-46 Valid Values for jdbc.cache-statements.size</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">size</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A string value containing a positive integer or zero (Default: <code>50</code>).</p>
</div>
<div class="paragraph">
<p>The maximum value may vary, depending on your JDBC driver.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref958" class="ulist">
<ul>
<li>
<p>+
Examples*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#CHDCJAAA">Example 5-45</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDCJAAA"></a><a id="TLJPA919"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-45 Using jdbc.cache-statements.size in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.cache-statements.size" value="100"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHCJGF">Example 5-46</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDHCJGF"></a><a id="TLJPA920"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-46 Using jdbc.cache-statements.size in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.CACHE_STATEMENTS_SIZE, "100");</code></pre>
</div>
</div>
<div id="sthref959" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbccachestatements">"jdbc.cache-statements"</a></p>
</li>
<li>
<p>"Batch Writing" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcconnector"></a><a id="TLJPA921"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-connector"><a class="anchor" href="#jdbc-connector"></a>jdbc.connector</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.connector</code> property to define a custom
connector to connect to the database.</p>
</div>
<div id="sthref960" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CFAEDDCC">Table 5-47</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA922"></a><a id="sthref961"></a><a id="CFAEDDCC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-47 Valid Values for jdbc.connector</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A class that implements the <code>Connector</code>
interface.</p></td>
</tr>
</tbody>
</table>
<div id="sthref962" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use this property to connect to a non-standard connection pool,
or provide customized details on how to obtain a connection.</p>
</div>
<div class="paragraph">
<p>This property is not required when using a <code>DataSource</code> or JDBC
<code>DriverManager</code>.</p>
</div>
<div id="sthref963" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDEEFA">Example 5-47</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDDEEFA"></a><a id="TLJPA923"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-47 Using jdbc.connector in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.connector" value="package.MyConnector"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="jdbcexclusiveconnectionislazy"></a><a id="TLJPA925"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-exclusive-connection-is-lazy"><a class="anchor" href="#jdbc-exclusive-connection-is-lazy"></a>jdbc.exclusive-connection.is-lazy</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.exclusive-connection.is-lazy</code> property to
specify if EclipseLink acquires write connections lazily.</p>
</div>
<div id="sthref964" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEEGCH">Table 5-48</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA926"></a><a id="sthref965"></a><a id="CHDEEGCH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-48 Valid Values for jdbc.exclusive-connection.is-lazy</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Acquire write connections lazily.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not acquire write connections lazily.</p></td>
</tr>
</tbody>
</table>
<div id="sthref966" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDIIHC">Example 5-48</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDDIIHC"></a><a id="TLJPA927"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-48 Using jdbc.exclusive-connection.is-lazy in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.exclusive-connection.is-lazy" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDEDDBE">Example 5-49</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDEDDBE"></a><a id="TLJPA928"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-49 Using jdbc.exclusive-connection.is-lazy in a Property
Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.EXCLUSIVE_CONNECTION_IS_LAZY,
"false");</code></pre>
</div>
</div>
<div id="sthref967" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Auditing`http://wiki.eclipse.org/EclipseLink/Examples/JPA/Auditing`</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcexclusiveconnectionmode"></a><a id="TLJPA929"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-exclusive-connection-mode"><a class="anchor" href="#jdbc-exclusive-connection-mode"></a>jdbc.exclusive-connection.mode</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.exclusive-connection.mode</code> property to specify
when EclipseLink performs reads through the write connection.</p>
</div>
<div id="sthref968" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJCHGH3">Table 5-49</a> describes this persistence property&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA930"></a><a id="sthref969"></a><a id="CHDJCHGH3"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-49 Valid Values for jdbc.exclusive-connection.mode</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Transactional</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Default) Create an isolated client session if some or all entities
require isolated cache, otherwise create a client session.</p>
</div>
<div class="paragraph">
<p><strong>Notes</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>EclipseLink keeps the connection exclusive for the duration of the
transaction.</p>
</li>
<li>
<p><em>Inside</em> the transaction, EclipseLink performs all writes and reads
through the exclusive connection.</p>
</li>
<li>
<p><em>Outside</em> the EclipseLink transaction, a new connection is acquired
from the connection pool for each read and released back immediately
after the query is executed.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Isolated</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Create an exclusive isolated client session if reading an isolated
entity, otherwise raise an error.</p>
</div>
<div class="paragraph">
<p><strong>Notes</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>EclipseLink keeps the connection exclusive for the lifetime of the
owning <code>EntityManager</code>.</p>
</li>
<li>
<p><em>Inside</em> the transaction, EclipseLink performs all writes and reads
through the exclusive connection.</p>
</li>
<li>
<p><em>Outside</em> the EclipseLink transaction, only isolated entities are read
through the exclusive connection. For non-isolated entities, EclipseLink
acquires a new connection from the connection pool for each read and
immediately releases the connection after executing the query.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Always</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Create an exclusive isolated client session if reading an isolated
entity, otherwise create an exclusive client session.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: EclipseLink keeps the connection exclusive for the lifetime of
the owning <code>EntityManager</code> and performs all writes and reads through the
exclusive connection.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref970" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can set this property while creating either an
<code>EntityManagerFactory</code> (either in the map passed to the
<code>createEntityManagerFactory</code> method, or in the <code>persistence.xml</code> file),
or an <code>EntityManager</code> (in the map passed to the <code>createEntityManager</code>
method). Note that the latter overrides the former.</p>
</div>
<div id="sthref971" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBEHHE">Example 5-50</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDBEHHE"></a><a id="TLJPA931"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-50 Using jdbc.exclusive-connection.mode in persitence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">property name="eclipselink.jdbc.exclusive-connection.mode" value="Always"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDEJGJB">Example 5-51</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDEJGJB"></a><a id="TLJPA932"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-51 Using jdbc.exclusive-connection.mode in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.EXCLUSIVE_CONNECTION_MODE, "Always");</code></pre>
</div>
</div>
<div id="sthref972" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbcexclusiveconnectionislazy">"jdbc.exclusive-connection.is-lazy"</a></p>
</li>
<li>
<p>"Isolated Client Sessions" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Connections" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CIHEACBE"></a><a id="TLJPA933"></a></p>
</div>
<hr>
<div class="paragraph">
<p><a id="jdbcnamingintoindexed"></a><a id="TLJPA939"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-naming_into_indexed"><a class="anchor" href="#jdbc-naming_into_indexed"></a>jdbc.naming_into_indexed</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.naming_into_indexed</code> property defines if
stored procedure parameters passed by name should be transformed into
positional/index based passing if property value will be <code>true</code>.</p>
</div>
<div class="paragraph">
<p>For stored procedure:</p>
</div>
<div class="paragraph">
<p><code>CREATE PROCEDURE test_stored_proc1( IN param1 TEXT, IN param2 INTEGER )</code></p>
</div>
<div class="paragraph">
<p>following Java call</p>
</div>
<div class="paragraph">
<p><code>query.registerStoredProcedureParameter( "param1",Integer.class,ParameterMode.IN );</code></p>
</div>
<div class="paragraph">
<p><code>query.registerStoredProcedureParameter( "param2",String.class,ParameterMode.IN );</code></p>
</div>
<div class="paragraph">
<p>will be transformed into following e.g.</p>
</div>
<div class="paragraph">
<p><code>{call test_stored_proc1(10, 'abcd')}</code></p>
</div>
<div class="paragraph">
<p>instead of default</p>
</div>
<div class="paragraph">
<p><code>{call test_stored_proc1(param1 &#8658; 10, param2 &#8658; 'abcd')}</code></p>
</div>
<div class="paragraph">
<p>It&#8217;s important to register parameters in Java in a same order as they
specified in the stored procedure.</p>
</div>
<div class="paragraph">
<p>This code was added there to ensure backward compatibility with older
EclipseLink releases.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Normally, <code>naming_into_indexed</code> is not required. It&#8217;s usually required
when JDBC driver doesn&#8217;t support parameters passed to stored proceures
by name.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHFHHGF">Table 5-51</a> describes this persistence property&#8217;s values.</p>
</div>
<div id="CIHFHHGF" class="paragraph">
<p><strong><em>Table 5-51 Valid Values for jdbc.naming_into_indexed</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transform named parameters into positional/index based.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not transform.</p></td>
</tr>
</tbody>
</table>
<div id="sthref983" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJHBDG">Example 5-55</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDJHBDG"></a><a id="TLJPA54144"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-55 Using jdbc.naming_into_indexed in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jpa.naming_into_indexed" value="true"/&gt;</code></pre>
</div>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-native-sql"><a class="anchor" href="#jdbc-native-sql"></a>jdbc.native-sql</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.native-sql</code> property to specify if EclipseLink
uses generic SLQ or includes platform-specific (that is, "native") SQL
statements.</p>
</div>
<div id="sthref973" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHDBHDD">Table 5-50</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA934"></a><a id="sthref974"></a><a id="CIHDBHDD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-50 Valid Values for jdbc.native-sql</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Use platform-specific ("native" ) SQL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use generic SQL.</p></td>
</tr>
</tbody>
</table>
<div id="sthref975" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>When using platform-specific SQL (<code>eclipselink.jdbc.native-sql</code> =
<code>true</code>), EclipseLink uses platform-specific SQL to customize join
syntax, date operators, using sequencing, and so on.</p>
</div>
<div id="sthref976" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDABBB">Example 5-52</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDDABBB"></a><a id="TLJPA935"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-52 Using jdbc.native-sql in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.native-sql" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDIJBIE">Example 5-53</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDIJBIE"></a><a id="TLJPA936"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-53 Using jdbc.native-sql in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.NATIVE_SQL, "false");</code></pre>
</div>
</div>
<div id="sthref977" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Querying" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Query Languages" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcproperty"></a><a id="TLJPA937"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-property"><a class="anchor" href="#jdbc-property"></a>jdbc.property</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.property</code> prefix to pass JDBC driver-specific
connection properties to EclipseLink.</p>
</div>
<div id="sthref978" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Append the JDBC driver-specific property name to this property prefix.</p>
</div>
<div id="sthref979" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHGEBH">Example 5-54</a> shows how to use this property prefix in
the <code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDHGEBH"></a><a id="TLJPA938"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-54 Using jdbc.property in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.property.defaultRowPrefetch" value="25"/&gt;</code></pre>
</div>
</div>
<div id="sthref980" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Using EclipseLink with the Oracle Database" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
<li>
<p>"Introduction to Data Access" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jdbcsqlcast"></a><a id="TLJPA939"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-sql-cast"><a class="anchor" href="#jdbc-sql-cast"></a>jdbc.sql-cast</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.sql-cast</code> property to specify if EclipseLink
uses platform-specific (that is, "native") <code>CAST</code> SQL operations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Normally, casting is not required. Using it may cause issues.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHFHHGF1">Table 5-51</a> describes this persistence property&#8217;s values.</p>
</div>
<div id="CIHFHHGF1" class="paragraph">
<p><strong><em>Table 5-51 Valid Values for jdbc.sql-cast</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use platform-specific <code>CAST</code> operations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not use platform-specific <code>CAST</code> operations.</p></td>
</tr>
</tbody>
</table>
<div id="sthref9831" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJHBDG1">Example 5-55</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDJHBDG1"></a><a id="TLJPA54144"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-55 Using jdbc.sql-cast in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jdbc.sql-cast" value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="jdbcuppercasecolumns"></a><a id="TLJPA941"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jdbc-uppercase-columns"><a class="anchor" href="#jdbc-uppercase-columns"></a>jdbc.uppercase-columns</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jdbc.uppercase-columns</code> property to force column
names from the metadata to be uppercase.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This parameter has been replaced by <code>jpql.parser</code>, which ensures that
both sides use uppercase for comparisons.
</td>
</tr>
</table>
</div>
<div id="sthref984" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHGHIGC">Table 5-52</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA942"></a><a id="sthref985"></a><a id="CIHGHIGC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-52 Valid Values for jdbc.uppercase-columns</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forces all column names from the metadata to uppercase.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Does not force column names from the metadata to
uppercase.</p></td>
</tr>
</tbody>
</table>
<div id="sthref986" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>When using native SQL queries, the JDBC metadata may return column names
in lower case on some platforms. If the column names are uppercase in
the mappings (default), they will not match. You should use this
parameter to force all column names from the metadata to uppercase.</p>
</div>
<div id="sthref987" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBHAGA">Example 5-56</a> shows how to use this parameter in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDBHAGA"></a><a id="TLJPA54154"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-56 Using jdbc.uppercase-column-names in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jpa.uppercase-columns" value="true"/&gt;</code></pre>
</div>
</div>
<div id="sthref988" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jpqlparser">"jpql.parser"</a></p>
</li>
<li>
<p>"Using EclipseLink with the Oracle Database" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
<li>
<p>"Introduction to Data Access" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jpqlparser"></a><a id="TLJPA1093"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jpql-parser"><a class="anchor" href="#jpql-parser"></a>jpql.parser</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jpql.parser</code> property to configure the JPQL parser
parameters.</p>
</div>
<div id="sthref989" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDCFEJ">Table 5-53</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1094"></a><a id="sthref990"></a><a id="CHDDCFEJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-53 Valid Values for jpql.parser</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.eclipse.persistence.internal.jpa.jpql.HermesParser</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default)
Current parser, starting with EclipseLink 2.4, that provides extended
JPQL support.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.eclipse.persistence.queries.ANTLRQueryBuilder</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Old parser, used
for backward compatibility (prior to EclipseLink 2.4).</p></td>
</tr>
</tbody>
</table>
<div id="sthref991" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jpqlvalidation">"jpql.validation"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jpauppercasecolumnnames"></a><a id="TLJPA1091"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jpa-uppercase-column-names"><a class="anchor" href="#jpa-uppercase-column-names"></a>jpa.uppercase-column-names</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jpa.uppercase-column-names</code> property to specify JPA
processing to uppercase all column name definitions (simulating case
insensitivity).</p>
</div>
<div id="sthref992" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEEHBA">Table 5-54</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1092"></a><a id="sthref993"></a><a id="CHDEEHBA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-54 Valid Values for jpa.uppercase-column-names</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JDBC metadata returned from the database is returned in
uppercase, ensuring fields are the same case. Sets
<code>jdbc.uppercase-columns</code> to <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Does not return JDBC metadata in uppercase.</p></td>
</tr>
</tbody>
</table>
<div id="sthref994" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property to correct situations in which user-defined fields do
not match the case returned by the database for native queries.</p>
</div>
<div id="sthref995" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJJCBB">Example 5-57</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDJJCBB"></a><a id="TLJPA54145"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-57 Using jpa.uppercase-column-names in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jpa.uppercase-column-names" value="true"/&gt;</code></pre>
</div>
</div>
<div id="sthref996" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbcuppercasecolumns">"jdbc.uppercase-columns"</a></p>
</li>
<li>
<p>"Using EclipseLink with the Oracle Database" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
<li>
<p>"Introduction to Data Access" in <em>Understanding EclipseLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="jpqlvalidation"></a><a id="TLJPA1095"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="jpql-validation"><a class="anchor" href="#jpql-validation"></a>jpql.validation</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.jpql.parser</code> property to configure the JPQL parser
validation level.</p>
</div>
<div id="sthref997" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BCFGAFDA3">Table 5-55</a> describes this persistence property&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1096"></a><a id="sthref998"></a><a id="BCFGAFDA3"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-55 Valid Values for jpql.validation</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EclipseLink</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Allows EclipseLink JPAL extensions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JPA 1.0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows valid JPA 1.0 JPQL only.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JPA 2.0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows valid JPA 2.0 JPQL only.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JPA 2.1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows valid JPA 2.1 JPQL only.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>None</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No JPQL validation.</p></td>
</tr>
</tbody>
</table>
<div id="sthref999" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This parameter applies only when <code>eclipselink.jpql.parser</code> is
<code>HermesParser</code>.</p>
</div>
<div id="sthref1000" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDCHGGF">Example 5-58</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDCHGGF"></a><a id="TLJPA54146"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-58 Using jpql.validation in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.jpql.validation" value="JPA 1.0"/&gt;</code></pre>
</div>
</div>
<div id="sthref1001" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jpqlparser">"jpql.parser"</a></p>
</li>
<li>
<p><a href="#TLJPA54065">"Java Persistence Query Language Extensions"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="loggingconnection"></a><a id="TLJPA1097"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="logging-connection"><a class="anchor" href="#logging-connection"></a>logging.connection</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.logging.connection</code> property to specify if
connections are logged.</p>
</div>
<div id="sthref1002" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHCIED">Table 5-56</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1098"></a><a id="sthref1003"></a><a id="CHDHCIED"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-56 Valid Values for logging.connection</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Logs the connection name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not log the connection name.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1004" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Using this parameter means that all connections are logged and not
masked by the application code.</p>
</div>
<div id="sthref1005" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDDFJE">Example 5-59</a> shows how to use this parameter in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDDDFJE"></a><a id="TLJPA54163"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-59 Using logging.connection in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.logging.connection" value="false"/&gt;</code></pre>
</div>
</div>
<div id="sthref1006" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Logging Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a></code></p>
</li>
<li>
<p>"Configuring WebLogic Server to Expose EclipseLink Logging" in
<em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p><a href="#logginglevel">"logging.level"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="loggingexceptions"></a><a id="TLJPA943"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="logging-exceptions"><a class="anchor" href="#logging-exceptions"></a>logging.exceptions</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.logging.exceptions</code> property to specify if
exceptions are logged when they are thrown, before returning the
exception to the calling application.</p>
</div>
<div id="sthref1007" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEIDDGBA">Table 5-57</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA944"></a><a id="sthref1008"></a><a id="BEIDDGBA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-57 Valid Values for logging.exceptions</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Logs exceptions when they are thrown.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not log exceptions when they are thrown.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1009" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Using this property ensures that all exceptions are logged and not
masked by the application code.</p>
</div>
<div id="sthref1010" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCGBJA">Example 5-60</a> shows how to use this property in the
<code>peristence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABCGBJA"></a><a id="TLJPA945"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-60 Using logging.exceptions in persistence.xml file</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.logging.exceptions" value="false" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABFGBDI">Example 5-61</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="BABFGBDI"></a><a id="TLJPA946"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-61 Using logging.exceptions in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.LOGGING_EXCEPTIONS, "false");</code></pre>
</div>
</div>
<div id="sthref1011" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Logging Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a></code></p>
</li>
<li>
<p>"Configuring WebLogic Server to Expose EclipseLink Logging" in
<em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p><a href="#logginglevel">"logging.level"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="loggingfile"></a><a id="TLJPA947"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="logging-file"><a class="anchor" href="#logging-file"></a>logging.file</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.logging.file</code> property to specify a file location
in which to output the log instead of the standard out.</p>
</div>
<div id="sthref1012" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEIIAJDG">Table 5-58</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA948"></a><a id="sthref1013"></a><a id="BEIIAJDG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-58 Valid Values for logging.file</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">directory name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A string location to a directory in which you have
write access. The location may be relative to your current working
directory or an absolute location.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1014" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This property applies when used in a Java SE environment.</p>
</div>
<div id="sthref1015" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACEFJBC">Example 5-62</a> shows how to use this property in the
<code>peristence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CACEFJBC"></a><a id="TLJPA949"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-62 Using logging.file in persistence.xml file</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.logging.file" value="C:\myout\" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CACJCGAG">Example 5-63</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CACJCGAG"></a><a id="TLJPA950"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-63 Using logging.file in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.LOGGING_FILE, "C:\myout\");</code></pre>
</div>
</div>
<div id="sthref1016" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Logging Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a></code></p>
</li>
<li>
<p>"Configuring WebLogic Server to Expose EclipseLink Logging" in
<em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="logginglevel"></a><a id="TLJPA951"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="logging-level"><a class="anchor" href="#logging-level"></a>logging.level</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.logging.level</code> property to specify a specific
logging level and control the amount and detail that is emitted.</p>
</div>
<div id="sthref1017" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEIHAIBC">Table 5-59</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA952"></a><a id="sthref1018"></a><a id="BEIHAIBC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-59 Valid Values for logging.level</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OFF</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Disables logging.</p>
</div>
<div class="paragraph">
<p>You may want to use <code>OFF</code> during production in order to avoid the
overhead of logging.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SEVERE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs exceptions indicating that EclipseLink cannot continue,
as well as any exceptions generated during login. This includes a stack
trace.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WARNING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs exceptions that <em>do not</em> force EclipseLink to stop,
including all exceptions not logged with <code>SEVERE</code> level. This does not
include a stack trace.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INFO</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Logs the login/logout per sever session, including
the user name. After acquiring the session, detailed information is
logged.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CONFIG</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs only login, JDBC connection, and database information.
You may want to use this log level at deployment time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FINE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs all SQL. You may want to use this log level during
debugging and testing, but not at production time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FINER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Similar to <code>WARNING</code>, but includes stack trace. You may want
to use this log level during debugging and testing, but not at
production time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FINEST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Similar to <code>FINER</code>, but includes additional low level
information. You may want to use this log level during debugging and
testing, but not at production time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logs at the same level as <code>FINEST</code>.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1019" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEIEEBEJ">Example 5-64</a> shows how to use this property in the
<code>peristence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BEIEEBEJ"></a><a id="TLJPA953"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-64 Using logging.level in persistence.xml file</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.logging.level" value="OFF" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BEIGJJIH">Example 5-65</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="BEIGJJIH"></a><a id="TLJPA954"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-65 Using logging.level in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import java.util.logging.Level;
import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.LOGGING_LEVEL, Level.OFF);</code></pre>
</div>
</div>
<div id="sthref1020" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Configuring WebLogic Server to Expose EclipseLink Logging" in
<em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>Logging Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a></code></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="sthref1021"><a class="anchor" href="#sthref1021"></a>logging.logger</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.logging.logger</code> property to define the type of
logger to use.</p>
</div>
<div id="sthref1022" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGABAJ">Table 5-60</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA956"></a><a id="sthref1023"></a><a id="BABGABAJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-60 Valid Values for logging.logger</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom logger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name of a custom logger which
implements <code>org.eclipse.persistence.logging.SessionLog</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>JavaLogger</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses <code>java.util.logging</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ServerLogger</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integrates with the application server&#8217;s logging.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DefaultLogger</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Uses EclipseLink&#8217;s native logger,
<code>DefaultSessionLog</code>.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1024" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGEGJH">Example 5-66</a> shows how to use this parameter in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDGEGJH"></a><a id="TLJPA957"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-66 Using logging.logger in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.logging.logger" value="JavaLogger"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDEFICF">Example 5-67</a> shows how to use this parameter in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDEFICF"></a><a id="TLJPA958"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-67 Using logging.logger in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.LOGGING_LOGGER,
"acme.loggers.MyCustomLogger";</code></pre>
</div>
</div>
<div id="sthref1025" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Logging examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a></code></p>
</li>
<li>
<p>Custom logger
<a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/CustomLogger" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/CustomLogger</a></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="sthref1026"><a class="anchor" href="#sthref1026"></a>logging.parameters</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.logging.parameters</code> property to define if SQL bind
parameters are included in exceptions and logs.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This parameter applies to bind parameters only. Parameters are always
displayed when not using binding.
</td>
</tr>
</table>
</div>
<div id="sthref1027" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABEIHHD">Table 5-61</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA960"></a><a id="sthref1028"></a><a id="BABEIHHD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-61 Valid Values for logging.parameters</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Display the parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not display the parameters.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1029" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default, when using <code>logging.level</code> of <code>FINE</code> (or greater), SQL bind
parameters are displayed. Use this parameter to override the default
behavior.</p>
</div>
<div id="sthref1030" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDCHGGF">Example 5-58</a> shows how to use this parameter in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDDGCCE"></a><a id="TLJPA961"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-68 Using logging.parameters in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;paramter name="eclipselink.logging.parameters" value="false"/&gt;</code></pre>
</div>
</div>
<div id="sthref1031" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#logginglevel">"logging.level"</a></p>
</li>
<li>
<p>"Configuring WebLogic Server to Expose EclipseLink Logging" in
<em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>Logging Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="loggingsession"></a><a id="TLJPA963"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="logging-session"><a class="anchor" href="#logging-session"></a>logging.session</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.logging.session</code> property to specify if EclipseLink
should include a session identifier in each log message.</p>
</div>
<div id="sthref1032" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJCDEJ">Table 5-62</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA964"></a><a id="sthref1033"></a><a id="CHDJCDEJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-62 Valid Values for logging.session</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Log a session identifier.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not log a session identifier.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1034" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This setting is applicable to messages that require a database
connection such as SQL and the transaction information to determine on
which underlying session (if any) the message was sent.</p>
</div>
<div id="sthref1035" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDCEJIG">Example 5-69</a> shows how to use this property in the
<code>peristence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDCEJIG"></a><a id="TLJPA965"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-69 Using logging.session in persistence.xml file</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.logging.session" value="false" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDCEEBI">Example 5-70</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDCEEBI"></a><a id="TLJPA966"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-70 Using logging.session in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.LOGGING_SESSION, "false");</code></pre>
</div>
</div>
<div id="sthref1036" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Configuring WebLogic Server to Expose EclipseLink Logging" in
<em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>Logging Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a></code></p>
</li>
<li>
<p><a href="#logginglevel">"logging.level"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="loggingthread"></a><a id="TLJPA967"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="logging-thread"><a class="anchor" href="#logging-thread"></a>logging.thread</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.logging.thread</code> property to specify if EclipseLink
should include a thread identifier in each log message.</p>
</div>
<div id="sthref1037" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDFJJJGC">Table 5-63</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA968"></a><a id="sthref1038"></a><a id="CDFJJJGC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-63 Valid Values for logging.thread</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Log a thread identifier.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not log a thread identifier.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1039" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You should use this property when running multi-threaded applications.
EclipseLink will include a hashcode of the thread.</p>
</div>
<div id="sthref1040" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDFIAHBA">Example 5-71</a> shows how to use this property in the
<code>peristence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CDFIAHBA"></a><a id="TLJPA969"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-71 Using logging.thread in persistence.xml file</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.logging.thread" value="false" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CDFEHDHJ">Example 5-72</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CDFEHDHJ"></a><a id="TLJPA970"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-72 Using logging.thread in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.LOGGING_THREAD, "false");</code></pre>
</div>
</div>
<div id="sthref1041" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#logginglevel">"logging.level"</a></p>
</li>
<li>
<p>Logging Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a></code></p>
</li>
<li>
<p>"Configuring WebLogic Server to Expose EclipseLink Logging" in
<em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="loggingtimestamp"></a><a id="TLJPA971"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="logging-timestamp"><a class="anchor" href="#logging-timestamp"></a>logging.timestamp</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.logging.timestamp</code> property to specify if
EclipseLink should include a timestamp in each log message.</p>
</div>
<div id="sthref1042" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEIHEEHF">Table 5-64</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA972"></a><a id="sthref1043"></a><a id="BEIHEEHF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-64 Valid Values for logging.timestamp</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Log a timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not log a timestamp.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1044" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGHIAE">Example 5-73</a> shows how to use this property in the
<code>peristence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABGHIAE"></a><a id="TLJPA973"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-73 Using logging.timestamp in persistence.xml file</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.logging.timestamp" value="false" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABGHBDA">Example 5-74</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="BABGHBDA"></a><a id="TLJPA974"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-74 Using logging.timestamp in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.LOGGING_TIMESTAMP, "false");</code></pre>
</div>
</div>
<div id="sthref1045" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Configuring WebLogic Server to Expose EclipseLink Logging" in
<em>Solutions Guide for EclispeLink</em></p>
</li>
<li>
<p>Logging Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Logging</a></code></p>
</li>
<li>
<p><a href="#logginglevel">"logging.level"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="metadatasource"></a><a id="TLJPA1099"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="metadata-source"><a class="anchor" href="#metadata-source"></a>metadata-source</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.metadata-source</code> property to specify the
<code>MetadataSource</code> implementation EclipseLink uses to read metadata.</p>
</div>
<div id="sthref1046" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBJHIA">Table 5-65</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1100"></a><a id="sthref1047"></a><a id="CHDBJHIA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-65 Valid Values for metadata-source</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>XML</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use <code>XMLMetadataSource</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom metadata source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A custom class name which implements
<code>MetadataSource</code>.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1048" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property with <code>eclipselink.metadata-source.xml.file</code> to access
an external mapping file at a fixed URL for a persistence unit.</p>
</div>
<div id="sthref1049" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIJADD">Example 5-75</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDIJADD"></a><a id="TLJPA975"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-75 Using metadata-source in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.metadata-source" value="xml"/&gt;
&lt;property name="eclipselink.metadata-source.xml.file" value="c:/myfile.xml"/&gt;</code></pre>
</div>
</div>
<div id="sthref1050" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#metadatasourcesendrefreshcommand">"metadata-source.send-refresh-command"</a></p>
</li>
<li>
<p><a href="#metadatasourcexmlfile">"metadata-source.xml.file"</a></p>
</li>
<li>
<p><a href="#metadatasourcexmlurl">"metadata-source.xml.url"</a></p>
</li>
<li>
<p>Metadata Source Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/MetadataSource/" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/MetadataSource/</a></code></p>
</li>
<li>
<p>"Extensible Entities"
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Extensible_Entities" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Extensible_Entities</a></code></p>
</li>
<li>
<p>"Using an External Metadata Source" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="metadatasourcepropertiesfile"></a><a id="TLJPA1101"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="metadata-source-properties-file"><a class="anchor" href="#metadata-source-properties-file"></a>metadata-source.properties.file</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.metadata-source.properties.file</code> property to
specify the name of the metadata repository properties file to read
from, using the classloader to find the resource.</p>
</div>
<div id="sthref1051" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDAHCI2">Table 5-66</a> describes this persistence property&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1102"></a><a id="sthref1052"></a><a id="CHDDAHCI2"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-66 Valid Values for metadata-repository.properties.file</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filename</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the metadata source XML file.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1053" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property with <code>eclipselink.metadata-source</code> when using an XML
repository.</p>
</div>
<div id="sthref1054" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDJECG">Example 5-76</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDDJECG"></a><a id="TLJPA54164"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-76 Using metadata-source.properties.file in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.metadata-source.properties.file"
value="c:\myproperties.xml"/&gt;</code></pre>
</div>
</div>
<div id="sthref1055" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#metadatasource">"metadata-source"</a></p>
</li>
<li>
<p>Metadata Source Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/MetadataSource/" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/MetadataSource/</a></code></p>
</li>
<li>
<p>"Using an External Metadata Source" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="metadatasourcesendrefreshcommand"></a><a id="TLJPA976"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="metadata-source-send-refresh-command"><a class="anchor" href="#metadata-source-send-refresh-command"></a>metadata-source.send-refresh-command</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.metadata-source.send-refresh-command</code> property with
cache coordination for a clustered environment to control how
EclipseLink sends RCM refresh metadata commands to the cluster.</p>
</div>
<div id="sthref1056" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEHIJD">Table 5-67</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA977"></a><a id="sthref1057"></a><a id="CHDEHIJD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-67 Valid Values for metadata-source.send-refresh-command</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) To propogate refresh commands to the cluster, you
must configure RCM and use the <code>eclipselink.deploy-on-startup</code> property.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not propagate refresh commands to the cluster.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1058" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>If cache coordination is configured and the session is deployed on
startup, this property controls the sending of RCM refresh metadata
commands to the cluster.</p>
</div>
<div class="paragraph">
<p>These commands will cause the remote instances to refresh their
metadata.</p>
</div>
<div id="sthref1059" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIACJI">Example 5-77</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDIACJI"></a><a id="TLJPA54165"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-77 Using metadata-source.send-refresh-command in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.metadata-source-refresh-command" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDGHCBE">Example 5-78</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDGHCBE"></a><a id="TLJPA54166"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-78 Using metadata-source-refresh-command in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.METADATA_SOURCE_RCM_COMMAND, "false");</code></pre>
</div>
</div>
<div id="sthref1060" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#metadatasource">"metadata-source"</a></p>
</li>
<li>
<p><a href="#deployonstartup">"deploy-on-startup"</a></p>
</li>
<li>
<p>Metadata Source Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/MetadataSource/" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/MetadataSource/</a></code></p>
</li>
<li>
<p>"Using an External Metadata Source" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="metadatasourcexmlfile"></a><a id="TLJPA1103"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="metadata-source-xml-file"><a class="anchor" href="#metadata-source-xml-file"></a>metadata-source.xml.file</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.metadata-repository.xml.file</code> property to specify
the name of the metadata repository XML file to read from, using the
classloader to find the resource.</p>
</div>
<div id="sthref1061" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIEJAA">Table 5-68</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1104"></a><a id="sthref1062"></a><a id="CHDIEJAA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-68 Valid Values for metadata-source.xml.file</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">filename</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata <code>repository.xml</code> file.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1063" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property with the <code>eclipselink.metadata-source</code> property when
using an XML repository.</p>
</div>
<div id="sthref1064" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJJCDD">Example 5-79</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDJJCDD"></a><a id="TLJPA54167"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-79 Using metadata-source.xml.file in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.metadata-source" value="xml"/&gt;
&lt;property name="eclipselink.metadata-source.xml.file" value="c:/myfile.xml"/&gt;</code></pre>
</div>
</div>
<div id="sthref1065" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#metadatasource">"metadata-source"</a></p>
</li>
<li>
<p>Metadata Source Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/MetadataSource/" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/MetadataSource/</a></code></p>
</li>
<li>
<p>"Using an External Metadata Source" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="metadatasourcexmlurl"></a><a id="TLJPA1105"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="metadata-source-xml-url"><a class="anchor" href="#metadata-source-xml-url"></a>metadata-source.xml.url</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.metadata-source.xml.url</code> property to specify the
location of an external mapping file.</p>
</div>
<div id="sthref1066" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEGJAI">Table 5-69</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1106"></a><a id="sthref1067"></a><a id="CHDEGJAI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-69 Valid Values for metadata-source.xml.url</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the metadata repository of the XML URL.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1068" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The <code>metadata-source</code> property must be set to XML.</p>
</div>
<div id="sthref1069" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIJADD">Example 5-75</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDJAHHH"></a><a id="TLJPA54168"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-80 Using metadata-source.xml.url in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.metadata-source" value="xml"/&gt;
&lt;property name="eclipselink.metadata-source.xml.url" value="http://myfile.xml"/&gt;</code></pre>
</div>
</div>
<div id="sthref1070" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#metadatasource">"metadata-source"</a></p>
</li>
<li>
<p>Metadata Source Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/MetadataSource/" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/MetadataSource/</a></code></p>
</li>
<li>
<p>"Using an External Metadata Source" in <em>Solutions Guide for
EclispeLink</em></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="multitenanttenantssharecache"><a class="anchor" href="#multitenanttenantssharecache"></a>multitenant.tenants-share-cache</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.multitenant.tenants-share-cache</code> property to
specify if multitenant entities will share the L2 cache.</p>
</div>
<div id="sthref1072" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAGIIID">Table 5-70</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA979"></a><a id="sthref1073"></a><a id="CBAGIIID"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-70 Valid Values for multitenant.tenants-share-cache</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multitenant entities will use an protected cache.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Multitenant entities will use an isolated cache.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1074" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<strong>When this setting is <code>false</code>, queries that use the cache may return
data from other tenants when using the <code>PROTECTED</code> setting.</strong>
</td>
</tr>
</table>
</div>
<div id="sthref1075" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDABAB">Example 5-81</a>shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDDABAB"></a><a id="TLJPA980"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-81 Using multitenant.tenants-share-cache in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.multitenant.tenants-share-cache" value="true" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDFHAJJ">Example 5-82</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDFHAJJ"></a><a id="TLJPA981"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-82 Using multitenant.tenants-share-cache in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.MULTITENANT_TENANTS_SHARE_CACHE,
"true");</code></pre>
</div>
</div>
<div id="sthref1076" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABIEJGD">"@Multitenant"</a></p>
</li>
<li>
<p>Multitenant examples:
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Multitenant" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Multitenant</a></code></p>
</li>
<li>
<p>"Using Multitenancy" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="sthref1077"><a class="anchor" href="#sthref1077"></a>multitenant.tenants-share-emf</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.multitenant.shared-emf</code> property to specify if
multitenant entities will be used within a shared entity manager
factory.</p>
</div>
<div id="sthref1078" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACBHJCF">Table 5-71</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA983"></a><a id="sthref1079"></a><a id="CACBHJCF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-71 Valid Values for multitenant.tenants-share-emf</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Multitenant entities will be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify a unique session name.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1080" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>When setting it to <code>false</code>, you are required to provide a unique session
name.</p>
</div>
<div id="sthref1081" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEGDAH">Example 5-83</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDEGDAH"></a><a id="TLJPA984"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-83 Using multitenant.tenants-share-emf in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink_multitenant_tenants_share_emf" value="true" /&gt;</code></pre>
</div>
</div>
<div id="sthref1082" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BABIEJGD">"@Multitenant"</a></p>
</li>
<li>
<p>Multitenant examples:
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Multitenant" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Multitenant</a></code></p>
</li>
<li>
<p>"Using Multitenancy" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="nosqlconnectionfactory"></a><a id="TLJPA986"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="nosql-connection-factory"><a class="anchor" href="#nosql-connection-factory"></a>nosql.connection-factory</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.nosql.connection-factory</code> property to specify the
JNDI name of a JCA <code>ConnectionFactory</code> or a JCA <code>ConnectionFactory</code>
class name that connects to the NoSQL data-source.</p>
</div>
<div id="sthref1083" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BGBCBBFD">Table 5-72</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA987"></a><a id="sthref1084"></a><a id="BGBCBBFD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-72 Valid Values for nosql.connection-factory</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connection factory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JNDI name or class name of the JCA Connection
Factory.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1085" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This property allows the JCA <code>ConnectionFactory</code> to be used with a NoSql
or EIS adapter for a NoSQL datasource (that is, a non-relationship
datasource such as a legacy database, NoSQL database, XML database,
transactional and messaging systems, or ERP systems).</p>
</div>
<div id="sthref1086" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJJDGE">Example 5-84</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDJJDGE"></a><a id="TLJPA988"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-84 Using nosql.connection-factory in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.nosql.connection-factory"
value="MyConnectionFactory" /&gt;</code></pre>
</div>
</div>
<div id="sthref1087" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BJEIEBHC">"@NoSql"</a></p>
</li>
<li>
<p><a href="#nosqlproperty">"nosql.property"</a></p>
</li>
<li>
<p>NoSQL Persistence Units
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL/Persistence_Units" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL/Persistence_Units</a></code></p>
</li>
<li>
<p>Examples <code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/NoSQL" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/NoSQL</a></code></p>
</li>
<li>
<p>"Using NoSQL Databases" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Using EclipseLink with Nonrelational Databases" in <em>Solutions Guide
for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="nosqlconnectionspec"></a><a id="TLJPA990"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="nosql-connection-spec"><a class="anchor" href="#nosql-connection-spec"></a>nosql.connection-spec</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.nosql.connection-spec</code> property to specify an
<code>EISConnectionSpec</code> class name that defines how to connect to the NoSQL
datasource.</p>
</div>
<div id="sthref1088" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CBAEAHAF">Table 5-73</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA991"></a><a id="sthref1089"></a><a id="CBAEAHAF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-73 Valid Values for nosql.connection-spec</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">classname</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IESConnectionSpec</code> classname</p></td>
</tr>
</tbody>
</table>
<div id="sthref1090" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This property allows the JCA ConnectionFactory to be used with a NoSql
or EIS adapter for a NoSQL datasource (that is, a non-relationship
datasource such as a legacy database, NoSQL database, XML database,
transactional and messaging systems, or ERP systems).</p>
</div>
<div id="sthref1091" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>See <a href="#BABHDHCG">Example 5-85</a> for information on how to use this
property.</p>
</div>
<div id="sthref1092" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BJEIEBHC">"@NoSql"</a></p>
</li>
<li>
<p><a href="#nosqlproperty">"nosql.property"</a></p>
</li>
<li>
<p>NoSQL Persistence Units
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL/Persistence_Units" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL/Persistence_Units</a></code></p>
</li>
<li>
<p>Examples <code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/NoSQL" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/NoSQL</a></code></p>
</li>
<li>
<p>"Using NoSQL Databases" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Using EclipseLink with Nonrelational Databases" in <em>Solutions Guide
for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="nosqlproperty"></a><a id="TLJPA1107"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="nosql-property"><a class="anchor" href="#nosql-property"></a>nosql.property</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.nosql.property</code> property to set NoSQL-specific
connection properties.</p>
</div>
<div id="sthref1093" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABDCBBE">Table 5-74</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1108"></a><a id="sthref1094"></a><a id="BABDCBBE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-74 Valid Values for nosql.property</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">property name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A NoSQL property.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1095" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Append the NoSQL-specific property name to this property.</p>
</div>
<div id="sthref1096" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHDHCG">Example 5-85</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABHDHCG"></a><a id="TLJPA992"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-85 Using nosql.property in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/persistence persistence_2_0.xsd"
version="2.0"&gt;
    &lt;persistence-unit name="acme" transaction-type="RESOURCE_LOCAL"&gt;
        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;
        &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;
        &lt;properties&gt;
            &lt;property name="eclipselink.target-database"
            value="org.eclipse.persistence.nosql.adapters.mongo.MongoPlatform"/&gt;
            &lt;property name="eclipselink.nosql.connection-spec"
        value="org.eclipse.persistence.nosql.adapters.mongo.MongoConnectionSpec"/&gt;
            &lt;property name="eclipselink.nosql.property.mongo.port" value="27017,
            27017"/&gt;
            &lt;property name="eclipselink.nosql.property.mongo.host" value="host1,
            host2"/&gt;
            &lt;property name="eclipselink.nosql.property.mongo.db" value="acme"/&gt;
        &lt;/properties&gt;
    &lt;/persistence-unit&gt;
&lt;/persistence&gt;</code></pre>
</div>
</div>
<div id="sthref1097" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BJEIEBHC">"@NoSql"</a></p>
</li>
<li>
<p>"Using Non-SQL Databases" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>NoSQL Persistence Units
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL/Persistence_Units" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/NoSQL/Persistence_Units</a></code></p>
</li>
<li>
<p>Examples <code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/NoSQL" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/NoSQL</a></code></p>
</li>
<li>
<p><a href="#nosqlconnectionfactory">"nosql.connection-factory"</a></p>
</li>
<li>
<p><a href="#nosqlconnectionspec">"nosql.connection-spec"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="oracleproxytype"></a><a id="TLJPA1109"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="oracle-proxy-type"><a class="anchor" href="#oracle-proxy-type"></a>oracle.proxy-type</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.oracle.proxy-type</code> property to specify the proxy
type to be passed to the <code>OracleConnection.openProxySession</code> method.</p>
</div>
<div id="sthref1098" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CDEIGGEJ">Table 5-75</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1110"></a><a id="sthref1099"></a><a id="CDEIGGEJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-75 Valid Values for oracle.proxy-type</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>USER_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This type uses a user name for authentication when
creating a proxy connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DISTINGUISED_NAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This type uses a distinguished name for
authentication when creating a proxy connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CERTIFICATE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This type uses a digital certificate for authentication
when creating a proxy connection.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1100" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This property requires Oracle JDBC version 10.1.0.2 or later and
<code>eclipselink.target-database</code> must be configured to use <code>Oracle9</code> or
later.</p>
</div>
<div class="paragraph">
<p>Typically, you should set this property into <code>EntityManager</code>, through a
<code>createEntityManager</code> method or by using proprietary <code>setProperties</code>
method on <code>EntityManagerImpl</code>. This causes <code>EntityManager</code> to use proxy
connection for writing and reading inside transaction.</p>
</div>
<div class="paragraph">
<p>If <code>proxy-type</code> and the corresponding <code>proxy</code> property set into
<code>EntityManagerFactory</code>, all connections created by the factory will be
proxy connections.</p>
</div>
<div id="sthref1101" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDCIFJ">Example 5-86</a> shows how to use the property with
<code>EntityManager</code>.</p>
</div>
<div class="paragraph">
<p><a id="CHDDCIFJ"></a><a id="TLJPA993"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-86 Using eclipselink.oracle.proxy-type with EntityManager</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">Map emProperties = new HashMap();
emProperties.put("eclipselink.oracle.proxy-type",
OracleConnection.PROXYTYPE_USER_NAME);
emProperties.put(OracleConnection.PROXY_USER_NAME, "john");
EntityManager em = emf.createEntityManager(emProperties);</code></pre>
</div>
</div>
<div class="paragraph">
<p>With injection:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">entityManager.setProperty(”eclipselink.oracle.proxy-type”,
OracleConnection.PROXYTYPE_USER_NAME);
entityManager.setProperty(OracleConnection.PROXY_USER_NAME, ”john”);</code></pre>
</div>
</div>
<div id="sthref1102" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#targetdatabase">"target-database"</a></p>
</li>
<li>
<p>Oracle Proxy Authentication Example
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Oracle/Proxy" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Oracle/Proxy</a></code></p>
</li>
<li>
<p>Auditing example
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Auditing" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Auditing</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="ormthrowexceptions"></a><a id="TLJPA1111"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="orm-throw-exceptions"><a class="anchor" href="#orm-throw-exceptions"></a>orm.throw.exceptions</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.orm.throw.exceptions</code> property to specify if
EclipseLink throws an exception or logs a warning when encountering a
problem with any of the files in the <code>&lt;mapping-file&gt;</code> element of the
<code>persistence.xml</code> file.</p>
</div>
<div id="sthref1103" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHCJBFB">Table 5-76</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1112"></a><a id="sthref1104"></a><a id="CIHCJBFB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-76 Valid Values for orm.throw.exceptions</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Throw an exception.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log a warning only.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1105" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHCCAJE">Example 5-87</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CIHCCAJE"></a><a id="TLJPA1113"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-87 Using orm.throw.exceptions in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="oracle.orm.throw.exceptions" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CIHEIECA">Example 5-88</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CIHEIECA"></a><a id="TLJPA1114"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-88 Using orm.throw.exceptions in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.ECLIPSELINK_ORM_THROW_EXCEPTIONS,
"false");</code></pre>
</div>
</div>
<div id="sthref1106" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#exceptionhandler">"exception-handler"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="ormvalidateschema"></a><a id="TLJPA994"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="orm-validate-schema"><a class="anchor" href="#orm-validate-schema"></a>orm.validate.schema</h3>
<div class="paragraph">
<p>Use the <code>orm.validate.schema</code> property to override <code>orm.xml</code> schema
validation from its default value of <code>false</code>.</p>
</div>
<div id="sthref1107" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIEGGI">Table 5-77</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA995"></a><a id="sthref1108"></a><a id="CHDIEGGI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-77 Valid Values for orm.validate.schema</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables schema velidation on on <code>orm.xml</code> file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) No schema validation is performed on the <code>orm.xml</code>
file.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1109" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use <code>orm.validate.schema</code> to enable <code>orm.xml schema</code> validation.</p>
</div>
<div id="sthref1110" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBCEAB">Example 5-89</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDBCEAB"></a><a id="TLJPA996"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-89 Using orm.validate.schema in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.orm.validate.schema" value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHAJDD">Example 5-90</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDHAJDD"></a><a id="TLJPA997"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-90 Using orm.validate.schema in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put(PersistenceUnitProperties.ORM_VALIDATE_SCHEMA, "true");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="prop.partitioning"></a><a id="TLJPA1115"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="partitioning-2"><a class="anchor" href="#partitioning-2"></a>partitioning</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.partitioning</code> property to set the default
<code>PartitioningPolicy</code> for a persistence unit. The value must be the name
of an existing, defined <code>PartitioningPolicy</code>.</p>
</div>
<div id="sthref1111" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CEGBHDDC">Table 5-78</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1116"></a><a id="sthref1112"></a><a id="CEGBHDDC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-78 Valid Values for partitioning</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An existing, defined <code>PartitioningPolicy</code>.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1113" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use this property to partition data for a class across multiple
difference databases or across a database cluster such as Oracle RAC.
Partitioning may provide improved scalability by allowing multiple
database machines to service requests.</p>
</div>
<div class="paragraph">
<p>If multiple partitions are used to process a single transaction, use JTA
(Java Transcription API) for proper XA transaction support.</p>
</div>
<div id="sthref1114" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJFIJA">Example 5-91</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDJFIJA"></a><a id="TLJPA998"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-91 Using partitioning in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.partitioning" value="Replicate" /&gt;</code></pre>
</div>
</div>
<div id="sthref1115" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Partitioning Examples
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/Partitioning" class="bare">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Partitioning</a></code></p>
</li>
<li>
<p><a href="#CEGDCFDA">"@Partitioning"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="partitioningcallback"></a><a id="TLJPA999"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="partitioning-callback"><a class="anchor" href="#partitioning-callback"></a>partitioning.callback</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.partitioning.callback</code> property to integrate an
external DataSource&#8217;s affinity support, such as UCP.</p>
</div>
<div id="sthref1116" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BJFFDAAH">Table 5-79</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1000"></a><a id="sthref1117"></a><a id="BJFFDAAH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-79 Valid Values for eclipselink.partitioning.callback</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A class that implements the <code>DataPartitioningCallBack</code>
interface.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1118" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The value must be set to the full class name.</p>
</div>
<div id="sthref1119" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDFEFBF">Example 5-92</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDFEFBF"></a><a id="TLJPA1001"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-92 Using partitioning.callback in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.partitioning.callback"
value="mypacakge.MyDataPartitioningCallback"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDCEHEE">Example 5-93</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDCEHEE"></a><a id="TLJPA1002"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-93 Using partitioning.callback in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.PARTITIONING_CALLBACK,
"mypackage.MyDataPartitioningCallback");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="persistencecontextcloseoncommit"></a><a id="TLJPA1117"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="persistence-context-close-on-commit"><a class="anchor" href="#persistence-context-close-on-commit"></a>persistence-context.close-on-commit</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.persistence-context.close-on-commit</code> property to
specify if the <code>EntityManager</code> will be closed or not used after commit
(not extended).</p>
</div>
<div id="sthref1120" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGIHIC">Table 5-80</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1118"></a><a id="sthref1121"></a><a id="BABGIHIC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-80 Valid Values for persistence-context.close-on-commit</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Closes the EntityManager after a commit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Does not close the EntityManager after a commit.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1122" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>For a container-managed <code>EntityManager</code> and most managed applications,
you normally set this property to <code>false</code>. This setting avoids
additional performance overhead of resuming the persistence context
after a <code>commit()</code> transaction.</p>
</div>
<div class="paragraph">
<p>The property set in <code>persistence.xml</code> or passed to
<code>createEntityManagerFactory</code> affects <em>all</em> <code>EntityManagers</code> created by
the factory. Alternatively, to apply the property to <em>specific</em>
<code>EntityManagers</code>, pass it to <code>createEntityManager</code> method.</p>
</div>
<div id="sthref1123" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIBADB">Example 5-94</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDIBADB"></a><a id="TLJPA54169"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-94 Using persistence-context.close-on-commit in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.persistence-context.close-on-commit" value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDGGCCD">Example 5-95</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDGGCCD"></a><a id="TLJPA54170"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-95 Using persistence-context.close-on-commit in a Property
Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.PERSISTENCE_CONTEXT_CLOSE_ON_COMMIT,
"true");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="persistencecontextcommitwithoutpersistrules"></a><a id="TLJPA1003"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="persistence-context-commit-without-persist-rules"><a class="anchor" href="#persistence-context-commit-without-persist-rules"></a>persistence-context.commit-without-persist-rules</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.persistence-context.commit-without-persist-rules</code>
property to specify if the EntityManager will search all managed objects
and persist any related non-managed new objects that are found, ignoring
any absence of <code>CascadeType.PERSIST</code> settings.</p>
</div>
<div id="sthref1124" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGJGAD">Table 5-81</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1004"></a><a id="sthref1125"></a><a id="BABGJGAD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-81 Valid Values for
persistence-context.commit-without-persist-rules</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cascades Entity life-cycle Persist operations to related
entities and uses the <code>CascadeType.PERSIST</code> settings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Does not cascase Entitiy life-cycle Persist
operations to related entities and does not use the
<code>CascadeType.PERSIST</code> settings.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1126" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Setting this property to <code>true</code> replicates the traditional EclipseLink
native functionality.</p>
</div>
<div id="sthref1127" class="ulist">
<ul>
<li>
<p>+
Examples*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#CHDGJCEE">Example 5-96</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDGJCEE"></a><a id="TLJPA54171"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-96 Using persistence-context.commit-without-persist-rules in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipse.persistence-context.commit-without-persist-rules"
value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHHEIH">Example 5-97</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDHHEIH"></a><a id="TLJPA54172"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-97 Using persistence-context.commit-without-persist-rules in
a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put
(PersistenceUnitProperties.PERSISTENCE_CONTEXT_COMMIT_WITHOUT_PERSIST_RULES,
"true");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="persistencecontextflushmode"></a><a id="TLJPA1005"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="persistence-context-flush-mode"><a class="anchor" href="#persistence-context-flush-mode"></a>persistence-context.flush-mode</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.persistence-context.flush-mode</code> property to
configure the <code>EntityManager</code> <code>FlushMode</code> to be set as a persistence
property and specify when flushing occurs.</p>
</div>
<div id="sthref1128" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHDEJC">Table 5-82</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1006"></a><a id="sthref1129"></a><a id="BABHDEJC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-82 Valid Values for persistence-context.flush-mode</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>auto</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Flushing occurs at query execution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flushing occurs at transaction commit.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1130" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The property set in <code>persistence.xml</code> or passed to
<code>createEntityManagerFactory</code> affects <em>all</em> <code>EntityManagers</code> created by
the factory. To apply the property to <em>specific</em> <code>EntityManagers</code> pass
it to the <code>createEntityManager</code> method.</p>
</div>
<div id="sthref1131" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABJCABF">Example 5-98</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABJCABF"></a><a id="TLJPA1007"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-98 Using persistence-context.flush-mode in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.persistence-context.flush-mode" value="commit" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDJBHIA">Example 5-99</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDJBHIA"></a><a id="TLJPA54173"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-99 Using persistence-context.flush-mode in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.PERSISTENCE_CONTEXT_FLUSH_MODE,
"false");</code></pre>
</div>
</div>
<div id="sthref1132" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#flush">"flush"</a></p>
</li>
<li>
<p>"Enhancing Performance" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="persistencecontextpersistoncommit"></a><a id="TLJPA1008"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="persistence-context-persist-on-commit"><a class="anchor" href="#persistence-context-persist-on-commit"></a>persistence-context.persist-on-commit</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.persistence-context.persist-on-commit</code> property to
specify if the <code>EntityManager</code> searches all managed objects and persists
any related non-managed new objects that are cascade persist. This can
be used to avoid the cost of performing this search if persist is always
used for new objects.</p>
</div>
<div id="sthref1133" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHIBEC">Table 5-83</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1009"></a><a id="sthref1134"></a><a id="BABHIBEC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-83 Valid Values for persistence-context.persist-on-commit</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Searches and persists related non-managed new objects
that are cascade persist.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not search and persist related non-managed new objects
that are cascade persist.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1135" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The property set in <code>persistence.xml</code> or passed to
<code>createEntityManagerFactory</code> affects <em>all</em> <code>EntityManagers</code> created by
the factory. To apply the property to <em>specific</em> <code>EntityManagers</code> pass
it to <code>createEntityManager</code> method.</p>
</div>
<div id="sthref1136" class="ulist">
<ul>
<li>
<p>+
Examples*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#BEHGGIEC">Example 5-100</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BEHGGIEC"></a><a id="TLJPA1010"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-100 Using persistence-context.persist-on-commit in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.persistence-context.persist-on-commit" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDBGCCA">Example 5-101</a> show how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDBGCCA"></a><a id="TLJPA54174"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-101 Using persistence-context.persis-on-commit in a Property
Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.PERSISTENCE_CONTEXT_PERSIST_ON_COMMIT,
"false");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="persistencecontextreferencemode"></a><a id="TLJPA1119"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="persistence-context-reference-mode"><a class="anchor" href="#persistence-context-reference-mode"></a>persistence-context.reference-mode</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.persistence-context.reference-mode</code> property to
specify if hard or soft (that is, weak) references are used within the
Persistence Context.</p>
</div>
<div id="sthref1137" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFGBIF">Table 5-84</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1120"></a><a id="sthref1138"></a><a id="BABFGBIF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-84 Valid Values for persistence-context.reference-mode</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hard</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) EclipseLink references all objects through hard
references. These objects will not be available for garbage collection
until the referencing artifact (such as the persistence context or unit
of work) is released/cleared or closed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>weak</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>References to objects supporting active attribute change tracking (see
<a href="#CEGCCCCJ">"@ChangeTracking"</a>) will be held by
weak references. That is, any object no longer referenced directly or
indirectly will be available for garbage collection. When a change is
made to a change-tracked object, that object is moved to a hard
reference and will not be available for garbage collection until
flushed.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: Any changes that have not been flushed in these entities will be
lost.</p>
</div>
<div class="paragraph">
<p>New and removed objects, as well as objects that do not support active
attribute change tracking, will also be held by hard references and will
not be available for garbage collection.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>force_weak</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All objects, including non-change-tracked objects, are to be held by
weak references. When a change is made to a change-tracked object (see
<a href="#CEGCCCCJ">"@ChangeTracking"</a>), that object is
moved to a hard reference and will not be available for garbage
collection until flushed. However, any objects that do not support
active attribute change tracking may be garbage collected before their
changes are flushed to a database, which can potentially result in a
loss of changes.</p>
</div>
<div class="paragraph">
<p>New and removed objects will be held by hard references and will not be
available for garbage collection.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref1139" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The property set in <code>persistence.xml</code> or passed to
<code>createEntityManagerFactory</code> affects all <code>EntityManagers</code> created by the
factory. To apply the property to specific <code>EntityManagers</code> pass it to
<code>createEntityManager</code> method.</p>
</div>
<div id="sthref1140" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBACII">Example 5-102</a> shows how to use this property in a
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDBACII"></a><a id="TLJPA1011"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-102 Using persistence-context.reference-mode in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.persistence-context.reference-mode"
value="FORCE_WEAK"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDCIDAH">Example 5-103</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDCIDAH"></a><a id="TLJPA1012"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-103 Using persistence-context.reference-mode in a Property
Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.PERSISTENCE_CONTEXT_REFERENCE_MODE,
ReferenceMode.FORCE_WEAK);</code></pre>
</div>
</div>
<div id="sthref1141" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CEGCCCCJ">"@ChangeTracking"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="persistenceunits"></a><a id="TLJPA1121"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="persistenceunits-2"><a class="anchor" href="#persistenceunits-2"></a>persistenceunits</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.persistenceunits</code> property to specify the set of
persistence unit names that will be processed when generating the
canonical model. By default, EclipseLink uses all persistence units
available in all persistence XML files.</p>
</div>
<div id="sthref1142" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABDEJGG">Table 5-85</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1122"></a><a id="sthref1143"></a><a id="BABDEJGG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-85 Valid Values for persistenceunits</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">names</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A comma separated list of persistence units</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: When specifying multiple persistence units, you <em>cannot</em> include
a comma ( , ) in the name of a persistence unit.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref1144" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDAJDH">Example 5-104</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDDAJDH"></a><a id="TLJPA54182"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-104 Using persistenceunits in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.persistenceunits" value="mypu1, mypu2"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="persistencexml"></a><a id="TLJPA1123"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="persistencexml-2"><a class="anchor" href="#persistencexml-2"></a>persistencexml</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.persistencexml</code> property to specify the full
resource name in which to look for the persistence XML files. If
omitted, EclipseLink uses the default location:
<code>META-INF/persistence.xml</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Currently, this property is used only for the canonical model generator.
</td>
</tr>
</table>
</div>
<div id="sthref1145" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BEIGADGB">Table 5-86</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1124"></a><a id="sthref1146"></a><a id="BEIGADGB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-86 Valid Values for persistencexml</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Location of the <code>persistence.xml</code> file.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1147" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This property is only used by EclipseLink when it is locating the
configuration file. When used within an EJB/Spring container in
container-managed mode, the locating and reading of this file is done by
the container and will not use this configuration.</p>
</div>
<div class="paragraph">
<p>If you want to change the default location, use <code>persisencexml.default</code>.</p>
</div>
<div id="sthref1148" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDCHHEB">Example 5-105</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDCHHEB"></a><a id="TLJPA54183"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-105 Using persistencexml in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.persistencexml" value="resources/persistence.xml"/&gt;</code></pre>
</div>
</div>
<div id="sthref1149" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#persisencexmldefault">"persisencexml.default"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="persisencexmldefault"></a><a id="TLJPA54184"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="persisencexml-default"><a class="anchor" href="#persisencexml-default"></a>persisencexml.default</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.persistencexml.default</code> property to specify the
default resource location where the <code>persistence.xml</code> configuration file
is located. The default location is <code>META-INF/persistence.xml</code>.</p>
</div>
<div id="sthref1150" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDBHGH">Table 5-87</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54185"></a><a id="sthref1151"></a><a id="CHDDBHGH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-87 Valid Values for persistencexml.default</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resource location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default resource location of the <code>persistence.xml</code>
file.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1152" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDHADB">Example 5-106</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDDHADB"></a><a id="TLJPA54186"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-106 Using persistencexml.default in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.ECLIPSELINK_PERSISTENCE_XML_DEFAULT,
"resources/persistence.xml");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="profiler"></a><a id="TLJPA1125"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="profiler-2"><a class="anchor" href="#profiler-2"></a>profiler</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.profiler</code> property to specify which performance
profiler to use in order to capture runtime statistics.</p>
</div>
<div id="sthref1153" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBECBD">Table 5-88</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1126"></a><a id="sthref1154"></a><a id="CHDBECBD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-88 Valid Values for profiler</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NoProfiler</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Do not use a performance profiler.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PerformationMonitor</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use EclipseLink performance monitor
<code>org.eclipse.persistence.tools.profiler.PerformanceMonitor</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PerformanceProfiler</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use EclipseLink performance profiler
(<code>org.eclipse.persistence.tools.profiler.PerformanceProfiler</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>QueryMonitor</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Monitor query executions and cache hits
(<code>org.eclipse.persistence.tools.profiler.QueryMonitor</code> class).</p>
</div>
<div class="paragraph">
<p>This option provides a simple low-overhead means for measuring
performance of query executions and cache hits. You may want to use this
option for performance analysis in a complex system.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DMSProfiler</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use
<code>org.eclipse.persistence.tools.profiler.oracle.DMSPerformanceProfiler</code>.
This property is specific to the Oracle Dynamic Monitoring Service
(DMS).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom profiler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify a custom profiler class name which implements
<code>SessionProfiler</code> and provides a no-argument constructor.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1155" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDBCCED">Example 5-107</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDBCCED"></a><a id="TLJPA1013"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-107 Using profiler in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.profiler" value="PerformanceProfiler"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDJFBDI">Example 5-108</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDJFBDI"></a><a id="TLJPA1014"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-108 Using profiler in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.ProfilerType;
import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.PROFILER,
ProfilerType.PerformanceProfiler);</code></pre>
</div>
</div>
<div id="sthref1156" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="paragraph">
<p><a id="sessioncustomizer"></a><a id="TLJPA1127"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="session-customizer"><a class="anchor" href="#session-customizer"></a>session.customizer</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.session.customizer</code> property to specify a session
customizer class that implements the
<code>org.eclipse.persistence.config.SessionCustomizer</code> interface. The class
must provide a default, no argument constructor.</p>
</div>
<div id="sthref1157" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGBEFG">Table 5-89</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1128"></a><a id="sthref1158"></a><a id="CHDGBEFG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-89 Valid Values for session.customizer</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully qualified class name of a <code>SessionCustomizer</code> class.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1159" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use the customize method of the class (which takes an
<code>org.eclipse.persistence.sessions.Session</code>) to programmatically access
advanced EclipseLink session API. You can use the session customizer
class to define multiple session event listeners.</p>
</div>
<div id="sthref1160" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDFBIEI">Example 5-109</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDFBIEI"></a><a id="TLJPA1015"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-109 Using session.customizer in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.session.customizer"
value="acme.sessions.MySessionCustomizer"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDJEDJG">Example 5-110</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDJEDJG"></a><a id="TLJPA1016"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-110 Using session.customizer in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.SESSION_CUSTOMIZER,
"acme.sessions.MySessionCustomizer");</code></pre>
</div>
</div>
<div id="sthref1161" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#sessioneventlistener">"session-event-listener"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="sessionincludedescriptorqueries"></a><a id="TLJPA1017"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="session-include-descriptor-queries"><a class="anchor" href="#session-include-descriptor-queries"></a>session.include.descriptor.queries</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.session.include.descriptor.queries</code> property to
specify whether all descriptor named queries are copied to the session
for use by the entity manager.</p>
</div>
<div id="sthref1162" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDEADH">Table 5-90</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1018"></a><a id="sthref1163"></a><a id="CHDDEADH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-90 Valid Values for session.include.descriptor.queries</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copying is enabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Copying is disabled.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1164" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABGAFHH">Example 5-111</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABGAFHH"></a><a id="TLJPA1019"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-111 Using session.include.descriptor.queries in
persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.session.include.descriptor.queries" value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABBBGEH">Example 5-112</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="BABBBGEH"></a><a id="TLJPA1020"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-112 Using session.include.descriptor.queries in a Property
Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.INCLUDE_DESCRIPTOR_QUERIES, "true");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="sessioneventlistener"></a><a id="TLJPA1129"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="session-event-listener"><a class="anchor" href="#session-event-listener"></a>session-event-listener</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.session-event-listener</code> property to specify a
descriptor event listener to be added during bootstrapping.</p>
</div>
<div id="sthref1165" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGFICG">Table 5-91</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1130"></a><a id="sthref1166"></a><a id="CHDGFICG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-91 Valid Values for session-event-listener</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Class name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A qualified class name for a class that implements the
<code>org.eclipse.persistence.sessions.SessionEventListener</code> interface.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1167" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>To define multiple event listener, you can use a
<a href="#sessioncustomizer">session.customizer</a> class.</p>
</div>
<div id="sthref1168" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJFEIG">Example 5-113</a> shows how to use this property in a
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDJFEIG"></a><a id="TLJPA1021"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-113 Using session-event-listener in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.session-event-listener"
value="mypackage.MyClass.class"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDJFEIG">Example 5-113</a> shows how to use this property in a
property map.</p>
</div>
<div id="TLJPA1022" class="paragraph">
<p><strong><em>Example 5-114 Using session-event-listener in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.SESSION_EVENT_LISTENER_CLASS,
"mypackage.MyClass.class");</code></pre>
</div>
</div>
<div id="sthref1170" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#sessioncustomizer">"session.customizer"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="sessionname"></a><a id="TLJPA1023"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="session-name"><a class="anchor" href="#session-name"></a>session-name</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.session-name</code> property to configure a unique name
to use when storing the singleton server session within the
<code>SessionManager</code>.</p>
</div>
<div id="sthref1171" class="ulist">
<ul>
<li>
<p>+
Values*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#CHDECCEJ">Table 5-92</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1024"></a><a id="sthref1172"></a><a id="CHDECCEJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-92 Valid Values for session.name</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique session name to use instead of the default,
EclipseLink-generated session name.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1173" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default, EclipseLink generates a unique session name. You can provide
a custom, unique, session name with this property.</p>
</div>
<div class="paragraph">
<p>When using a <code>sessions-xml</code> file, you must include this session name as
the name of the session in the <code>sessions-xml</code> file.</p>
</div>
<div id="sthref1174" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CACICICG">Example 5-115</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CACICICG"></a><a id="TLJPA1025"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-115 Using session-name in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.session-name" value="MySession"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CACIFIGD">Example 5-116</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CACIFIGD"></a><a id="TLJPA1026"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-116 Using session-name in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.SESSION_NAME, "MySession");</code></pre>
</div>
</div>
<div id="sthref1175" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#sessionsxml">"sessions-xml"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="sessionsxml"></a><a id="TLJPA1131"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="sessions-xml"><a class="anchor" href="#sessions-xml"></a>sessions-xml</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.sessions-xml</code> property to use a specified native
<code>sessions.xml</code> configuration file (which references a <code>project.xml</code>
file) to load configuration and mapping information instead of JPA
annotations or EclipseLink XML (as shown in <a href="#CIHFHAFB">Figure 5-1</a>).</p>
</div>
<div id="sthref1176" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHCGECF">Table 5-93</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1132"></a><a id="sthref1177"></a><a id="CIHCGECF"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-93 Valid Values for sessions-xml</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">configuration file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The resource name of the sessions XML file. If you
do not specify the value for this property, it will not be used.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1178" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use the <code>eclipselink.sessions-xml</code> property as an alternative to
using annotations and deployment XML. With this property, EclipseLink
builds an in-memory EclipseLink session and project based on this
metadata (as shown in <a href="#CIHFHAFB">Figure 5-1</a>). You can acquire a
persistence manager and use it, having defined all entities and so on
using only EclipseLink <code>sessions.xml</code>.</p>
</div>
<div class="paragraph">
<p><a id="CIHFHAFB"></a><a id="TLJPA1027"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Figure 5-1 Using the eclipselink.sessions-xml Persistence Property</em></strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaoAAAEXCAMAAADLBfBvAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAADAFBMVEUCAgIYGBgaGhoXFxfLy8vk5OT///8AAAAbGxvW1tawsLDKysri4uK6urpnZ2dvb29+fn6YmJizs7POzs7s7Oy8vLxmZmZqamp1dXVra2uampq+vr7b29vu7u5lZWWHh4fQ0NDGxsaqqqqNjY13d3dubm6JiYmlpaXAwMDt7e1kZGTBwcGIiIipqanFxcXh4eHZ2dm7u7t4eHiPj4+xsbHR0dHo6Ojq6uq0tLSXl5d9fX1oaGh/f3+bm5u1tbXT09Py8vLj4+Otra2Tk5NycnKEhISfn5/X19fIyMjU1NTp6emmpqaGhoZ0dHRzc3OFhYWioqLx8fGoqKhiYmJsbGyCgoKdnZ25ubm9vb2goKCQkJDJyclhYWFpaWl2dna/v7/V1dW4uLh8fHyUlJTPz89gYGBjY2Onp6eOjo5fX195eXmvr6/MzMyZmZnw8PCrq6txcXGAgIAgICCjo6NYWFhwcHCMjIyenp7g4OBAQEDd3d0cHBw4ODgQEBBUVFRERETc3NwwMDBISEg0NDT8/Pz09PQoKCgkJCQUFBQ8PDw+Pj7n5+d7e3ttbW2srKycnJxQUFAsLCxcXFwMDAyKiorExMT4+PgICAhMTEyVlZXNzc3a2tqkpKTY2Njr6+vHx8fDw8Pf3985OTlNTU16enrl5eUEBATv7++BgYEvLy8eHh4PDw+WlpaLi4sODg4hISFLS0ve3t43NzcFBQUDAwNGRkbS0tK2trYuLi6RkZEiIiItLS0mJiYKCgoNDQ1SUlIqKio/Pz9WVlZZWVkWFhYdHR02NjYJCQkSEhKSkpIZGRkRERGysrKhoaFeXl4lJSUpKSlDQ0M9PT1aWlrCwsLm5uaurq6Dg4MVFRW4uLnOzs+ysrO1tbaOjo9HR0fCwsOurq8wMDEGBgZRUVHFxcbIyMl0dHW7u7xBQUE6OjqlpaZxcXJKSku/v8BOTk6bm5yenp89PT6oqKnMzM1nZ2iioqOYmJmBgYJkZGWRkZKrq6yEhIV+fn9XV1iLi4ykpKU1wp50AAAAAWJLR0QHFmGI6wAAAAd0SU1FB+YLGAoxI4cZ70gAABq+SURBVHja7Z0LXFNXnsclyL1Tp4N1iiitRlvFappqJ7WRSh/WlhartBTpQ4p2kGLbGZpqKk4oJikkvHaogo5UqnZmdvua7s7ulrrTmSGkzG7Zzexs3Qezu3IIhEcggJBgYEWhZfac+8gDEPK4Qc/k/D6ae8+5N+d/7vnmnvO/93/vYd68CBERBoqYNy9yfhQRBpofOU8URRFhoCgRQYWJCCpsRFBhI4IKGxFU2IigwkYEFTYiqLCRGxWNbl3QeOpat+Ico/rWta5K4Ao3VBgfL8ZV90MEFTYiqLARQYWNCCpsRFBhI4IKGxFU2IigwkYEFTYiqLARQYWNCCpsRFBhI4IKGxFU2IigwkYEFTYKY1Q3LPj2jXNVQyFshTGq70QvvGnRd2+OmYsaCmErjFEtjl2yNC524U233LpseahrKIStcEYlXrHytttXrY4Tx6+5Y+2ydaGsoRC2whmVZBX8ha9bducd0nhx3OpVd63fELIaCmErvFFxY8e6u7+36KaFsXGyezbeKw9JDYWwRVBx2nRzwn2bF4oT73/gwYfkgtdQCFsElVtbHp6/9ZGl4sRHkx5b/PgWQWsohK3wRrWOSl6w7Qmv3BuTt+9ISYx+8qnU2zY8LVgNhbAV7qjSdqY/8+xzj3s14Za7n9+148lE8dKMrS/cKAwuIWyFParMWMnO3XtWpL54t9fGJ76f9ez9u2Pj92a/JEQNhbAV9qhy9klixfv2iZesXvNy8sNeO8i3bXwl/tU0IWoohK1wR3XzI9AV2yeOjRWLJbG7f/DID3O9Xwx8LVM4VEHaCm9U0CtT3Jj8esbq3WKJGLXhPvH+A689+JLbW3tMMFRB2woKlTLgqgf+zekUrLP+9Ibb3tixNFGyTyKOhR/R+5+5ZTF380dQVMHZEuasOujvF3xGJc/zYadAUR3yuNZR3LD4R0+lJMLRBPVP4ui8NXfcuUFAVMHbEgaV3yeJz19Q5fuwU6Co7llOvfmQh4csf+jBB26Ki5agDkoskSy5T0BUwdvyCZVyUcHhlbD0g2q0UGarqZWHlbuYBocrC6h8mqZUGrX2LZh1QFmYRcUcVBdkUdRbRWqtChWQp9MXKzOo/KSS0oSUssK1HKry9DJNDKUqzymKOVimlEIw5QdRDpVbruY20PRflMGSNIdmYhbonfVbKOr1vBWp6z2vP39878ZXKt4WS+Dwv1MqHCoBbPmGKkWRcJiiJEmKI3ChzFFQ2pW55Qwq7bZcLbNy8KjiCFyjDyh26ajKDH1WqZ7S7lJkMH2jXrc3pRJuTJEn0AdiduVzqOgjir0ySkVn6ysPKVTaXXD1SHGijKKqEhQpaEOaHhKSHaNijitmOohAUT1LQQdaEpu4557Xkz2bcMNtd70iS5dk/kRAVMHb8g0VPDUKKKqEpunjMAWbTVaedIIhlJPPrXAbj+spvZKKqIYl66l3YF4VU4KqrFTBbKQiKLQDiwp+xhRSqkKquBQdTiWlgjm5RZQcTXBwklLpmA5Qdbz4UM6MDREoqqMU9XIO64wt3Fyz8V2P+wjrTq29Y0e2gKiCt+UbqmqqGDZb4TaKYrlEUSf2FmnhWhS1mF2hClWUfi07CCmpsmK4ZzVVpqD0yUwJKyPKoviN6D+LqhBuqEQ0qlE6C67CkzYrj1LAZPFKZpxC/0+eLkkOFaqslN1izhmLzTtQ89yZ99w7xPxYWFRB2vIN1V753hQ44hyLyeZ6u+y3ihcUwLWD2SrFgirEMjFPLiviSRw8oDgKOVSmKGQSVEB11ZGUoqmo6NNRldkMDdgBnkEd4DtZUScTIMPTMTlJzIYoCC+hQDdzQwSG6kHUKVFvrX1jRcpulzO28Kk3nj/l4awJhEoIW76hkpXlw/6rOKcsfxvT2KqDBerKxXANrkQczKXS1ZS8sqzIdeJAt6Ic+SEwT47SeRo4XGVMQRVRWVapZ4gojrFuRdXJskR0TPllmmrW+9PCMa5g18yuYGCotkpQ85366RObtmUdfeZt1hmDP/klskPbf/ZzYVEJYcs3VELU1pdyp+VRvbJQP3M5vqGaPL8P23zr//Kv4I+Kkn8/Ifsm1hlDd+nS31+19eYPZm8+nwwJZAsDVAegcz9L2/jYgt5tyDYftfDD/dRH2R8nv7fpg29vzXj/baYF4ZVO7JKKrYGimgJLCFvhdA9w0tRZXPNt+8Unt97312V3/M2xX86nlr+5/uVVTyayd+l2rgmwA5w6R5cQtsIPlasNueajMv728N+9c//ypfPm/T10w+QPb/r0xceeejRasm/fa0Gh8oQlhK0/D1QBTUrHN9+pWvqz2HXUnrOfRd5GUYn/8Oha6r1Nv/r8tY/375rcfAHPfheALYJq6ln1+if0J7dS1J53fh35G+rm39J09PzYVahp3v1VkKjcXwzAVvColFf1Mry2zOqJ+HQf1ldUPu427Vh1ou4zQ30SbD7jq7/4gso+/onx1axvNXzK7STsWBWUrUBQ+bIlVE7j9E3j217TNt/3f0d/8XnVb1+glh7f/I+/nv9F2T99mfNcY1CoruoBBmcrrFB5p9nmSyv55/XU/Z8t2bLnXzLWiJaW/C7DFDyqKVlC2JoNlf5IORf8KE4vK9vFd3P50oj8M1wIxBX/YP8xURC4Ji/fiwpYXFXChkNOyplEMkUtKIGfsAMszuEiH+kFh3MZa/xqQlGZLpdSHUuP0K3NKTu8jVpbrpYUU6qTWUGgmr75lt+wDB5H4Zdbl77z++/8q8i44o0/BIsqRLZmRiVPKtAu4IIfeXurV0YoXEAUi7QUpT2TrHXFP9gtbBSEUkZVZTNFVMkTNHDH04oMCUUVxiw4BrPQJ0SVk8JFPo4qkjQsKna1OuJE8aJKSvVhtiKbXqRIyqFKTihSkij9aV1JxjThkCBQ5X7++Ca4/m/Ra1LUqzbpaNEL20OGKkhbM6JKV0vQjRA2vlGoguiqeVQwUcaHQPjgCPOPjYJQ6ogitoyDRYdgGVw4JP8kSjCfqvziAj0b+ShBN/1UNJ3PrVL6tdL0/Hw2CHIY5XBREagTGrVUSFTbJSk7vnp+GbVFvvI3P6Ni6S+Wn/7Dq7D5VCFAFaStmVEpZagYLRP8KIEdXq7rrGLCIlwIxB3/ULrunh8/UXKaKZ/KSimXoABWcTIVpU/I00nYT1V+dUE1G/nId/mD3Oph2enk3HzXBlU+iorEoF8NtS29QFBUaZmSfeLdMun23Kgt8LLnqY3UadO5rIJ/fzcEqIK0NVsHqDyZQEmZ4EeiRHG6wHVWSeV5KVQRGwJxxz/cqJRUshphLk+LUiw6TFVK5TmJVFWaPGZREfvJdIByJvIxGVVxwZnixeU6D1RU4emoIimlT8sXugPc/ioK90kksbtX//6HL6AmfHxzzdr/+PA/37/rbqFRBWnLF7eCDX4Up6t1i11A0lFY5AwbAnHHPzxRUSk62BOuPBnB7hKhKaaST0Yoc95KPlkGPz3ciiln1dHSUk1y1SEPVGd0ERJ9KNyK+a/sSYzln8vLu39RwsoYilr3cvx/lZmaAr2zHiJbAd6tmFNffFYF4wE+veGnb6zYs9v9XN7Ht9y67CMqKvmRQ8gHENQDDM5W2KNC2nJm8Vdez+X95I4/firoI5tC2PrzuAcY0LfczYckf+jzWw7ExXLP5e2Lk626ff1/hwBV4LbCHVXUp56PUa78YUZFOorMsuHZu4RFFaStcEd1+/6M13+6wcOr3LD+yCuyODSaiCU/EhZVkLbCHVVaJnouL3tBrudzectePL0mL1pwVEHaCndU6FoHPZe38MB9WZ7P5a079fwDH6cJf10VhK1wR/X5k0t2upyxHbuev9ujCTd9ICyqIG2FO6qnb/jej55Jjxbzztjqn6Td+XOPnYREFaStcEeF9MS2hEc2x8fyz+UteX/V7cxzeUhCO+tB2CKouHZ44X9+U/H2PtdzeXvvS3hJ6BtLQdoKa1QPeKU/+vRE2i8fTeTf1I1+9JlbBUQVvK0wRnVk5/5Fd77pPT3f8jf/+Oz/PhmN7tKJJTufFQyVELbCGFXuL/fEifPWvPyzNz/yyl/+0OdHn9kfu08sFu66SghbYYyKeu/uF7966m1JuizjSPKkP2P9wbvfrXl/92OCoRLCVjijQnrv1HM1m9+OTf/BPd/dJp/UNLn3CodKAFvhjgrpidyNj1TEx+6+f/JcVZSwqIK0RVAxYuZpSREnpuz4ynuuKqFRBWGLoHLpadX61KQnoxNTVmx3z1UVAlSB2iKovPT0Dd97Nml/tFjGz1UVIlSB2CKopkh+74MPbI6OXXjTawkvbToaOlT+2iKoptWP7914SLYENuGjoUXljy2C6qpSnUhbtTru1e1zcQS+2CKoZtK6U2u/unOODmJWWwQVNiKosBFBhY0IKmxEUGEjggobEVTYiKDCRgSVS8LOUh2soalGCCr/JeRENtTVppKfCdW35vZ4hRTeqKYvbsazSiSKmOf31FzXh/xpmavNeQL7pUlznqSVVDEzn1RWUlHqBe4JT/xDpcxjZoXNl1Wh4vfq2enpi9QaOaUqUisXU0o6nzWiUC5QlecpC6ER3baZUIVQ/rVliMXNebKLnfNEnsDPeQJb0HvOk+Kq4jSmb1Ioj2ryYO4hbsIT/1DBwvZCS/ShalT8sQMMqvIEZL7oiP6ojjt/oJFjMxsJP1RXm/OEUnrPeQLbU3NoG/OV3OM6PZPLTnjiH6oP9VRMCTMhS1k1/HYhg4oxr4fZlIrv6mY1Enao3HOe6Jk5T2CCnfOEUnrPeaKXw+zCJPSdLHVpsccsGv6hiqCoM5UMHzT7/BkWFTPligL9eYC1PKpZjYQdKvecJ+mJMOGe84TpAD3mPNFXJcTESNHfyYgpSNYkBoyKPh11MJv9Sw8pcr4DLGKmXDl8VHGgkplKnjVykKDylNecJyu5OU/Qp4dbwbbX2nxuKpTKFGbED/SsOoYmk0d8UPFJ7CqaSL4YuRVFKjSVPG9kEUF1LTV1hvKqwAoiqEKtKajekQZSDEGFkQgqbERQYSOCChsRVNiIoMJGBBU2IqiwEUGFjQgqbERQYSOCChsRVNiIoMJGBBU2IqiwEUGFjQgqbERQYSOCChsRVNiIoMJGBBU2IqiwEUGFjQgqbERQYSOI6nwzCLFoOtQWwkHN5wkqTERQYSOCChsRVNiIoMJGBBU2IqiwEUGFjQgqbERQYSOCChsRVNiIoMJGIUeFMMH/hFbQmgNUnK71kWKv0HeAhJRAIqiw0Ry4FYSUMCKosBFBhY3m4rqKkBJEBBU2mpu7Fdf6KP8sRFBhozlBRSSE3Kjo8+fPmzD9+y3XuhXnGNWX17oqgSvcUGF8vBhX3Q8RVNiIoMJGBBU2IqiwEUGFjQgqbERQYSOCChsRVNiIoMJGBBU2IqiwEUGFjQgqbERQYSOCChsRVNiIoMJGBBU2Cm9UzONO9bUtM+9l1gWySXCFNyoRaoFWbdvMe80ljxlEUAFgUc68F0ElnIJE1Q5RpHYYjbXtcFnXaeqyAtCdqexU9gBg6zXWVfCoZAZjXz8wd1wwmAYGmRxI0dyWWWqys0ngaItrMNYNaRrrL1qARdPYaZDCvEyDUedEeVYwPKJUa83Acc5u/D/6EvxGZJyvlSWoup21MgCUo93my71w2Wp1Np0D4NyAuTtVeQX02pudpRyq+I5Ui9ToNNPa9hbtOSYLoaK7WvgkcNDaVFsbHW9trx0B2nM26yXTmIMe4PNkQNPbbpOJuh30BQvoaAJgiPb5MfTwRsU+Rt0AT4l4mGqB5ExOAIZbITJ0mrQODNPwDBvnUBnN8GOkyVzfDZn0MVkIlUcSONQwUYM6VKndWopy4uIcjcN8Xtcg2hnYKxwo2QPtNXX4XNnwRoXOquHU3hEABi9fbKiHyXN05MUrgIdoMKPmTmVR2Zju0tFnrgOu8QuhYpNmuLsdOLRoFzvz0c+W0eVoc+exRY1qmGQz7QSir32uLEHFNntbXeZ4O0rWNNWdhegiuT0MwIWFRVVzkUl6oPJI8kSYj9S+afKY/Sq+YZKgNs55dtDnyhJUkAHk0YjaAnVIcJnaADtAdK0FO7xaG6Tj2QFmNvmKylZvgUuLVx7bAbZVsKi+bkDDo68iqKxSHeRjmLBcqVMPA12PdXBEA4cYw5C1RgrHkwFbf4eHWzEO3QofUQFt35h1dMw7T9M7xrgVDKrBsyap75UNb1TMYCJqgr/+VkPkxUv2XjB20VTfCzul4TilUQvPgOEmkbKVd9YrGhhn3VdU3U0i0zeT8mC5Jm0zm4TnLHOS+ajrDJXNElCLX+tqByp7kx87B4VKxPwqzXyK7/un7ue18Fpjr0ygOlAx3Wo/+m63MEVlNRvNfuweHKoZUjNumYQK9h62AfQDa22s990jcgtTVHbTiD+7Xy+oAOPa9vbU+n6d4RamqPyUEKisA2rTON8BikZMtfC0vtQgqoHX/31GlHB3gLoRk8GB1mzoBhsSh6p54DJ0bOsHv64N4CAIqlnFjFV20HR52KG2cKjoHkscvDwvtQ3BC/faUUtPmycq+oKlB54+ovbGca4Mbqzq7INIv74IBjtt/teDoJpVHAIDbOXmbg7V2WEwqIRXeX3xqQB0QgilnqjU0HWAC6PpIl8G3wEidSD0Pf7Xg6CaVRwCJTwRhvizygRAey9oBpcyO7qAqRsMp3qiErGL+iHRBFwzdzARCB6VuX4YAKnv9y9dChwVN++Fw/OQrj7muiqqm5LFJroaOw329qub4y6nApMQqDSXLV+b+LOKltm6ZKBD2mwZrwO98ZbMrmlQiUCNGl1niq4MNmlch4s6TmA5648DCwKtuvcRzJDhqWlijF5Zhsz+bucF0yzx/0AlxHWV1W7scPAkTF3q3mHgvGgytfUDW6+6z8b9dh1eqEAb6gIvNajbzK7DVY6iT53PsTaXrhNUZrZDqLgccHVmlOB3K0TBF+G3BEA1fE5k1LZwvyNzx4WGeuSiXmpwx4RLezw7QPPAZSb2i7ImOieY7LFG5jaRBfaAXAAYSJV047lh1xJ1gMOX2Thwk6ZR9I0f95UIKk7xfbaxhkYeFd3ntF4xjQKlw5o6AK9T7WxM2BMVF/uFqxPGK1whyvre+EtWtMYFgC2lqVZH3yjglwiVlo8DjzT3G2R+1PU6uwcYmIJ1KyCBUuj9DOkGeVTonoms1mJ0whPkEnRc0a9/vMsTFRf7NesmjEN8abamSJo+C/t/PgDsNMDuvzkV8EuIiosDTzhQbynT+FHXMEflOqtMw64MiMqEVvt1oI2OvAhJmVmitZ6ouFCwWX2209Pls1zRnnUAPgAMGuhGbT/MbqCVA2OMB8jFgc+577f7KoKKVac7A6JqQKtOeA1/pclAjwIb9/SZJyou9GGuvyTiPYt29pJQOgL4ADAY/rpLefaSa+lCVZFJUPkpFyoRPDUcpdwVB9O7gZ7MbuTLSaGr2on8b8u0qHSghuZGnHY1M05JMwEfAG5G8OK/cS1dHWBba+hRjaKbQG3D02zw+S7xCHr4eLq97Q7PhR8SAFWTHboVGpdboR2ytppSQcO4dbCpCYBzDf3WVsdVUIG2erYFhxtrWy3NEwY4dnEBYBDp6G6+2ONasm6FOw4cWlSwjdtLW2fao2aWIkbg5VM/eojrKppLVNzdilHQ3WQyaQZ5VIYmZX0trIZTpzbyMWH4++TGLMckVDYjd5tsrK2x3tiBrg65ADC4VGdU27tdS85Zd8WBQ44KxF+YhcSMYnbQTFx1+1yiml7XyZPPkxQIqrHSfui6Kk2ZKNkwAjJNvd3Mhm/UbfB6Af5GLzSa4Fk/kqkzDQwDaWkn9F/BBRH3zBtENZxqGgQjcaLRmlKjrgVMQMfVWm+zO4ZHGk0arQMMZ0aK4AWkPU7kEzaCajqhscoIe29zqbO5tgaMRqaCoTarphWhcjArkMRQR0tLaTsYaXQ2111xltosfWyegbm9h8YqESJpaGlpHOqWKoe71WbwtRaeTuMNY92jtAOMa5udIguw1/p2P5Cgmk689yBFnfYFeH0Ah65Izegg2sCuQFTxaOMEGIkH4PJoD/yGdZDPA+4eckQGMpHv1OEETXEAcrc7NGiTwQE0aOd+YL/iU51wdl79UKCoWuGA2GxGSavFVqGJdIyOoBW7yQFJjEOALTaGychoPOwnm9sBItbChA1dqEbBCBr06pzoar4UDVIVyKntc4AmuMuYxedRi6CaTjwqmyjVWTqEkql1Q93tF6WjI9xKXAVoFjmdjWYOVaporAW6jM7SMYeI7QDdqFoaHZZxJRzIGuwXEKpm5RXLeKcDtOrMrZFWgspLgaICNUrRZTbZYzDWjaC1HkM9XOmPnACjIqUMcKhgIjITfZPJA16oAOtWACDrHGRcvwmlsSkTAoo3GSZ89wUJKmwkbNW5y2LmIqrz4qRHPabxOLqdPhQqgAiqKeJRISjt2q5Z958rf5GgmiJPVODS7BwIKj8UcNWd3BvAuh6Dug2OmVa7sW7cC9UVOzB3nDM5XC8C61wxYWDtMqm7bI65+vMx4Y2qg3sDmO51Nn+jRTdtm52lnqjMtaNw0BqwuV8E1jExYSt6T1hjt6SKaslZ5Y8Crjq6rENvAKN3p81KACItAEx4uhVGuxWYO1Fsg38RWOeKCYN6SHCCoPJLAVedfwOYifqiR0nhot2rA+RXXC8C61wx4cFJAcdQK7xR8W8AMxzghwGeL9YZUDEvAtsauHyCyn8FXHX+DWAeVS96GGZaVJ4vAqtRiBcmaQi2QkdQ+aOAq26YsNTUqoddqHp6bf0d06PyeBH4XG2/daIGgs20OEzxwGzw52m+wBXeqPg3gHlUzJu/06PyeBF4OFNkQlfGlgG1KBO6HHXqOTnK8Eblv65hKIug8k9XAnpZWRARVH5ptL41+EICFEGFjQgqbERQYSOCChsRVNiIoMJGBBU2IqiwEUGFjQgqbERQYSOCChsRVNiIoMJGBBU2IqiwEUGFjQgqbERQYSOCChu5UX15rasSuMINFX3+/HnTPBpLXetWnGNURNe5CCpsRFBhI4IKGxFU2IigwkYEFTYiqLARQYWNCCpsRFBhI4IKGxFU2IigwkYEFTYiqLARQYWNCCpsBFGZ/tRMhIH+ZJo3L0JEhIEi5v0/1NglcnnkPnMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMTEtMjRUMTA6NDk6MDcrMDA6MDCEIE+cAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA1LTA3VDA5OjEyOjU5KzAwOjAwISTlIwAAAABJRU5ErkJggg==" alt="Description of Figure 5-1 follows" title="Description of Figure 5-1 follows"></span><br>
<a href="img_text/override_tl.html">Description of "Figure 5-1 Using the eclipselink.sessions-xml Persistence Property"</a><br></p>
</div>
<div id="sthref1180" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHGDFAI">Example 5-117</a> shows how to use this property in a
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CIHGDFAI"></a><a id="TLJPA1028"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-117 Using sessions-xml in the persistence.xml file</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.sessions-xml" value="mysession.xml"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDBBJAJ">Example 5-118</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDBBJAJ"></a><a id="TLJPA1029"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-118 Using sessions-xml in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.SESSIONS_XML, "mysession.xml");</code></pre>
</div>
</div>
<div id="sthref1181" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBBEIEA">"Overriding and Merging"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="targetdatabase"></a><a id="TLJPA1133"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="target-database"><a class="anchor" href="#target-database"></a>target-database</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.target-database</code> property to specify the database
to use, controlling custom operations and SQL generation for the
specified database.</p>
</div>
<div id="sthref1182" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIJHJG">Table 5-94</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1134"></a><a id="sthref1183"></a><a id="CHDIJHJG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-94 Valid Values for target-database</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defined in the <code>TargetDatabase</code> class or a fully qualified class name
that extends <code>DatabasePlatform</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specify your database:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Attunity</strong></p>
</li>
<li>
<p><strong>Auto</strong> (Default): EclipseLink attempts to access the database and the
JDBC metadata to determine the target database.</p>
</li>
<li>
<p><strong>Cloudscape</strong></p>
</li>
<li>
<p><strong>Database</strong>: Use a generic database, if your target database is not
listed and your JDBC driver does not support the metadata required for
<strong>Auto</strong>.</p>
</li>
<li>
<p><strong>DB2</strong></p>
</li>
<li>
<p><strong>DB2Mainframe</strong></p>
</li>
<li>
<p><strong>DBase</strong></p>
</li>
<li>
<p><strong>Derby</strong></p>
</li>
<li>
<p><strong>HSQL</strong></p>
</li>
<li>
<p><strong>Informix</strong></p>
</li>
<li>
<p><strong>JavaDB</strong></p>
</li>
<li>
<p><strong>MaxDB</strong></p>
</li>
<li>
<p><strong>MySQL</strong></p>
</li>
<li>
<p><strong>MySQL4</strong></p>
</li>
<li>
<p><strong>Oracle</strong></p>
</li>
<li>
<p><strong>Oracle10</strong></p>
</li>
<li>
<p><strong>Oracle11</strong></p>
</li>
<li>
<p><strong>Oracle8</strong></p>
</li>
<li>
<p><strong>Oracle9</strong></p>
</li>
<li>
<p><strong>PointBase</strong></p>
</li>
<li>
<p><strong>PostgreSQL</strong></p>
</li>
<li>
<p><strong>SQLAnywhere</strong></p>
</li>
<li>
<p><strong>SQLServer</strong></p>
</li>
<li>
<p><strong>Sybase</strong></p>
</li>
<li>
<p><strong>Symfoware</strong></p>
</li>
<li>
<p><strong>TimesTen</strong></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref1184" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>If <code>eclipselink.validation-only</code> = <code>true</code>, you cannot use an <code>Auto</code>
class name or short name.</p>
</div>
<div id="sthref1185" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGGJAG">Example 5-119</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDGGJAG"></a><a id="TLJPA1030"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-119 Using target-database in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.target-database" value="Oracle"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.target-database"
value="org.eclipse.persistence.platform.database.HSQLPlatform"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDEBFEJ">Example 5-120</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDEBFEJ"></a><a id="TLJPA1031"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-120 Using target-database in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.TargetDatabase;
import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.TARGET_DATABASE, TargetDatabase.Oracle);</code></pre>
</div>
</div>
<div id="sthref1186" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#validationonly">"validation-only"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="targetserver"></a><a id="TLJPA1135"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="target-server"><a class="anchor" href="#target-server"></a>target-server</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.target-server</code> property to configure the
<code>ServerPlatform</code> that will be used to enable integration with a host
container. If this property is not specified, the runtime will attempt
to detect which ServerPlatform should be used. If detection fails,
<strong>Default</strong> will be used.</p>
</div>
<div id="sthref1187" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CCHGCDCJ">Table 5-95</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1136"></a><a id="sthref1188"></a><a id="CCHGCDCJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-95 Valid Values for target-server</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defined in the <code>TargetServer</code> class</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specify your application server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>JBoss</strong>: JBoss Application Server</p>
</li>
<li>
<p><strong>OC4J</strong>: OC4J persistence provider</p>
</li>
<li>
<p><strong>SAPNetWeaver_7_1</strong>: SAP NetWeaver Application Server 7.1 (and higher)</p>
</li>
<li>
<p><strong>SunAS9</strong>: Sun Application Server 9</p>
</li>
<li>
<p><strong>WebLogic</strong>: Oracle WebLogic Server</p>
</li>
<li>
<p><strong>WebLogic_10</strong>: Oracle WebLogic Server 10</p>
</li>
<li>
<p><strong>WebLogic_9</strong>: Oracle WebLogic Server 9</p>
</li>
<li>
<p><strong>WebSphere</strong>: IBM WebSphere</p>
</li>
<li>
<p><strong>WebSphere_6_1</strong>: IBM WebSphere 6.1</p>
</li>
<li>
<p><strong>WebSphere_7</strong>: IBM WebSphere 7</p>
</li>
<li>
<p><strong>WebSphere_Liberty</strong>: IBM WebSphere Liberty</p>
</li>
<li>
<p><strong>Default</strong> (<code>TargetServer.None</code>)</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div id="sthref1189" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>In addition to the supplied values, you can specify a custom server
platform by supply the full class name for the platform.</p>
</div>
<div class="paragraph">
<p>Specifying a name of the class implementing
<code>ExternalTransactionController</code> sets <code>CustomServerPlatform</code> with this
controller.</p>
</div>
<div id="sthref1190" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CCHCEIDA">Example 5-121</a> shows how to use this property in a
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CCHCEIDA"></a><a id="TLJPA1032"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-121 Using target-server in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.target-server" value="OC4J_10_1_3"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CCHHAJEH">Example 5-122</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CCHHAJEH"></a><a id="TLJPA1033"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-122 Using target-server in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.TargetServer;
import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put(PersistenceUnitProperties.TARGET_SERVER,
TargetServer.OC4J_10_1_3);</code></pre>
</div>
</div>
<div id="sthref1191" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="paragraph">
<p><a id="temporalmutable"></a><a id="TLJPA54147"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="temporal-mutable"><a class="anchor" href="#temporal-mutable"></a>temporal.mutable</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.temporal.mutable</code> property to configure the default
for detecting changes to the temporal field (Date, Calendar).</p>
</div>
<div id="sthref1192" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDIHHDJ">Table 5-96</a> shows this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54148"></a><a id="sthref1193"></a><a id="CHDIHHDJ"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-96 Valid Values for temporal.mutable</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changes to the object are detected. Disables weaving of
attribute change tracking.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Changes to the object itself are not detected.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1194" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>By default, it is assumed that temporal fields are replaced, and the
temporal object is not changed directly.</p>
</div>
<div id="sthref1195" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDCHDCH">Example 5-123</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDCHDCH"></a><a id="TLJPA54149"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-123 Using temporal.mutable in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.temporal.mutable" value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDGHCDJ">Example 5-124</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDGHCDJ"></a><a id="TLJPA54175"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-124 Using temporal.mutable in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put(PersistenceUnitProperties.TEMPORAL_MUTABLE,
"true");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="tenantid"></a><a id="TLJPA54150"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="tenant-id"><a class="anchor" href="#tenant-id"></a>tenant-id</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.tenant-id</code> property to specify the default context
property used to populate multitenant entities.</p>
</div>
<div id="sthref1196" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGHBII">Table 5-97</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54151"></a><a id="sthref1197"></a><a id="CHDGHBII"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-97 Valid Values for tenant-id</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the default context property.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1198" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>This is a default multitenant property that can be used on its own or
with other properties defined by you. You are not obligated to use this
property. You are free to specify your own.</p>
</div>
<div id="sthref1199" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDFGBED">Example 5-125</a> shows how to use this property in the
`persistence.xml`file.</p>
</div>
<div class="paragraph">
<p><a id="CHDFGBED"></a><a id="TLJPA54152"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-125 Using tenant-id in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.tenant-id" value="Oracle"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHDGGI">Example 5-126</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDHDGGI"></a><a id="TLJPA54153"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-126 Using tenant-id in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put(PersistenceUnitProperties.MULTI_TENANT_PROPERTY_DEFAULT,
"Oracle");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="transactionjoinexisting"></a><a id="TLJPA1137"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="transaction-join-existing"><a class="anchor" href="#transaction-join-existing"></a>transaction.join-existing</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.transaction.join-existing</code> property to force the
persistence context to read through the JTA-managed ("write") connect</p>
</div>
<div class="paragraph">
<p>ion in case there is an active transaction.</p>
</div>
<div id="sthref1200" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CIHBCCII">Table 5-98</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1138"></a><a id="sthref1201"></a><a id="CIHBCCII"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-98 Valid Values for transaction.join-existing</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forces the persistence context to read through the JTA-managed
connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Does not force the persistence context to read
through the JTA-managed connection.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1202" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>The property set in persistence.xml or passed to
<code>createEntityManagerFactory</code> affects all <code>EntityManagers</code> created by the
factory. If the property set to <code>true</code>, objects read during transaction
<em>will not</em> be placed into the shared cache unless they have been
updated. Alternatively, to apply the property only to some
<code>EntityManagers</code>, pass it to <code>createEntityManager</code> method.</p>
</div>
<div id="sthref1203" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEEHAC">Example 5-127</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDEEHAC"></a><a id="TLJPA54176"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-127 Using transaction.join-existing in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.transaction.join-existing" value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHDGAJ">Example 5-128</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDHDGAJ"></a><a id="TLJPA54177"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-128 Using transaction.join-existing in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put(PersistenceUnitProperties.TRANSACTION_JOIN_EXISTING,
"true");</code></pre>
</div>
</div>
<div id="sthref1204" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Automated Tuning" in <em>Solutions Guide for EclispeLink</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="tuning"></a><a id="TLJPA54187"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="tuning-2"><a class="anchor" href="#tuning-2"></a>tuning</h3>
<div class="paragraph">
<p>The <code>eclipselink.tuning</code> property selects the type of tuner to use to
configure the persistence unit.</p>
</div>
<div id="sthref1205" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDECFEA">Table 5-99</a> describes this persistence property&#8217;s values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54188"></a><a id="sthref1206"></a><a id="CHDECFEA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-99 Valid Values for tuning</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>standard</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Uses the standard tuner and does not change any
of the default configuration settings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>safe</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configures the persistence unit for debugging. This disables
caching and several performance optimizations. The purpose is to provide
a simplified development and debugging configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom tuner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the full class name of an implementation of the
<code>org.eclipse.persistence.tools.tuning.SessionTuner</code> interface.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1207" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>Use automated tuning to set multiple configuration properties as part of
a single flag to perform dynamic tuning during different steps of
application deployment.</p>
</div>
<div id="sthref1208" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDFBDDA">Example 5-129</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDFBDDA"></a><a id="TLJPA54189"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-129 Using tuning in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.tuning" value="safe"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="validateexistence"></a><a id="TLJPA1139"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="validate-existence"><a class="anchor" href="#validate-existence"></a>validate-existence</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.validate-existence</code> property to specify if
EclipseLink should verify an object&#8217;s existence on <code>persist()</code>.</p>
</div>
<div id="sthref1209" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BBACJIID">Table 5-100</a> describes this persistence property&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1140"></a><a id="sthref1210"></a><a id="BBACJIID"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-100 Valid Values for validate-existence</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EclipseLink verifies the object&#8217;s existence.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) EclipseLink assumes the object is new, if it is not
in the persistence context.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1211" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>EclipseLink will throw an error if a validated object is not in the
persistence context.</p>
</div>
<div id="sthref1212" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDHEBBG">Example 5-130</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDHEBBG"></a><a id="TLJPA54178"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-130 Using validate-existence in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.validate-existence" value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDBEGBB">Example 5-131</a> shows how to use this property in a
proptery map.</p>
</div>
<div class="paragraph">
<p><a id="CHDBEGBB"></a><a id="TLJPA54179"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-131 Using validate-existence in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put(PersistenceUnitProperties.VALIDATE-EXISTENCE,
"true");</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="validationonly"></a><a id="TLJPA1141"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="validation-only"><a class="anchor" href="#validation-only"></a>validation-only</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.validation-only</code> property to validate deployments
by initializing descriptors but not connecting to the data source.</p>
</div>
<div id="sthref1213" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGIEBD">Table 5-101</a> describes this persistence property&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1142"></a><a id="sthref1214"></a><a id="CHDGIEBD"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-101 Valid Values for validation-only</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EclipseLink will initialize the descriptors but not log in.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) EclipseLink will initialize the descriptors and log
in.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1215" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>When setting <code>eclipselink.validation-only</code> to <code>true</code>, you must also
configure <code>eclipselink.target-database</code> with a non-Auto class name or a
short name.</p>
</div>
<div id="sthref1216" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDJIFBC">Example 5-132</a> show how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDJIFBC"></a><a id="TLJPA1034"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-132 Using validation-only in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.validation-only" value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDIHEBJ">Example 5-133</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDIHEBJ"></a><a id="TLJPA54180"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-133 Using validation-only in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertyMap.put(PersistenceUnitProperties.VALIDATION_ONLY,
"true");</code></pre>
</div>
</div>
<div id="sthref1217" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#targetdatabase">"target-database"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="prop.weaving"></a><a id="TLJPA1143"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="weaving-2"><a class="anchor" href="#weaving-2"></a>weaving</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.weaving</code> property to specify if EclipseLink weaves
the entity classes. EclipseLink JPA uses weaving to enhance JPA entities
for such things as lazy loading, change tracking, fetch groups, and
internal optimizations.</p>
</div>
<div id="sthref1218" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDDFGDI">Table 5-102</a> describes this persistence property&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54122"></a><a id="sthref1219"></a><a id="CHDDFGDI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-102 Valid values for weaving</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Weave the entity classes dynamically.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not weave the entity classes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>static</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Weave the entity classes statically.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1220" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDEIGFH">Example 5-134</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDEIGFH"></a><a id="TLJPA54123"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-134 Using weaving in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipse.weaving" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDIGBIG">Example 5-135</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDIGBIG"></a><a id="TLJPA54124"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-135 Using weaving in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put
(PersistenceUnitProperties.WEAVING, "false");</code></pre>
</div>
</div>
<div id="sthref1221" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Using Weaving" in <em>Understanding EclipseLink</em></p>
</li>
<li>
<p>"Enhancing Performance" in
<em><a href="http://eclipse.org/eclipselink/documentation/">Solutions Guide for
EclipseLink</a></em></p>
</li>
<li>
<p><a href="#weavingchangetracking">"weaving.changetracking"</a></p>
</li>
<li>
<p><a href="#weavingeager">"weaving.eager"</a></p>
</li>
<li>
<p><a href="#weavingfetchgroups">"weaving.fetchgroups"</a></p>
</li>
<li>
<p><a href="#weavinginternal">"weaving.internal"</a></p>
</li>
<li>
<p><a href="#CEGCCCCJ">"@ChangeTracking"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="weavingchangetracking"></a><a id="TLJPA54125"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="weaving-changetracking"><a class="anchor" href="#weaving-changetracking"></a>weaving.changetracking</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.weaving.changetracking</code> persistence property to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enable <code>AttributeLevelChangeTracking</code> through weaving.</p>
</li>
<li>
<p>Permit only classes with all mappings to change.</p>
</li>
<li>
<p>Permit tracking to enable change tracking. Mutable basic attributes
prevent change tracking.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This property is enabled only when weaving is enabled.</p>
</div>
<div id="sthref1222" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGAACE">Table 5-103</a> describes this persistence property&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54126"></a><a id="sthref1223"></a><a id="CHDGAACE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-103 Valid Values for weaving.changetracking</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Enables this property.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disables this property.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1224" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDCCAFF">Example 5-136</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDCCAFF"></a><a id="TLJPA54127"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-136 Using weaving.changetracking in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipse.weaving.changetracking" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDHDAEG">Example 5-137</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDHDAEG"></a><a id="TLJPA54128"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-137 Using weaving.changetracking in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipselink.persistence.config.PersistenceUnitProperties;
propertiesMap.put
(Persistence.Unit.Properties.WEAVING_CHANGETRACKING,
value="false");</code></pre>
</div>
</div>
<div id="sthref1225" class="ulist">
<ul>
<li>
<p>+
See Also*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#prop.weaving">"weaving"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="weavingeager"></a><a id="TLJPA1035"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="weaving-eager"><a class="anchor" href="#weaving-eager"></a>weaving.eager</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.weaving.eager</code> property to specify if EclipseLink
uses indirection on eager relationships.</p>
</div>
<div id="sthref1226" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFACAI">Table 5-104</a> describes this persistence property&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1036"></a><a id="sthref1227"></a><a id="BABFACAI"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-104 Valid Values for weaving.eager</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables indirection on eager relationships through weaving.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Disables indirection on eager relationships through
weaving.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1228" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>One-to-one and many-to-one mappings, even when configured with
<code>FetchType.EAGER</code>, will effectively become "lazy."</p>
</div>
<div class="paragraph">
<p>You can use this extension only if <code>weaving</code> is configured to <code>true</code> or
<code>static</code>. See <a href="#prop.weaving">"weaving"</a> for more information.</p>
</div>
<div id="sthref1229" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABFGADF">Example 5-138</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABFGADF"></a><a id="TLJPA1037"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-138 Using weaving in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.weaving.eager" value="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABEECEE">Example 5-139</a> shows how to use this extension in a
property map</p>
</div>
<div class="paragraph">
<p><a id="BABEECEE"></a><a id="TLJPA1038"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-139 Using weaving in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put
(PersistenceUnitProperties.WEAVING_EAGER, "true");</code></pre>
</div>
</div>
<div id="sthref1230" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#prop.weaving">"weaving"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="weavingfetchgroups"></a><a id="TLJPA54129"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="weaving-fetchgroups"><a class="anchor" href="#weaving-fetchgroups"></a>weaving.fetchgroups</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.weaving.fetchgroups</code> property to enable
<code>FetchGroups</code> through weaving. When this is enabled, lazy direct mapping
is supported, as well as descriptor and query-level <code>FetchGroups</code>.</p>
</div>
<div class="paragraph">
<p><code>FetchGroups</code> allow partial objects to be read and written. Access to
un-fetched attributes refreshes (fully-fetches) the object.</p>
</div>
<div class="paragraph">
<p>This property is only considered when weaving is enabled.</p>
</div>
<div id="sthref1231" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDFIGGA">Table 5-105</a> describes this persistence property&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA54130"></a><a id="sthref1232"></a><a id="CHDFIGGA"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-105 Valid Values for weaving.fetchgroups</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Enables <code>FetchGroups</code> through weaving.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disables <code>FetchGroups</code> through weaving.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1233" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#CHDGJJBB">Example 5-140</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="CHDGJJBB"></a><a id="TLJPA54131"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-140 Using weaving.fetchgroups in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.weaving.fetchgroups value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#CHDCJBAJ">Example 5-141</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="CHDCJBAJ"></a><a id="TLJPA54132"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-141 Using weaving.fetchgroups in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put
(PersistenceUnitProperties.WEAVING_FETCHGROUPS, "false")</code></pre>
</div>
</div>
<div id="sthref1234" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#prop.weaving">"weaving"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="weavinginternal"></a><a id="TLJPA1039"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="weaving-internal"><a class="anchor" href="#weaving-internal"></a>weaving.internal</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.weaving.internal</code> property to specify if
EclipseLink uses internal optimizations through weaving.</p>
</div>
<div id="sthref1235" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCGIJB">Table 5-106</a> describes this persistence property&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1040"></a><a id="sthref1236"></a><a id="BABCGIJB"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-106 Valid Values for weaving.internal</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Enables internal optimizations through weaving.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disables internal optimizations through weaving.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1237" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use this extension only if <code>weaving</code> is configured to <code>true</code> or
<code>static</code>. See <a href="#prop.weaving">"weaving"</a> for more information.</p>
</div>
<div id="sthref1238" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABBBCEI">Example 5-142</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABBBCEI"></a><a id="TLJPA1041"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-142 Using weaving in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.weaving.internal" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABFHGDC">Example 5-143</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="BABFHGDC"></a><a id="TLJPA1042"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-143 Using weaving in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put
(PersistenceUnitProperties.WEAVING_INTERNAL, "false");</code></pre>
</div>
</div>
<div id="sthref1239" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#prop.weaving">"weaving"</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="weavinglazy"></a><a id="TLJPA1043"></a></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="weaving-lazy"><a class="anchor" href="#weaving-lazy"></a>weaving.lazy</h3>
<div class="paragraph">
<p>Use the <code>eclipselink.weaving.lazy</code> property to specify if EclipseLink
uses lazy one-to-one and many-to-one mappings.</p>
</div>
<div id="sthref1240" class="paragraph">
<p><strong>Values</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABHEIHE">Table 5-107</a> describes this persistence property&#8217;s
values.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA1044"></a><a id="sthref1241"></a><a id="BABHEIHE"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 5-107 Valid Values for weaving.lazy</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Default) Enables lazy one-to-one and many-to-one mappings
through weaving.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disables lazy one-to-one and many-to-one mappings through
weaving.</p></td>
</tr>
</tbody>
</table>
<div id="sthref1242" class="paragraph">
<p><strong>Usage</strong></p>
</div>
<div class="paragraph">
<p>You can use this extension only if <code>weaving</code> is configured to <code>true</code> or
<code>static</code>. See <a href="#prop.weaving">"weaving"</a> for more information.</p>
</div>
<div id="sthref1243" class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p><a href="#BABCJAID">Example 5-144</a> shows how to use this property in the
<code>persistence.xml</code> file.</p>
</div>
<div class="paragraph">
<p><a id="BABCJAID"></a><a id="TLJPA1045"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-144 Using weaving.lazy in persistence.xml</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;property name="eclipselink.weaving.lazy" value="false"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#BABHJIGA">Example 5-145</a> shows how to use this property in a
property map.</p>
</div>
<div class="paragraph">
<p><a id="BABHJIGA"></a><a id="TLJPA1046"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Example 5-145 Using weaving.lazy in a Property Map</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">import org.eclipse.persistence.config.PersistenceUnitProperties;
propertiesMap.put
(PersistenceUnitProperties.WEAVING_LAZY, "false");</code></pre>
</div>
</div>
<div id="sthref1244" class="paragraph">
<p><strong>See Also</strong></p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#prop.weaving">"weaving"</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="eclipselink-orm-xml-schema-reference"><a class="anchor" href="#eclipselink-orm-xml-schema-reference"></a>6. eclipselink-orm.xml Schema Reference</h2>
<div class="sectionbody">
<div id="TLJPA54097" class="paragraph">
<p>This chapter describes how you can use EclipseLink&#8217;s native metadata XML
file, <code>eclipselink-orm.xml</code>, to override mappings defined in the JPA
configuration file (<code>orm.xml</code>) and to provide extended ORM features.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Using the <code>eclipselink-orm.xml</code> mapping file enables many EclipseLink
advanced features, but it may prevent the persistence unit from being
portable to other JPA implementations.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>eclipselink-orm.xml</code> file defines object-relational mapping
metadata for EclipseLink. It has the same basic structure as the
<code>orm.xml</code> file, which makes it more intuitive, requires minimum
configuration, and makes it easy to override.</p>
</div>
<div class="paragraph">
<p>For more information, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Section 12.2 "XML Overriding Rules" in the JPA Specification</p>
</li>
<li>
<p><code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Configuration/JPA/orm.xml" class="bare">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Configuration/JPA/orm.xml</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The schema for EclipseLink is <code>eclipselink_orm_X_X.xsd</code> where X_X is the
current EclipseLink version number (such as <code>2_4</code> for <strong>2.4</strong>). All
EclipseLink schemas are available from
<code><a href="http://wiki.eclipse.org/EclipseLink/XSDs" class="bare">http://wiki.eclipse.org/EclipseLink/XSDs</a></code>.</p>
</div>
<div class="paragraph">
<p>This chapter includes the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBBEIEA">Overriding and Merging</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBBEIEA"></a><a id="TLJPA689"></a></p>
</div>
<div class="sect2">
<h3 id="overriding-and-merging"><a class="anchor" href="#overriding-and-merging"></a>Overriding and Merging</h3>
<div class="paragraph">
<p>To override the <code>orm.xml</code> file&#8217;s mapping, you must define the
<code>META-INF/eclipselink-orm.xml</code> file in the project. When both <code>orm.xml</code>
and <code>eclipselink-orm.xml</code> are specified, the contents of
<code>eclipselink-orm.xml</code> will override <code>orm.xml</code> and any other JPA mapping
file specified in the persistence unit. If there are overlapping
specifications in multiple ORM files, the files are merged if they are
no conflicting entities.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The order of files defined in <code>persistence.xml</code> <em>does not</em> define the
order of their processing. The files are processed, merged, and
overridden as determined by the rules.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See the following sections for more information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBJBFDH">Rules for Overriding and Merging</a></p>
</li>
<li>
<p><a href="#BGBGFDDF">Examples of Overriding and Merging</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBJBFDH"></a><a id="TLJPA690"></a></p>
</div>
<div class="sect3">
<h4 id="rules-for-overriding-and-merging"><a class="anchor" href="#rules-for-overriding-and-merging"></a>Rules for Overriding and Merging</h4>
<div class="paragraph">
<p>EclipseLink provides specific overriding and merging rules for the
following elements defined in the <code>orm.xml</code> file:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#BGBFCDBF">Persistence Unit Metadata</a></p>
</li>
<li>
<p><a href="#BGBDIICB">Entity Mappings</a></p>
</li>
<li>
<p><a href="#BGBIAAAH">Mapped Superclasses</a></p>
</li>
<li>
<p><a href="#BGBJAIBF">Entity override and merging rules</a></p>
</li>
<li>
<p><a href="#BGBIJGGA">Embeddable</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="BGBFCDBF"></a><a id="TLJPA691"></a></p>
</div>
<div class="sect4">
<h5 id="persistence-unit-metadata"><a class="anchor" href="#persistence-unit-metadata"></a>Persistence Unit Metadata</h5>
<div class="paragraph">
<p>In <code>eclipselink-orm.xml</code>, a <code>persistence-unit-metadata</code> element merges
or overrides the values of existing <code>persistence-unit-metadata</code>
specification as defined in <a href="#BGBGIFHH">Table 6-1</a>.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA692"></a><a id="sthref1246"></a><a id="BGBGIFHH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 6-1 Overriding and Merging Persistence Unit Metadata</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>entity-mappings/ persistence-unit-metadata</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Rule</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xml-mapping-metadata- complete</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If specified, the
complete set of mapping metadata for the persistence unit is contained
in the XML mapping files for the persistence unit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>persistence-unit-defaults/ schema</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a <code>schema</code>
setting exists, then the <code>eclipselink-orm.xml</code> <code>schema</code> setting
overrides the existing setting or creates a new <code>schema</code> setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>persistence-unit-defaults/ catalog</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a <code>catalog</code>
setting exists, then the <code>eclipselink-orm.xml</code> <code>catalog</code> setting
overrides the existing setting or creates a new <code>catalog</code> setting</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>persistence-unit-defaults/ access</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an <code>access</code>
setting exists, then the <code>eclipselink-orm.xml</code> <code>access</code> setting
overrides the existing setting, or creates a new <code>access</code> setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>entity-mappings/persistence-unit-metadata/persistence-unit-defaults/cascade- persist</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a <code>cascade-persist</code> setting exists, then the
<code>eclipselink-orm.xml</code> <code>cascade-persist</code> setting overrides the existing
setting or creates a new <code>cascade-persist</code> setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>entity-mappings/persistence-unit-metadata/persistence-unit-defaults/entity- listeners</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an <code>entity-listeners</code> exists, then the <code>eclipselink-orm.xml</code>
<code>entity-listeners</code> will be merged with the list of all
<code>entity-listeners</code> from the persistence unit</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="BGBDIICB"></a><a id="TLJPA693"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="entity-mappings"><a class="anchor" href="#entity-mappings"></a>Entity Mappings</h5>
<div class="paragraph">
<p>Entities, embeddables and mapped superclasses are defined within the
<code>entity-mappings</code> section. The <code>eclipselink-orm.xml</code> entities,
embeddables and mapped superclasses are added to the persistence unit as
defined in <a href="#BGBJEBHG">Table 6-2</a>.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA694"></a><a id="sthref1247"></a><a id="BGBJEBHG"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 6-2 Overriding and Merging Entity Mappings</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>entity-mappings/</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Rule</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>package</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>package</code> element specifies the package of the
classes listed within the subelements and attributes of the same mapping
file only. It is only applicable to those entities that are fully
defined within the <code>eclipselink-orm.xml</code> file, else its usage remains
local and is same as described in the JPA specification.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>catalog</code> element applies only to the subelements
and attributes listed within the <code>eclipselink-orm.xml</code> file that are not
an extension to another mapping file. Otherwise, the use of the catalog
element within the <code>eclipselink-orm.xml</code> file remains local and is same
as described in the JPA specification.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>schema</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The schema element applies only to the subelements and
attributes listed within the <code>eclipselink-orm.xml</code> file that are not an
extension to another mapping file. Otherwise, the use of the schema
element within the <code>eclipselink-orm.xml</code> file remains local and is same
as described in the JPA specification.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>access</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The access element applies only to the subelements and
attributes listed within the <code>eclipselink-orm.xml</code> file that are not an
extension to another mapping file. Otherwise, the use of the access
element within the <code>eclipselink-orm.xml</code> file remains local and is same
as described in the JPA specification.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sequence-generator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>sequence-generator</code> is unique
by name. The sequence-generator defined in the <code>eclipselink-orm.xml</code>
will override a sequence-generator of the same name defined in another
mapping file. Outside of the overriding case, an exception is thrown if
two or more <code>sequence-generators</code> with the same name are defined in one
or across multiple mapping files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table-generator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>table-generator</code> is unique by
name. The table-generator defined in the <code>eclipselink-orm.xml</code> will
override a table-generator of the same name defined in another mapping
file. Outside of the overriding case, an exception is thrown if two or
more <code>table-generators</code> with the same name are defined in one or across
multiple mapping files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>named-query</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>named-query</code> is unique by name. The
named-query defined in the <code>eclipselink-orm.xml</code> will override a
named-query of the same name defined in other mapping files. Outside of
the overriding case, an exception is thrown if two or more
<code>named-querys</code> with the same name are defined in one or across multiple
mapping file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>named-native-query</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>named-native-query</code> is unique
by name. The <code>named-native-query</code> defined in the <code>eclipselink-orm.xml</code>
will override a <code>named-native-query</code> of the same name defined in other
mapping files. Outside of the overriding case, an exception is thrown if
two or more <code>named-native-querys</code> with the same name are defined in one
or across multiple mapping files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sql-result-set-mapping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>sql-result-set-mapping</code> is
unique by name. The sql-result-set-mapping defined in the
<code>eclipselink-orm.xml</code> will override a <code>sql-result-set-mapping</code> of the
same name defined in other mapping files. Outside of the overriding
case, an exception is thrown if two or more <code>sql-result-set-mapping</code>
entities with the same name are defined in one or across multiple
mapping files.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="BGBIAAAH"></a><a id="TLJPA695"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="mapped-superclasses"><a class="anchor" href="#mapped-superclasses"></a>Mapped Superclasses</h5>
<div class="paragraph">
<p>A mapped-superclass can be defined completely, or with specific elements
to provide extensions to a mapped-superclass from another mapping file.
<a href="#BGBBFABH">Table 6-3</a> lists individual override and merging rules:</p>
</div>
<div class="paragraph">
<p><a id="TLJPA696"></a><a id="sthref1248"></a><a id="BGBBFABH"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 6-3 Overriding and Merging Mapped Superclasses</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>entity-mappings/mapped-superclass</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Rule</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id-class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an <code>id-class</code> exists, then the
<code>eclipselink-orm.xml</code> <code>id-class</code> setting overrides the existing setting,
or creates a new <code>id-class</code> setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exclude-default- listeners</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an
<code>exclude-default-listeners</code> exists, then the <code>eclipselink-orm.xml</code>
<code>exclude-default-listeners</code> setting will be applied. If the
<code>exclude-default-listeners</code> setting is not specified, it will not
override an existing setting, that is essentially turning it off.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exclude-superclass- listeners</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an
<code>exclude-superclass-listeners</code> setting exists, then the
<code>eclipselink-orm.xml</code> <code>exclude-superclass-listeners</code> setting will be
applied. If exclud`e-superclass-listen`ers setting is not specified, it
will not override an existing setting, that is essentially turning it
off.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>entity-listeners</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merge and full override</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If an <code>entity-listeners</code> setting exists, then the <code>eclipselink-orm.xml</code>
<code>entity-listeners</code> setting will override and merge with an existing
setting, or creates a new <code>entity-listeners</code> setting all together.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> An entity listener override must be complete. All lifecycle
methods of that listener must be specified and no merging of individual
lifecycle methods of an entity listener is allowed. The class name of
the listener is the key to identify the override.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pre-persist</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a <code>pre-persist</code> setting exists, then
the <code>eclipselink-orm.xml</code> <code>pre-persist</code> setting overrides the existing
setting, or creates a new <code>pre-persist</code> setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>post-persist</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a <code>post-persist</code> setting exists, then
the <code>eclipselink-orm.xml</code> <code>post-persist</code> setting overrides the existing
setting, or creates a new <code>post-persist</code> setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pre-remove</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a pre-remove setting exists, then the
eclipselink-orm.xml&#8217;s pre-remove setting overrides the existing setting,
or creates a new pre-remove setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>post-remove</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a post-remove setting exists, then the
eclipselink-orm.xml&#8217;s post-remove setting overrides the existing
setting, or creates a new post-remove setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pre-update</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a pre-update setting exists, then the
eclipselink-orm.xml&#8217;s pre-update setting overrides the existing setting,
or creates a new pre-update setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>post-update</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a post-update setting exists, then the
eclipselink-orm.xml&#8217;s post-update setting overrides the existing
setting, or creates a new post-update setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>post-load</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a post-load setting exists, then the
eclipselink-orm.xml&#8217;s post-load setting overrides the existing setting,
or creates a new post-load setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attributes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merge and mapping level override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the <code>attribute</code>
settings (such as <code>id</code>, <code>embedded-id</code>, <code>basic</code>, <code>version</code>,
<code>many-to-one</code>, <code>one-to-many</code>, or <code>one-to-one</code>) exist at the mapping
level, then the <code>eclipselink-orm.xml</code> attributes merges or overrides the
existing settings, else creates new attributes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>access</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an access setting exists, then the
eclipselink-orm.xml&#8217;s access setting overrides the existing setting, or
creates a new access setting. It also overrides the default class
setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata-complete</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a metadata-complete setting
exists, then the eclipselink-orm.xml&#8217;s metadata-complete setting will be
applied. If metadata-complete setting is not specified, it will not
override an existing setting, that is essentially turning it off.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="BGBJAIBF"></a><a id="TLJPA697"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="entity-override-and-merging-rules"><a class="anchor" href="#entity-override-and-merging-rules"></a>Entity override and merging rules</h5>
<div class="paragraph">
<p>An entity can be defined completely, or with specific elements to
provide extensions to an entity from another mapping file. The following
table lists individual override and merging rules:</p>
</div>
<div class="paragraph">
<p><a id="TLJPA698"></a><a id="sthref1249"></a><a id="BGBEDIBC"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 6-4 Overriding and Merging Entities</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>entity-mappings/entity</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Rule</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The table definition overrides any other table
setting (with the same name) for this entity. There is no merging of
individual table values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>secondary-table</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The secondary-table definition
overrides another secondary-table setting (with the same name) for this
entity. There is no merging of individual secondary-table(s) values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>primary-key-join-column</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
primary-key-join-column(s) definition overrides any other
primary-key-join-column(s) setting for this entity. There is no merging
of the primary-key-join-column(s). The specification is assumed to be
complete and these primary-key-join-columns are the source of truth.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id-class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an id-class setting exists, then the
eclipselink-orm.xml&#8217;s id-class setting overrides the existing setting,
or creates a new id-class .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>inheritance</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an inheritance setting exists, then
the eclipselink-orm.xml&#8217;s inheritance setting overrides the existing
setting, or creates a new inheritance setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>discriminator-value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a discriminator-value setting
exists, then the eclipselink-orm.xml&#8217;s discriminator-value setting
overrides the existing setting, or creates a new discriminator-value
setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>discriminator-column</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a discriminator-column
setting exists, then the eclipselink-orm.xml&#8217;s discriminator-column
setting overrides the existing setting, or creates a new
discriminator-column setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sequence-generator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A sequence-generator is unique by
name. The sequence-generator defined in eclipselink-orm.xml overrides
sequence-generator of the same name defined in other mapping files.
Outside of the overriding case, an exception is thrown if two or more
sequence-generators with the same name are defined in one or across
multiple mapping files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table-generator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A table-generator is unique by name.
The table-generator defined in eclipselink-orm.xml overrides
table-generator of the same name defined in other mapping files. Outside
of the overriding case, an exception is thrown if two or more
table-generators with the same name are defined in one or across
multiple mapping files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>named-query</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merge and full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A named-query is unique by
name. The named-query defined in eclipselink-orm.xml overrides any
named-query of the same name defined in other mapping files. Outside of
the overriding case, an exception is thrown if two or more <code>named-query</code>
elements with the same name are defined in one or across multiple
mapping files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>named-native-query</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merge and full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A named-native-query is
unique by name. The named-native-query defined in eclipselink-orm.xml
overrides named-native-query of the same name defined in other mapping
files. Outside of the overriding case, an exception is thrown if two or
more named-native-query elements with the same name are defined in one
or across multiple mapping files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sql-result-set-mapping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merge and full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A
sql-result-set-mapping is unique by name. sql-result-set-mapping defined
in eclipselink-orm.xml overrides sql-result-set-mapping of the same name
defined in other mapping files. Outside of the overriding case, an
exception is thrown if two or more sql-result-set-mapping elements with
the same name are defined in one or across multiple mapping files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exclude-default-listeners</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an
exclude-default-listeners setting exists, then the eclipselink-orm.xml&#8217;s
exclude-default-listeners setting will be applied. If an
exclude-default-listeners setting is not specified, it will not override
an existing setting, that is essentially turning it off.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exclude-superclass-listeners</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an
exclude-superclass-listeners setting exists, then the
eclipselink-orm.xml&#8217;s exclude-superclass-listeners setting will be
applied. If an exclude-superclass-listeners setting is not specified, it
will not override an existing setting, that is essentially turning it
off.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>entity-listeners</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If an entity-listeners setting exists, then the eclipselink-orm.xml&#8217;s
entity-listeners setting will override and merge with an existing
setting, or creates a new entity-listeners setting all together.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: An entity listener override must be complete. All lifecycle
methods of that listener must be specified and no merging of individual
lifecycle methods of an entity listener is allowed. The class name of
the listener is the key to identify the override.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pre-persist</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a pre-persist setting exists, then the
eclipselink-orm.xml&#8217;s pre-persist setting overrides the existing
setting, or creates a new pre-persist setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>post-persist</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a post-persist setting exists, then
the eclipselink-orm.xml&#8217;s post-persist setting overrides the existing
setting, or creates a new post-persist setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pre-remove</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a pre-remove setting exists, then the
eclipselink-orm.xml&#8217;s pre-remove setting overrides the existing setting,
or creates a new pre-remove setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>post-remove</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a post-remove setting exists, then the
eclipselink-orm.xml&#8217;s post-remove setting overrides the existing
setting, or creates a new post-remove setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pre-update</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a pre-update setting exists, then the
eclipselink-orm.xml&#8217;s pre-update setting overrides the existing setting,
or creates a new pre-update setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>post-update</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">f a post-update setting exists, then the
eclipselink-orm.xml&#8217;s post-update setting overrides the existing
setting, or creates a new post-update setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>post-load</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a post-load setting exists, then the
eclipselink-orm.xml&#8217;s post-load setting overrides the existing setting,
or creates a new post-load setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attributes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merge and mapping level override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the attribute
settings (id, embedded-id, basic, version, many-to-one, one-to-many,
one-to-one) exist at the mapping level, then the eclipselink-orm.xml&#8217;s
attributes merges or overrides the existing settings, else creates new
attributes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>association-override</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merge and mapping level override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an
association-override setting exists, then the eclipselink-orm.xml&#8217;s
association-override setting overrides the existing setting, or creates
a new association-override setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a name setting exists, then the
eclipselink-orm.xml&#8217;s name setting overrides the existing setting, or
creates a new name setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>access</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an access setting exists, then the
eclipselink-orm.xml&#8217;s access setting overrides the existing setting, or
creates a new access setting. It also overrides the default class
setting</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata-complete</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a metadata-complete setting
exists, then the eclipselink-orm.xml&#8217;s metadata-complete setting will be
applied. If a metadata-complete setting is not specified, it will not
override an existing setting, that is essentially turning it off.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="BGBIJGGA"></a><a id="TLJPA699"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="embeddable"><a class="anchor" href="#embeddable"></a>Embeddable</h5>
<div class="paragraph">
<p>An embeddable can be defined wholly or may be defined so as to provide
extensions to an embeddable from another mapping file. Therefore, we
will allow the merging of that class' metadata. <a href="#BGBEDIBC">Table
6-4</a> lists the individual override rules Embeddable classes.</p>
</div>
<div class="paragraph">
<p><a id="TLJPA700"></a><a id="sthref1250"></a><a id="sthref1251"></a></p>
</div>
<div class="paragraph">
<p><strong><em>Table 6-5 Overriding and Merging Embeddable Classes</em></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>entity-mappings/ embeddable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Rule</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attributes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override and merge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the attribute settings (id,
embedded-id, basic, version, many-to-one, one-to-many, one-to-one,
many-to-many, embedded, transient) exist at the mapping level, then the
eclipselink-orm.xml&#8217;s attributes merges or overrides the existing
settings, or creates new attributes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>class</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>access</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an access setting exists, then the
eclipselink-orm.xml&#8217;s access setting overrides the existing setting, or
creates a new access setting. It also overrides the default class
setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata-complete</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full override</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a metadata-complete setting
exists, then the eclipselink-orm.xml&#8217;s metadata-complete setting will be
applied. If a metadata-complete setting is not specified, it will not
override an existing setting, that is essentially turning it off.</p></td>
</tr>
</tbody>
</table>
<div class="literalblock">
<div class="content">
<pre>+</pre>
</div>
</div>
<div class="paragraph">
<p><a id="BGBGFDDF"></a><a id="TLJPA701"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="examples-of-overriding-and-merging"><a class="anchor" href="#examples-of-overriding-and-merging"></a>Examples of Overriding and Merging</h5>
<div id="TLJPA702" class="paragraph">
<p><strong><em>Example 6-1 Overriding/Merging Example 1</em></strong></p>
</div>
<div class="paragraph">
<p>In this example, your EclipseLink project contains:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>META-INF/orm.xml</code> – Defines Entity <strong>A</strong> with the mappings <strong>b</strong> and <strong>c</strong></p>
</li>
<li>
<p><code>META-INF/eclipselink-orm.xml</code> – Defines Entity <strong>A</strong> with the mappings
<strong>c</strong> and <strong>d</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Results in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Entity <strong>A</strong> containing:</p>
<div class="ulist">
<ul>
<li>
<p>mapping <strong>b</strong> (from <code>orm.xml</code>)</p>
</li>
<li>
<p>mappings <strong>c</strong> and <strong>d</strong> (from <code>eclipselink-orm.xml</code>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="TLJPA703" class="paragraph">
<p><strong><em>Example 6-2 Overriding/Merging Example 2</em></strong></p>
</div>
<div class="paragraph">
<p>In this example, your EclipseLink project contains:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>META-INF/orm.xml</code> – Defines Entity <strong>A</strong> with mappings <strong>b</strong> and <strong>c</strong></p>
</li>
<li>
<p><code>META-INF/some-other-mapping-file.xml</code> – Defines Entity <strong>B</strong> with
mappings <strong>a</strong> and <strong>b</strong></p>
</li>
<li>
<p><code>META-INF/eclipselink-orm.xml</code> – Defines Entity <strong>A</strong> with the mappings
<strong>c</strong> and <strong>d</strong>, and Entity <strong>B</strong> with mapping <strong>b</strong> and <strong>c</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Results in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Entity A containing:</p>
<div class="ulist">
<ul>
<li>
<p>mapping <strong>b</strong> (from <code>orm.xml</code>)</p>
</li>
<li>
<p>mappings <strong>c</strong> and <strong>d</strong> (from <code>eclipselink-orm.xml</code>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Entity B containing:</p>
<div class="ulist">
<ul>
<li>
<p>mapping <strong>a</strong> (from <code>some-other-mapping-file</code>)</p>
</li>
<li>
<p>mappings <strong>b</strong> and <strong>c</strong> (from <code>eclipselink-orm.xml</code>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="TLJPA704" class="paragraph">
<p><strong><em>Example 6-3 Overriding/Merging Example 3</em></strong></p>
</div>
<div class="paragraph">
<p>In this example, your EclipseLink project contains:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>META-INF/orm.xml</code> – Defines Entity <strong>A</strong> with mappings <strong>b</strong> and <strong>c</strong>.</p>
</li>
<li>
<p><code>META-INF/eclipselink-orm.xml</code> – Defines Entity <strong>A</strong> with mappings <strong>c</strong>
and <strong>d</strong>.</p>
</li>
<li>
<p><code>META-INF/some-other-mapping-file.xml</code> – Defines Entity <strong>A</strong> with
mapping <strong>x</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Results in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Entity <strong>A</strong> containing:</p>
<div class="ulist">
<ul>
<li>
<p>mapping <strong>b</strong> (from <code>orm.xml</code>)</p>
</li>
<li>
<p>mappings <strong>c</strong> and <strong>d</strong> (from <code>eclipselink-orm.xml</code>)</p>
</li>
<li>
<p>mapping <strong>x</strong> (from <code>some-other-mapping-file.xml</code>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="TLJPA705" class="paragraph">
<p><strong><em>Example 6-4 Overriding/Merging Example 4</em></strong></p>
</div>
<div class="paragraph">
<p>In this example, your EclipseLink project contains:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>META-INF/orm.xml</code> – Defines Entity <strong>A</strong> with mappings <strong>b</strong> and <strong>c</strong>.</p>
</li>
<li>
<p><code>META-INF/extensions/eclipselink-orm.xml</code> – Defines defines Entity <strong>A</strong>
with mappings <strong>c</strong> and <strong>d</strong>.</p>
<div class="paragraph">
<p>Note: The file is added through a <code>&lt;mapping-file&gt;</code> tag in the
<code>persistence.xml</code> file.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Results in an exception, due to conflicting specifications for mapping
<strong>c</strong>.</p>
</div>
<div id="TLJPA706" class="paragraph">
<p><strong><em>Example 6-5 Overriding/Merging Example 5</em></strong></p>
</div>
<div class="paragraph">
<p>In this example, your EclipseLink project contains:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>META-INF/orm.xml</code> – Defines Entity <strong>A</strong> with mappings <strong>b</strong> and <strong>c</strong></p>
</li>
<li>
<p><code>META-INF/jpa-mapping-file.xml</code> – Defines Entity <strong>A</strong> with mappings <strong>a</strong>
and <strong>d</strong></p>
</li>
<li>
<p><code>META-INF/extensions/eclipse-mapping-file.xml</code> – Defines defines
Entity <strong>A</strong> with mappings <strong>c</strong> and <strong>d</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Results in an exception, due to conflicting specifications for mapping
<strong>c</strong> or <strong>d</strong> (which ever is processed first).</p>
</div>
<hr>
<div class="paragraph">
<p>Copyright © 2022 by The Eclipse Foundation under the <a href="http://www.eclipse.org/org/documents/epl-v10.php">Eclipse Public License (EPL)</a>
Updated: 2023-01-02 14:37:02 +0100</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. The default is inferred from the type of the persistence field or property.
</div>
</div>
</body>
</html>