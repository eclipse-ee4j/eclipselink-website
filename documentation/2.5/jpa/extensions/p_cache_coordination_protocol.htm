<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<title>cache.coordination.protocol | EclipseLink 2.5.x Java Persistence API (JPA) Extensions Reference</title>
<meta name="generator" content="Oracle DARB XHTML Converter (Mode = document) - Version 1.0.11" />
<meta name="date" content="2013-01-28T8:35:46Z" />
<meta name="robots" content="noarchive" />
<meta name="doctitle" content="cache.coordination.protocol" />
<meta name="relnum" content="Release 2.5" />
<link rel="stylesheet" type="text/css" href="../../../dcommon/style.css" media="screen" />
<link rel="copyright" href="http://www.eclipse.org/org/documents/epl-v10.php" title="Copyright" type="text/html" />  
<link rel="start" href="../../index.htm" title="Home" type="text/html" />
<link rel="contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="prev" href="p_cache_coordination_propagate.htm" title="Previous" type="text/html" />
<link rel="next" href="p_cache_coordination_removeconnection.htm" title="Next" type="text/html" />
<!-- START: Disqus --><script type="text/javascript">  var disqus_developer = 0; </script><!-- END: Disqus --><!-- START: Sharethis --><script type="text/javascript">var switchTo5x=true;</script><script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script><script type="text/javascript" src="http://s.sharethis.com/loader.js"></script> <!-- END: Sharethis --></head>
<body bgcolor="#FFFFFF"><iframe id="docheader" frameborder="0" framemargin="0" scrolling="no" src="../../../dcommon/header.html"></iframe><div id="cse-search-form" style="width: 100%;"><span class="loadingspin">Loading</span></div><script src="http://www.google.com/jsapi" type="text/javascript"></script><script type="text/javascript">   google.load('search', '1', {language : 'en'});  google.setOnLoadCallback(function() {    var customSearchOptions = {};    var googleAnalyticsOptions = {};    googleAnalyticsOptions['queryParameter'] = 'q';    googleAnalyticsOptions['categoryParameter'] = '';    customSearchOptions['googleAnalyticsOptions'] = googleAnalyticsOptions;  var customSearchControl = new google.search.CustomSearchControl(      '016171230611334810008:4sqnhke2any', customSearchOptions);    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);    var options = new google.search.DrawOptions();    options.setSearchFormRoot('cse-search-form');    customSearchControl.draw('cse', options);  }, true);</script><link rel="stylesheet" href="http://www.google.com/cse/style/look/default.css" type="text/css" /><div id="cse" style="width:100%;"></div> 
<div class="header"><a id="top" name="top"></a>
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td align="left" valign="top"><div class="booktitle">Java Persistence API (JPA) Extensions Reference for EclipseLink, 
Release 2.5</div></td>
<td valign="bottom" align="right" width="144">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top"><a href="toc.htm"><img src="../../../dcommon/images/contents.png" alt="Go To Table Of Contents" border="0" height="16" width="16" /><br />
<span class="mini">Contents</span></a></td><td>&nbsp;</td><td align="center"><a href="../../../" target="_top" class="external text" title="Other searches" rel="nofollow"><img src="../../../dcommon/images/search.png" alt="Search" style="border:0;" /><br /><span class="mini">Other&nbsp;Searches</span></a></td><td>&nbsp;</td><td align="center"><a href="../../eclipselink_jpa_extensions.pdf" title="PDF" target="_blank"><img src="../../../dcommon/images/pdf_icon.png" style="padding-right:5px;border:0" alt="PDF"><br /><span class="mini">PDF</span></a></td><td align="center"><a href="#disqus_thread" title="Comments""><img src="../../../dcommon/images/comments.png" style="padding-right:5px;border:0" alt="Comments"><br /><span class="mini">Comments</span></a>
</tr>
</table>
</td>
</tr>
</table>
<hr />
<table class="navigation simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100" align="center">
<tr>
<td align="center"><a href="p_cache_coordination_propagate.htm"><img src="../../../dcommon/images/larrow.png" alt="Previous" border="0" height="16" width="16" /></a></td>
<td align="center"><a href="p_cache_coordination_removeconnection.htm"><img src="../../../dcommon/images/rarrow.png" alt="Next" border="0" height="16" width="16" /></a></td>
<td>&nbsp;</td>
</tr>
</table>
</div>
<!-- class="header" -->
<div class="ind"><!-- End Header --><a id="cachecoordinationprotocol" name="cachecoordinationprotocol"></a><a id="TLJPA1068" name="TLJPA1068"></a>
<hr />
<div class="refsect1">
<h2 class="refsect1"><font face="arial, helvetica, sans-serif" color="#330099">cache.coordination.protocol</font></h2>
<p>Use <code>eclipselink.cache.coordination.protocol</code> to specify the cache coordination protocol to use. Depending on the cache configuration for each descriptor, this will broadcast cache updates or inserts to the cluster to update or invalidate each session's cache.</p>
<a id="sthref799" name="sthref799"></a>
<p><strong><br /><span class="refsubsect">Values</span></strong></p>
<p><a href="#BABCEGFF">Table 5-12</a> describes this persistence property's values.</p>
<div class="tblhruleformalwide"><a id="TLJPA849" name="TLJPA849"></a><a id="sthref800" name="sthref800"></a><a id="BABCEGFF" name="BABCEGFF"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Table 5-12 Valid Values for cache.coordination.protocol</font></em></strong></p>
<table class="HRuleFormalWide" title="Valid Values for cache.coordination.protocol" summary="Valid Values for this query hint" dir="ltr" border="1" width="100%" frame="hsides" rules="rows" cellpadding="3" cellspacing="0">
<col width="29%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t13"><font face="Arial, Helvetica, sans-serif"><strong>Value</strong></font></th>
<th align="left" valign="bottom" id="r1c2-t13"><font face="Arial, Helvetica, sans-serif"><strong>Description</strong></font></th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t13" headers="r1c1-t13">
<p><code>jms</code></p>
</td>
<td align="left" headers="r2c1-t13 r1c2-t13"><br /></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t13" headers="r1c1-t13">
<p><code>jms-publishing</code></p>
</td>
<td align="left" headers="r3c1-t13 r1c2-t13"><br /></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t13" headers="r1c1-t13">
<p><code>rmi</code></p>
</td>
<td align="left" headers="r4c1-t13 r1c2-t13"><br /></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t13" headers="r1c1-t13">
<p><code>rmi-iiop</code></p>
</td>
<td align="left" headers="r5c1-t13 r1c2-t13"><br /></td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t13" headers="r1c1-t13"><br /></td>
<td align="left" headers="r6c1-t13 r1c2-t13"><br /></td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="tblhruleformalwide" -->
<a id="sthref801" name="sthref801"></a>
<p><strong><br /><span class="refsubsect">Usage</span></strong></p>
<p>You must specify the <code>cache.coordination.protocol</code> for every persistence unit and session in the cluster.</p>
<a id="sthref802" name="sthref802"></a>
<p><strong><br /><span class="refsubsect">Examples</span></strong></p>
<p><a href="#BABHGIFC">Example 5-6</a> shows how to configure JMS cache coordination in the <code>persistence.xml</code> file.</p>
<div class="example"><a id="BABHGIFC" name="BABHGIFC"></a><a id="TLJPA850" name="TLJPA850"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Example 5-6 Configuring JMS Cache Coordination in persistence.xml</font></em></strong></p>
<pre xml:space="preserve" class="oac_no_warn">
&lt;property name="eclipselink.cache.coordination.protocol" value="jms" /&gt;
&lt;property name="eclipselink.cache.coordination.jms.topic" value="jms/EmployeeTopic" /&gt;
&lt;property name="eclipselink.cache.coordination.jms.factory" value="jms/EmployeeTopicConnectionFactory" /&gt;
</pre>
<p>If your application <em>is not</em> running in a cluster, you must provide the URL:</p>
<pre xml:space="preserve" class="oac_no_warn">
&lt;property name="eclipselink.cache.coordination.jms.host" value="t3://myserver:7001/" /&gt;
</pre>
<p>You can also include a username and password, if required, to access the server (for example, if on a separate domain):</p>
<pre xml:space="preserve" class="oac_no_warn">
&lt;property name="eclipselink.cache.coordination.jndi.user" value="weblogic" /&gt;
&lt;property name="eclipselink.cache.coordination.jndi.password" value="welcome1" /&gt;
</pre></div>
<!-- class="example" -->
<div class="example"><a id="BABJDAIB" name="BABJDAIB"></a><a id="TLJPA851" name="TLJPA851"></a>
<p><strong><em><font face="arial, helvetica, sans-serif">Example 5-7 Configuring RMI Cache Coordination in persistence.xml</font></em></strong></p>
<pre xml:space="preserve" class="oac_no_warn">
&lt;property name="eclipselink.cache.coordination.protocol" value="rmi" /&gt;
</pre>
<p>If your application <em>is not</em> running in a cluster, you must provide the URL:</p>
<pre xml:space="preserve" class="oac_no_warn">
&lt;property name="eclipselink.cache.coordination.rmi.url" value="t3://myserver:7001/" /&gt;
</pre>
<p>You can also include a username and password, if required, to access the server (for example, if on a separate domain):</p>
<pre xml:space="preserve" class="oac_no_warn">
&lt;property name="eclipselink.cache.coordination.jndi.user" value="weblogic" /&gt;
&lt;property name="eclipselink.cache.coordination.jndi.password" value="welcome1" /&gt;
</pre>
<p>By default, RMI cache coordination broadcasts are asynchronous. You can override this, if needed:</p>
<pre xml:space="preserve" class="oac_no_warn">
&lt;property name="eclipselink.cache.coordination.propagate-asynchronously" value="false" /&gt;
</pre>
<p>If you have multiple applications on the same server or network, you can specify a separate cache coordination channel for each application:</p>
<pre xml:space="preserve" class="oac_no_warn">
&lt;property name="eclipselink.cache.coordination.channel" value="EmployeeChannel" /&gt;
</pre>
<p>RMI cache coordination uses a multicast socket to allow servers to find each other. You can configure the multicast settings, if needed:</p>
<pre xml:space="preserve" class="oac_no_warn">
&lt;property name="eclipselink.cache.coordination.rmi.announcement-delay" value="1000" /&gt;
&lt;property name="eclipselink.cache.coordination.rmi.multicast-group" value="239.192.0.0" /&gt;
&lt;property name="eclipselink.cache.coordination.rmi.multicast-group.port" value="3121" /&gt;
&lt;property name="eclipselink.cache.coordination.packet-time-to-live" value="2" /&gt;
</pre></div>
<!-- class="example" -->
<a id="sthref803" name="sthref803"></a>
<p><strong><br /><span class="refsubsect">See Also</span></strong></p>
<p>For more information, see:</p>
<ul>
<li>
<p><a href="p_cache_coordination_channel.htm#BABGBAEC">"cache.coordination.channel"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_jms_factory.htm#BABJGCIF">"cache.coordination.jms.factory"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_jms_host.htm#BABJGJGI">"cache.coordination.jms.host"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_jms_reuse.htm#BABBJHDB">"cache.coordination.jms.reuse-topic-publisher"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_jms_topic.htm#BABHEFCJ">"cache.coordination.jms.topic"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_jndi_initial.htm#BABFBHGI">"cache.coordination.jndi.initial-context-factory"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_jndi_password.htm#BABJBCCF">"cache.coordination.jndi.password"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_jndi_user.htm#BABGAEHE">"cache.coordination.jndi.user"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_namingservice.htm#BABIEEBH">"cache.coordination.naming-service"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_propagate.htm#BABDFGGD">"cache.coordination.propagate-asynchronously"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_removeconnection.htm#BABIEJED">"cache.coordination.remove-connection-on-error"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_rmi_annoucementdelay.htm#BABDGCDE">"cache.coordination.rmi.announcement-delay"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_rmi_multicastgroup.htm#BABFGHJI">"cache.coordination.rmi.multicast-group"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_rmi_multicastgroupport.htm#BABDGFEI">"cache.coordination.rmi.multicast-group.port"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_rmi_packettimetolive.htm#BABFBDBJ">"cache.coordination.rmi.packet-time-to-live"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_rmi_url.htm#BABCJIFC">"cache.coordination.rmi.url"</a></p>
</li>
<li>
<p><a href="p_cache_coordination_threadpoolsize.htm#BABFJGIF">"cache.coordination.thread.pool.size"</a></p>
</li>
<li>
<p>Cache Coordination Examples<br />
<code><a href="http://wiki.eclipse.org/EclipseLink/Examples/JPA/CacheCoordination">http://wiki.eclipse.org/EclipseLink/Examples/JPA/CacheCoordination</a></code></p>
</li>
<li>
<p>"Clustering and Cache Coordination"<br />
<code><a href="http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Coordination">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Coordination</a></code></p>
</li>
</ul>
</div>
<!-- class="refsect1" --></div>
<!-- class="ind" -->
<!-- Start Footer -->
<div class="footer">
<hr />
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100%">
<col width="33%" />
<col width="*" />
<col width="33%" />
<tr>
<td valign="bottom">
<table class="navigation simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="100" align="center">
<col width="*" />
<col width="48%" />
<col width="48%" />
<tr>
<td>&nbsp;</td>
<td align="center"><a href="p_cache_coordination_propagate.htm"><img src="../../../dcommon/images/larrow.png" alt="Previous" border="0" height="16" width="16" /></a></td>
<td align="center"><a href="p_cache_coordination_removeconnection.htm"><img src="../../../dcommon/images/rarrow.png" alt="Next" border="0" height="16" width="16" /></a></td>
</tr>
</table>
</td>
<td align="center" width="34%"><a href="http://www.eclipse.org/eclipselink/" title="EclipseLink home"><img src="../../../dcommon/images/ellogo.png" alt="EclipseLink" width="150" border="0" /></a><br />
<font size="-2">Copyright&nbsp;&copy;&nbsp;2012,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</font> <a href="../../../dcommon/html/cpyr.htm"><br />
  
<td valign="bottom" align="right">
<table class="simple oac_no_warn" summary="" cellspacing="0" cellpadding="0" width="225">
<tr>
<td>&nbsp;</td>
<td align="center" valign="top"><a href="toc.htm"><img src="../../../dcommon/images/contents.png" alt="Go To Table Of Contents" border="0" height="16" width="16" /><br />
<span class="mini">Contents</span></a></td><td>&nbsp;</td><td align="center"><a href="../../../" target="_top" class="external text" title="Other searches" rel="nofollow"><img src="../../../dcommon/images/search.png" alt="Search" style="border:0;" /><br /><span class="mini">Other&nbsp;Searches</span></a></td><td>&nbsp;</td><td align="center"><a href="../../eclipselink_jpa_extensions.pdf" title="PDF" target="_blank"><img src="../../../dcommon/images/pdf_icon.png" style="padding-right:5px;border:0" alt="PDF"><br /><span class="mini">PDF</span></a></td><td align="center"><a href="#disqus_thread" title="Comments""><img src="../../../dcommon/images/comments.png" style="padding-right:5px;border:0" alt="Comments"><br /><span class="mini">Comments</span></a>
</tr>
</table>
</td>
</tr>
</table>
</div>
<!-- class="footer" -->
<div id="copyright">Copyright &copy; 2012, 2013 by The Eclipse Foundation under the <a href="http://www.eclipse.org/org/documents/epl-v10.php">Eclipse Public License (EPL)</a><br /> <script type="text/javascript">var LastUpdated = document.lastModified;document.writeln ("Updated: " + LastUpdated);</script> </div><!-- START: Analytics --><script type="text/javascript">		  var _gaq = _gaq || [];		  _gaq.push(['_setAccount', 'UA-1608008-2']);		  _gaq.push(['_trackPageview']);				  (function() {		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);		  })();				</script><!-- END: Analytics --><!-- START: Sharethis --><script>var options={ "publisher": "e2fe9e07-fab6-4f84-83ea-0991b429842c", "position": "right", "ad": { "visible": false, "openDelay": 5, "closeDelay": 0}};var st_hover_widget = new sharethis.widgets.hoverbuttons(options);</script><!-- END: Sharethis --><!-- START: Disqus --><div id="disqus_thread"></div>        <script type="text/javascript">            var disqus_developer = 1;var disqus_shortname = 'eclipselinkdoc';              (function() {                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);            })();        </script>        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>        <a href="http://disqus.com" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a><!-- END: Disqus --></body>
</html>
