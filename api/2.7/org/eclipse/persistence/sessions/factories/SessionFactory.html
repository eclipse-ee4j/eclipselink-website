<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SessionFactory (EclipseLink 2.7.13, API Reference)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SessionFactory (EclipseLink 2.7.13, API Reference)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">EclipseLink 2.7.13, API Reference</div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.persistence.sessions.factories</a></div>
<h2 title="Class SessionFactory" class="title">Class SessionFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.eclipse.persistence.sessions.factories.SessionFactory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">SessionFactory</span>
extends java.lang.Object</pre>
<div class="block">Helper class to simplify the development and generation of code that accesses
 TopLink through the SessionManager (sessions config XML).
 Responsibilities:<ul>
 <li> Lookup of a session by name using default or provided sessions config location
 <li> Support lookup of active UnitOfWork and Session in JTA environments
 <li> Hot/Re-deployment handling of applications
 <li> Detachment helpers to simplify usage within a local session bean
 </ul>

 Basic usage example:
 <code>
 SessionFactory = sessionFactory = new SessionFactory("session-name");

 ...

 public List read(Vector args) {
    Session session = sessionFactory.acquireSession();

    List results = (List) session.executeQuery("query-name", MyClass.class, args);

    session.release();
    return results;
 }

 public void write(MyClass detachedInstance) {
    UnitOfWork uow = sessionFactory.acquireUnitOfWork();

    MyClass workingCopy = (MyClass) uow.readObject(detachedInstance);

    if (workingCopy == null) {
       throw new MyException("Cannot write changes. Object does not exist");
    }

    uow.deepMergeClone(detachedInstance);

    uow.commit();
 }
 </code>

 <b>Detachment</b>: The detach helper methods are provided to assist with the
 construction of applications. This helper class was designed for use within
 session beans (SB) and in the case of local SBs the objects returned are not
 serialized. Since EclipseLink's default behavior is to return the shared instance
 from the cache and rely on developers to only modify instances within a
 UnitOfWork this may be an issue. The client to the local session bean may
 try to modify the instance and thus corrupt the cache. By detaching the object
 the client to the session bean gets its own isolated copy that it can freely
 modify. This provides the same functionality as with a remote session bean
 and allows the developer the choice in how/when objects are detached.
 <i>Note</i>: The above code example shows how a detached instance can have
 changes made to it persisted through use of the UnitOfWork merge API.</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>10.1.3</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Doug Clarke &amp; John Braken</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Dec 10, 2006</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String)">SessionFactory</a></span>&#8203;(java.lang.String&nbsp;sessionName)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String,java.lang.String)">SessionFactory</a></span>&#8203;(java.lang.String&nbsp;sessionsXMLPath,
              java.lang.String&nbsp;sessionName)</code></th>
<td class="colLast">
<div class="block">Constructor for creating a new EclipseLinkSessionHelper instance.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../Session.html" title="interface in org.eclipse.persistence.sessions">Session</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquireSession()">acquireSession</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the Session active for this specified helper.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../UnitOfWork.html" title="interface in org.eclipse.persistence.sessions">UnitOfWork</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquireUnitOfWork()">acquireUnitOfWork</a></span>()</code></th>
<td class="colLast">
<div class="block">Looks up the active UnitOfWork using either the global JTA TX or acquires
 a new one from the active session.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../UnitOfWork.html" title="interface in org.eclipse.persistence.sessions">UnitOfWork</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquireUnitOfWork(org.eclipse.persistence.sessions.Session)">acquireUnitOfWork</a></span>&#8203;(<a href="../Session.html" title="interface in org.eclipse.persistence.sessions">Session</a>&nbsp;session)</code></th>
<td class="colLast">
<div class="block">Looks up the active UnitOfWork using either the global JTA TX or acquires
 a new one from the active session.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#detach(java.lang.Object)">detach</a></span>&#8203;(java.lang.Object&nbsp;entity)</code></th>
<td class="colLast">
<div class="block">Build a detached copy using a one-off UnitOfWork.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.Collection</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#detach(java.util.Collection)">detach</a></span>&#8203;(java.util.Collection&nbsp;entities)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected java.lang.ClassLoader</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getClassLoader()">getClassLoader</a></span>()</code></th>
<td class="colLast">
<div class="block">The class-loader returned form this call will be used when loading the
 EclipseLink configuration.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSessionName()">getSessionName</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSessionXMLPath()">getSessionXMLPath</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../DatabaseSession.html" title="interface in org.eclipse.persistence.sessions">DatabaseSession</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSharedSession()">getSharedSession</a></span>()</code></th>
<td class="colLast">
<div class="block">Helper method that looks up the singleton session and ensure that
 if the application has been hot-deployed it gets a fresh version of the
 server.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../DatabaseSession.html" title="interface in org.eclipse.persistence.sessions">DatabaseSession</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSharedSession(boolean,boolean)">getSharedSession</a></span>&#8203;(boolean&nbsp;login,
                boolean&nbsp;refresh)</code></th>
<td class="colLast">
<div class="block">Used in place of getSharedSession() when the calling application needs
 access to the session prior to login or it wishes to force the session
 configuration to be re-loaded an applied.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SessionFactory</h4>
<pre>public&nbsp;SessionFactory&#8203;(java.lang.String&nbsp;sessionsXMLPath,
                      java.lang.String&nbsp;sessionName)</pre>
<div class="block">Constructor for creating a new EclipseLinkSessionHelper instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionsXMLPath</code> - - resource path of the sessions configuration xml.</dd>
<dd><code>sessionName</code> - - name of the session to use.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SessionFactory</h4>
<pre>public&nbsp;SessionFactory&#8203;(java.lang.String&nbsp;sessionName)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getSessionName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSessionName</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getSessionName()</pre>
</li>
</ul>
<a id="getSessionXMLPath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSessionXMLPath</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getSessionXMLPath()</pre>
</li>
</ul>
<a id="getClassLoader()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClassLoader</h4>
<pre class="methodSignature">protected&nbsp;java.lang.ClassLoader&nbsp;getClassLoader()</pre>
<div class="block">The class-loader returned form this call will be used when loading the
 EclipseLink configuration. By default this is the current thread's loader.
 If this is not the case users can subclass this session factory and
 override this method to provide a different loader.</div>
</li>
</ul>
<a id="getSharedSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSharedSession</h4>
<pre class="methodSignature">public&nbsp;<a href="../DatabaseSession.html" title="interface in org.eclipse.persistence.sessions">DatabaseSession</a>&nbsp;getSharedSession()</pre>
<div class="block">Helper method that looks up the singleton session and ensure that
 if the application has been hot-deployed it gets a fresh version of the
 server.</div>
</li>
</ul>
<a id="getSharedSession(boolean,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSharedSession</h4>
<pre class="methodSignature">public&nbsp;<a href="../DatabaseSession.html" title="interface in org.eclipse.persistence.sessions">DatabaseSession</a>&nbsp;getSharedSession&#8203;(boolean&nbsp;login,
                                        boolean&nbsp;refresh)</pre>
<div class="block">Used in place of getSharedSession() when the calling application needs
 access to the session prior to login or it wishes to force the session
 configuration to be re-loaded an applied. This also makes use of the
 current class-loader return from getClassLoader() and a SessionManager
 class-loader check to see if the application was loaded by another
 class-loader and is should this be refreshed as the application has been
 hot deployed.</div>
</li>
</ul>
<a id="acquireSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireSession</h4>
<pre class="methodSignature">public&nbsp;<a href="../Session.html" title="interface in org.eclipse.persistence.sessions">Session</a>&nbsp;acquireSession()</pre>
<div class="block">Returns the Session active for this specified helper. If the EclipseLink
 session does not have an external transaction controller or there is
 not an active JTA transaction then a newly acquire client session is
 returned on each call.

 This method also properly handles acquire a client session from a broker
 as well as returning the shared session in the case it is a database
 session.</div>
</li>
</ul>
<a id="acquireUnitOfWork()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireUnitOfWork</h4>
<pre class="methodSignature">public&nbsp;<a href="../UnitOfWork.html" title="interface in org.eclipse.persistence.sessions">UnitOfWork</a>&nbsp;acquireUnitOfWork()</pre>
<div class="block">Looks up the active UnitOfWork using either the global JTA TX or acquires
 a new one from the active session.</div>
</li>
</ul>
<a id="acquireUnitOfWork(org.eclipse.persistence.sessions.Session)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireUnitOfWork</h4>
<pre class="methodSignature">public&nbsp;<a href="../UnitOfWork.html" title="interface in org.eclipse.persistence.sessions">UnitOfWork</a>&nbsp;acquireUnitOfWork&#8203;(<a href="../Session.html" title="interface in org.eclipse.persistence.sessions">Session</a>&nbsp;session)</pre>
<div class="block">Looks up the active UnitOfWork using either the global JTA TX or acquires
 a new one from the active session. THis method should be used if a session
 has already been acquired.</div>
</li>
</ul>
<a id="detach(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>detach</h4>
<pre class="methodSignature">public&nbsp;java.lang.Object&nbsp;detach&#8203;(java.lang.Object&nbsp;entity)</pre>
<div class="block">Build a detached copy using a one-off UnitOfWork.
 This simulates creation of a copy through serialization when using a
 remote session bean if this copy process is not done the user of this
 helper would return the shared copy from the cache that should not be
 modified. These detachment methods *MUST* be used for local session
 beans where the returned objects can be modified by the client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entity</code> - an existing persistent entity</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a copy of the entity for use in a local client that may make changes to it</dd>
</dl>
</li>
</ul>
<a id="detach(java.util.Collection)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>detach</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&nbsp;detach&#8203;(java.util.Collection&nbsp;entities)</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">EclipseLink 2.7.13, API Reference</div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
