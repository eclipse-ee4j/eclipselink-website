<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>DiscoveryManager (EclipseLink 4.0.4, API Reference)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: module: org.eclipse.persistence.core, package: org.eclipse.persistence.sessions.coordination, class: DiscoveryManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>EclipseLink 4.0.4, API Reference</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DiscoveryManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../../module-summary.html">org.eclipse.persistence.core</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.persistence.sessions.coordination</a></div>
<h1 title="Class DiscoveryManager" class="title">Class DiscoveryManager</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.eclipse.persistence.sessions.coordination.DiscoveryManager</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">DiscoveryManager</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></span></div>
<div class="block"><p>
 <b>Purpose</b>: Detects new members of a logical EclipseLink cluster.
 <p>
 <b>Description</b>: Each RemoteCommandManager has its own DiscoveryManager,
 which handles the detection of other remote command services as they become available.
 The DiscoveryManager is an active object (in that it extends Thread) and becomes
 a separate thread when it is started using startDiscovery().
 <p>
 Discovery is done through the use of a multicast. Each discovery manager
 joins the multicast group and announces itself to the group. As it receives
 service announcements from other discovery managers it notifies the RCM to
 establish connections to and from the new service.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>OracleAS TopLink 10<i>g</i> (9.0.4)</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="RemoteCommandManager.html" title="class in org.eclipse.persistence.sessions.coordination"><code>RemoteCommandManager</code></a></li>
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/MulticastSocket.html" title="class or interface in java.net" class="external-link"><code>MulticastSocket</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected int</code></div>
<div class="col-second even-row-color"><code><a href="#announcementDelay" class="member-name-link">announcementDelay</a></code></div>
<div class="col-last even-row-color">
<div class="block">Delay time in millis between initialization and when the announcement is sent</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/MulticastSocket.html" title="class or interface in java.net" class="external-link">MulticastSocket</a></code></div>
<div class="col-second odd-row-color"><code><a href="#communicationSocket" class="member-name-link">communicationSocket</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The multicast socket used for discovery</div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_ANNOUNCEMENT_DELAY" class="member-name-link">DEFAULT_ANNOUNCEMENT_DELAY</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#DEFAULT_MULTICAST_GROUP" class="member-name-link">DEFAULT_MULTICAST_GROUP</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Default value constants</div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_MULTICAST_PORT" class="member-name-link">DEFAULT_MULTICAST_PORT</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DEFAULT_PACKET_TIME_TO_LIVE" class="member-name-link">DEFAULT_PACKET_TIME_TO_LIVE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#multicastGroupAddress" class="member-name-link">multicastGroupAddress</a></code></div>
<div class="col-last even-row-color">
<div class="block">Defines the IP address of the multicast group</div>
</div>
<div class="col-first odd-row-color"><code>protected int</code></div>
<div class="col-second odd-row-color"><code><a href="#multicastPort" class="member-name-link">multicastPort</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Defines the port the multicast socket will be using</div>
</div>
<div class="col-first even-row-color"><code>protected int</code></div>
<div class="col-second even-row-color"><code><a href="#packetTimeToLive" class="member-name-link">packetTimeToLive</a></code></div>
<div class="col-last even-row-color">
<div class="block">Number of hops in the life of the datapacket
 Default is 2, a hub and an interface card to prevent the data packets from leaving the localnetwork.</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="RemoteCommandManager.html" title="class in org.eclipse.persistence.sessions.coordination">RemoteCommandManager</a></code></div>
<div class="col-second odd-row-color"><code><a href="#rcm" class="member-name-link">rcm</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The remote command manager responsible for this service</div>
</div>
<div class="col-first even-row-color"><code>protected boolean</code></div>
<div class="col-second even-row-color"><code><a href="#stopListening" class="member-name-link">stopListening</a></code></div>
<div class="col-last even-row-color">
<div class="block">Indicates to the listening thread that it should stop</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.String,int,int,org.eclipse.persistence.sessions.coordination.RemoteCommandManager)" class="member-name-link">DiscoveryManager</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;address,
 int&nbsp;port,
 int&nbsp;delay,
 <a href="RemoteCommandManager.html" title="class in org.eclipse.persistence.sessions.coordination">RemoteCommandManager</a>&nbsp;mgr)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.lang.String,int,org.eclipse.persistence.sessions.coordination.RemoteCommandManager)" class="member-name-link">DiscoveryManager</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;address,
 int&nbsp;port,
 <a href="RemoteCommandManager.html" title="class in org.eclipse.persistence.sessions.coordination">RemoteCommandManager</a>&nbsp;mgr)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.eclipse.persistence.sessions.coordination.RemoteCommandManager)" class="member-name-link">DiscoveryManager</a><wbr>(<a href="RemoteCommandManager.html" title="class in org.eclipse.persistence.sessions.coordination">RemoteCommandManager</a>&nbsp;mgr)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructors to create a discovery manager.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#announceSession()" class="member-name-link">announceSession</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:
 Send out an announcement that we are here.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createCommunicationSocket()" class="member-name-link">createCommunicationSocket</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:
 Create the multicast socket and join the multicast group.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAnnouncementDelay()" class="member-name-link">getAnnouncementDelay</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PUBLIC:
 Return the amount of time in millis that the service should wait between the time
 that this Remote Service is available and a session announcement is sent out
 to other discovery managers.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/MulticastSocket.html" title="class or interface in java.net" class="external-link">MulticastSocket</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCommunicationSocket()" class="member-name-link">getCommunicationSocket</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:
 Return the socket that will be used for the multicast.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMulticastGroupAddress()" class="member-name-link">getMulticastGroupAddress</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PUBLIC:
 Return the host address of the multicast group.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMulticastPort()" class="member-name-link">getMulticastPort</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PUBLIC:
 Return the multicast port used for discovery.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPacketTimeToLive()" class="member-name-link">getPacketTimeToLive</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PUBLIC:
 Returns the number of hops the data packets of the session announcement will take before expiring.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isDiscoveryStopped()" class="member-name-link">isDiscoveryStopped</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">ADVANCED:
 Return true if discovery has been stopped at the time this method is called.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#receivedAnnouncement(org.eclipse.persistence.sessions.coordination.ServiceId)" class="member-name-link">receivedAnnouncement</a><wbr>(<a href="ServiceId.html" title="class in org.eclipse.persistence.sessions.coordination">ServiceId</a>&nbsp;serviceId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:
 Process the announcement that indicates that a new service is online</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#run()" class="member-name-link">run</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:
 This is the main execution method of discovery.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAnnouncementDelay(int)" class="member-name-link">setAnnouncementDelay</a><wbr>(int&nbsp;millisecondsToDelay)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PUBLIC:
 Set the amount of time in millis that the service should wait between the time
 that this Remote Service is available and a session announcement is sent out
 to other discovery managers.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setMulticastGroupAddress(java.lang.String)" class="member-name-link">setMulticastGroupAddress</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;address)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PUBLIC:
 Set the host address of the multicast group.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setMulticastPort(int)" class="member-name-link">setMulticastPort</a><wbr>(int&nbsp;port)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PUBLIC:
 Set the multicast port used for discovery.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setPacketTimeToLive(int)" class="member-name-link">setPacketTimeToLive</a><wbr>(int&nbsp;newPacketTimeToLive)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PUBLIC:
 Set the number of hops the data packets of the session announcement will take before expiring.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#shallowCopy(org.eclipse.persistence.sessions.coordination.DiscoveryManager)" class="member-name-link">shallowCopy</a><wbr>(<a href="DiscoveryManager.html" title="class in org.eclipse.persistence.sessions.coordination">DiscoveryManager</a>&nbsp;dmgr)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL: invoke when the RCM shutdown.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startDiscovery()" class="member-name-link">startDiscovery</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">ADVANCED:
 Announce the local service and join the cluster</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startListening()" class="member-name-link">startListening</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:
 This method puts us into the listening mode loop.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stopDiscovery()" class="member-name-link">stopDiscovery</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">ADVANCED:
 Stop accepting announcements from other services becoming available.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stopListening()" class="member-name-link">stopListening</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:
 Signal this instance to stop listening.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="DEFAULT_MULTICAST_GROUP">
<h3>DEFAULT_MULTICAST_GROUP</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">DEFAULT_MULTICAST_GROUP</span></div>
<div class="block">Default value constants</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../../constant-values.html#org.eclipse.persistence.sessions.coordination.DiscoveryManager.DEFAULT_MULTICAST_GROUP">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_MULTICAST_PORT">
<h3>DEFAULT_MULTICAST_PORT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DEFAULT_MULTICAST_PORT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../../constant-values.html#org.eclipse.persistence.sessions.coordination.DiscoveryManager.DEFAULT_MULTICAST_PORT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_PACKET_TIME_TO_LIVE">
<h3>DEFAULT_PACKET_TIME_TO_LIVE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DEFAULT_PACKET_TIME_TO_LIVE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../../constant-values.html#org.eclipse.persistence.sessions.coordination.DiscoveryManager.DEFAULT_PACKET_TIME_TO_LIVE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_ANNOUNCEMENT_DELAY">
<h3>DEFAULT_ANNOUNCEMENT_DELAY</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DEFAULT_ANNOUNCEMENT_DELAY</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../../constant-values.html#org.eclipse.persistence.sessions.coordination.DiscoveryManager.DEFAULT_ANNOUNCEMENT_DELAY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="multicastGroupAddress">
<h3>multicastGroupAddress</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">multicastGroupAddress</span></div>
<div class="block">Defines the IP address of the multicast group</div>
</section>
</li>
<li>
<section class="detail" id="multicastPort">
<h3>multicastPort</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">multicastPort</span></div>
<div class="block">Defines the port the multicast socket will be using</div>
</section>
</li>
<li>
<section class="detail" id="communicationSocket">
<h3>communicationSocket</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/MulticastSocket.html" title="class or interface in java.net" class="external-link">MulticastSocket</a></span>&nbsp;<span class="element-name">communicationSocket</span></div>
<div class="block">The multicast socket used for discovery</div>
</section>
</li>
<li>
<section class="detail" id="packetTimeToLive">
<h3>packetTimeToLive</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">packetTimeToLive</span></div>
<div class="block">Number of hops in the life of the datapacket
 Default is 2, a hub and an interface card to prevent the data packets from leaving the localnetwork.</div>
</section>
</li>
<li>
<section class="detail" id="stopListening">
<h3>stopListening</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">stopListening</span></div>
<div class="block">Indicates to the listening thread that it should stop</div>
</section>
</li>
<li>
<section class="detail" id="announcementDelay">
<h3>announcementDelay</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">announcementDelay</span></div>
<div class="block">Delay time in millis between initialization and when the announcement is sent</div>
</section>
</li>
<li>
<section class="detail" id="rcm">
<h3>rcm</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="RemoteCommandManager.html" title="class in org.eclipse.persistence.sessions.coordination">RemoteCommandManager</a></span>&nbsp;<span class="element-name">rcm</span></div>
<div class="block">The remote command manager responsible for this service</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.eclipse.persistence.sessions.coordination.RemoteCommandManager)">
<h3>DiscoveryManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">DiscoveryManager</span><wbr><span class="parameters">(<a href="RemoteCommandManager.html" title="class in org.eclipse.persistence.sessions.coordination">RemoteCommandManager</a>&nbsp;mgr)</span></div>
<div class="block">Constructors to create a discovery manager.</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String,int,org.eclipse.persistence.sessions.coordination.RemoteCommandManager)">
<h3>DiscoveryManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">DiscoveryManager</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;address,
 int&nbsp;port,
 <a href="RemoteCommandManager.html" title="class in org.eclipse.persistence.sessions.coordination">RemoteCommandManager</a>&nbsp;mgr)</span></div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String,int,int,org.eclipse.persistence.sessions.coordination.RemoteCommandManager)">
<h3>DiscoveryManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">DiscoveryManager</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;address,
 int&nbsp;port,
 int&nbsp;delay,
 <a href="RemoteCommandManager.html" title="class in org.eclipse.persistence.sessions.coordination">RemoteCommandManager</a>&nbsp;mgr)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="announceSession()">
<h3>announceSession</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">announceSession</span>()</div>
<div class="block">INTERNAL:
 Send out an announcement that we are here.</div>
</section>
</li>
<li>
<section class="detail" id="startDiscovery()">
<h3>startDiscovery</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">startDiscovery</span>()</div>
<div class="block">ADVANCED:
 Announce the local service and join the cluster</div>
</section>
</li>
<li>
<section class="detail" id="stopDiscovery()">
<h3>stopDiscovery</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">stopDiscovery</span>()</div>
<div class="block">ADVANCED:
 Stop accepting announcements from other services becoming available.
 Note that this does not remove the local service from the cluster.</div>
</section>
</li>
<li>
<section class="detail" id="isDiscoveryStopped()">
<h3>isDiscoveryStopped</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isDiscoveryStopped</span>()</div>
<div class="block">ADVANCED:
 Return true if discovery has been stopped at the time this method is called.
 If false is returned then it is undefined whether discovery is started or
 stopped. It may be started, or it may be in the process of starting or
 stopping.</div>
</section>
</li>
<li>
<section class="detail" id="createCommunicationSocket()">
<h3>createCommunicationSocket</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">createCommunicationSocket</span>()</div>
<div class="block">INTERNAL:
 Create the multicast socket and join the multicast group.</div>
</section>
</li>
<li>
<section class="detail" id="getCommunicationSocket()">
<h3>getCommunicationSocket</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/MulticastSocket.html" title="class or interface in java.net" class="external-link">MulticastSocket</a></span>&nbsp;<span class="element-name">getCommunicationSocket</span>()</div>
<div class="block">INTERNAL:
 Return the socket that will be used for the multicast.</div>
</section>
</li>
<li>
<section class="detail" id="run()">
<h3>run</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">run</span>()</div>
<div class="block">INTERNAL:
 This is the main execution method of discovery.  It will create a socket to
 listen on, create a local connection for this service and announce that we are
 open for business.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html#run()" title="class or interface in java.lang" class="external-link">run</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startListening()">
<h3>startListening</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">startListening</span>()</div>
<div class="block">INTERNAL:
 This method puts us into the listening mode loop. This thread blocks, waiting
 on announcements that we receive from other discovery managers.</div>
</section>
</li>
<li>
<section class="detail" id="stopListening()">
<h3>stopListening</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">stopListening</span>()</div>
<div class="block">INTERNAL:
 Signal this instance to stop listening.</div>
</section>
</li>
<li>
<section class="detail" id="receivedAnnouncement(org.eclipse.persistence.sessions.coordination.ServiceId)">
<h3>receivedAnnouncement</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">receivedAnnouncement</span><wbr><span class="parameters">(<a href="ServiceId.html" title="class in org.eclipse.persistence.sessions.coordination">ServiceId</a>&nbsp;serviceId)</span></div>
<div class="block">INTERNAL:
 Process the announcement that indicates that a new service is online</div>
</section>
</li>
<li>
<section class="detail" id="setAnnouncementDelay(int)">
<h3>setAnnouncementDelay</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setAnnouncementDelay</span><wbr><span class="parameters">(int&nbsp;millisecondsToDelay)</span></div>
<div class="block">PUBLIC:
 Set the amount of time in millis that the service should wait between the time
 that this Remote Service is available and a session announcement is sent out
 to other discovery managers. This may be needed to give some systems more time
 to post their connections into the naming service. Takes effect the next time
 listening is started.</div>
</section>
</li>
<li>
<section class="detail" id="getAnnouncementDelay()">
<h3>getAnnouncementDelay</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getAnnouncementDelay</span>()</div>
<div class="block">PUBLIC:
 Return the amount of time in millis that the service should wait between the time
 that this Remote Service is available and a session announcement is sent out
 to other discovery managers.</div>
</section>
</li>
<li>
<section class="detail" id="getMulticastGroupAddress()">
<h3>getMulticastGroupAddress</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getMulticastGroupAddress</span>()</div>
<div class="block">PUBLIC:
 Return the host address of the multicast group.</div>
</section>
</li>
<li>
<section class="detail" id="setMulticastGroupAddress(java.lang.String)">
<h3>setMulticastGroupAddress</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setMulticastGroupAddress</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;address)</span></div>
<div class="block">PUBLIC:
 Set the host address of the multicast group. Takes effect the next time
 listening is started.</div>
</section>
</li>
<li>
<section class="detail" id="setMulticastPort(int)">
<h3>setMulticastPort</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setMulticastPort</span><wbr><span class="parameters">(int&nbsp;port)</span></div>
<div class="block">PUBLIC:
 Set the multicast port used for discovery. Takes effect the next time
 listening is started.</div>
</section>
</li>
<li>
<section class="detail" id="getMulticastPort()">
<h3>getMulticastPort</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getMulticastPort</span>()</div>
<div class="block">PUBLIC:
 Return the multicast port used for discovery.</div>
</section>
</li>
<li>
<section class="detail" id="shallowCopy(org.eclipse.persistence.sessions.coordination.DiscoveryManager)">
<h3>shallowCopy</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">shallowCopy</span><wbr><span class="parameters">(<a href="DiscoveryManager.html" title="class in org.eclipse.persistence.sessions.coordination">DiscoveryManager</a>&nbsp;dmgr)</span></div>
<div class="block">INTERNAL: invoke when the RCM shutdown. Subclass overrides this method if necessary.</div>
</section>
</li>
<li>
<section class="detail" id="getPacketTimeToLive()">
<h3>getPacketTimeToLive</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getPacketTimeToLive</span>()</div>
<div class="block">PUBLIC:
 Returns the number of hops the data packets of the session announcement will take before expiring.
 The default is 2, a hub and an interface card to prevent the data packets from leaving the local network.</div>
</section>
</li>
<li>
<section class="detail" id="setPacketTimeToLive(int)">
<h3>setPacketTimeToLive</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setPacketTimeToLive</span><wbr><span class="parameters">(int&nbsp;newPacketTimeToLive)</span></div>
<div class="block">PUBLIC:
 Set the number of hops the data packets of the session announcement will take before expiring.
 The default is 2, a hub and an interface card to prevent the data packets from leaving the local network.

 Note that if sessions are hosted on different LANs that are part of WAN, the announcement sending by one session
 may not reach other sessions.  In this case, consult your network administrator for the right time-to-live value
 or test your network by increase the value until sessions receive announcement sent by others.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
