<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>ConcurrencyManager (EclipseLink 4.0.7, API Reference)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: module: org.eclipse.persistence.core, package: org.eclipse.persistence.internal.helper, class: ConcurrencyManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>EclipseLink 4.0.7, API Reference</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ConcurrencyManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../../module-summary.html">org.eclipse.persistence.core</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.persistence.internal.helper</a></div>
<h1 title="Class ConcurrencyManager" class="title">Class ConcurrencyManager</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.eclipse.persistence.internal.helper.ConcurrencyManager</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="../identitymaps/CacheKey.html" title="class in org.eclipse.persistence.internal.identitymaps">CacheKey</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ConcurrencyManager</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></span></div>
<div class="block">INTERNAL:
 <p>
 <b>Purpose</b>: To maintain concurrency for a particular task.
 It is a wrappers of a semaphore that allows recursive waits by a single thread.
 <p>
 <b>Responsibilities</b>:
 <ul>
 <li> Keep track of the active thread.
 <li> Wait all other threads until the first thread is done.
 <li> Maintain the depth of the active thread.
 </ul></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../../serialized-form.html#org.eclipse.persistence.internal.helper.ConcurrencyManager">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a></code></div>
<div class="col-second even-row-color"><code><a href="#activeThread" class="member-name-link">activeThread</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#DEFERRED_LOCK_MANAGERS" class="member-name-link">DEFERRED_LOCK_MANAGERS</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></code></div>
<div class="col-second even-row-color"><code><a href="#depth" class="member-name-link">depth</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#lockedByMergeManager" class="member-name-link">lockedByMergeManager</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></code></div>
<div class="col-second even-row-color"><code><a href="#numberOfReaders" class="member-name-link">numberOfReaders</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></code></div>
<div class="col-second odd-row-color"><code><a href="#numberOfWritersWaiting" class="member-name-link">numberOfWritersWaiting</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected static boolean</code></div>
<div class="col-second even-row-color"><code><a href="#shouldTrackStack" class="member-name-link">shouldTrackStack</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></div>
<div class="col-second odd-row-color"><code><a href="#stack" class="member-name-link">stack</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">ConcurrencyManager</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Initialize the newly allocated instance of this class.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acquire()" class="member-name-link">acquire</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Wait for all threads except the active thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acquire(boolean)" class="member-name-link">acquire</a><wbr>(boolean&nbsp;forMerge)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Wait for all threads except the active thread.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acquireDeferredLock()" class="member-name-link">acquireDeferredLock</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add deferred lock into a hashtable to avoid deadlock</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acquireIfUnownedNoWait(boolean)" class="member-name-link">acquireIfUnownedNoWait</a><wbr>(boolean&nbsp;forMerge)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the activeThread is not set, acquire it and return true.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acquireNoWait()" class="member-name-link">acquireNoWait</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the lock is not acquired already acquire it and return true.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acquireNoWait(boolean)" class="member-name-link">acquireNoWait</a><wbr>(boolean&nbsp;forMerge)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the lock is not acquired already acquire it and return true.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acquireReadLock()" class="member-name-link">acquireReadLock</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Wait on any writer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acquireReadLockNoWait()" class="member-name-link">acquireReadLockNoWait</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If this is acquired return false otherwise acquire readlock and return true</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acquireWithWait(boolean,int)" class="member-name-link">acquireWithWait</a><wbr>(boolean&nbsp;forMerge,
 int&nbsp;wait)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the lock is not acquired already acquire it and return true.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addReadLockToReadLockManager()" class="member-name-link">addReadLockToReadLockManager</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The current thread has incremented the number of readers on the current cache key.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkDeferredLock()" class="member-name-link">checkDeferredLock</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check the lock state, if locked, acquire and release a deferred lock.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkReadLock()" class="member-name-link">checkReadLock</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check the lock state, if locked, acquire and release a read lock.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#clearJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse()" class="member-name-link">clearJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Clear the justification why the <a href="#isBuildObjectOnThreadComplete(java.lang.Thread,java.util.Map,java.util.List,boolean)"><code>isBuildObjectOnThreadComplete(Thread, Map, List, boolean)</code></a> is
 going nowhere.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#enrichStringBuildingExplainWhyThreadIsStuckInIsBuildObjectOnThreadComplete(java.util.List,org.eclipse.persistence.internal.helper.ConcurrencyManager,java.lang.Thread,boolean,java.lang.StringBuilder)" class="member-name-link">enrichStringBuildingExplainWhyThreadIsStuckInIsBuildObjectOnThreadComplete</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;chainOfThreadsExpandedInRecursion,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;finalDeferredLockCausingTrouble,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;activeThreadOnDeferredLock,
 boolean&nbsp;hasDeferredLockManager,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html" title="class or interface in java.lang" class="external-link">StringBuilder</a>&nbsp;justification)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">When the recursive algorithm decides to return false it is because it is confronted with a cache key that had to
 be deferred.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getActiveThread()" class="member-name-link">getActiveThread</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the active thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConcurrencyManagerCreationDate()" class="member-name-link">getConcurrencyManagerCreationDate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Getter for <code>concurrencyManagerCreationDate</code></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConcurrencyManagerId()" class="member-name-link">getConcurrencyManagerId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Getter for <code>concurrencyManagerId</code></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getDeferredLockManager(java.lang.Thread)" class="member-name-link">getDeferredLockManager</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Return the deferred lock manager from the thread</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getDeferredLockManagers()" class="member-name-link">getDeferredLockManagers</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Return the deferred lock manager hashtable (thread - DeferredLockManager).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getDeferredLockManagersSnapshot()" class="member-name-link">getDeferredLockManagersSnapshot</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Return snapshot of the deferred lock manager hashtable (thread - DeferredLockManager).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDepth()" class="member-name-link">getDepth</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the current depth of the active thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/Lock.html" title="class or interface in java.util.concurrent.locks" class="external-link">Lock</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInstanceLock()" class="member-name-link">getInstanceLock</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/Condition.html" title="class or interface in java.util.concurrent.locks" class="external-link">Condition</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInstanceLockCondition()" class="member-name-link">getInstanceLockCondition</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNumberOfReaders()" class="member-name-link">getNumberOfReaders</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Number of writer that want the lock.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNumberOfWritersWaiting()" class="member-name-link">getNumberOfWritersWaiting</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Number of writers that want the lock.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="ReadLockManager.html" title="class in org.eclipse.persistence.internal.helper">ReadLockManager</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getReadLockManager(java.lang.Thread)" class="member-name-link">getReadLockManager</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">The method is not synchronized because for now we assume that each thread will ask for its own lock manager.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="ReadLockManager.html" title="class in org.eclipse.persistence.internal.helper">ReadLockManager</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getReadLockManagerEnsureResultIsNotNull(java.lang.Thread)" class="member-name-link">getReadLockManagerEnsureResultIsNotNull</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Same as <a href="#getReadLockManager(java.lang.Thread)"><code>getReadLockManager(Thread)</code></a> but in this case a not null result is ensured</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="ReadLockManager.html" title="class in org.eclipse.persistence.internal.helper">ReadLockManager</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getReadLockManagers()" class="member-name-link">getReadLockManagers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Return the deferred lock manager hashtable (thread - DeferredLockManager).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="ReadLockManager.html" title="class in org.eclipse.persistence.internal.helper">ReadLockManager</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getReadLockManagersSnapshot()" class="member-name-link">getReadLockManagersSnapshot</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Return snapshot of the deferred lock manager hashtable (thread - DeferredLockManager).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStack()" class="member-name-link">getStack</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getThreadsToWaitOnAcquireMethodNameSnapshot()" class="member-name-link">getThreadsToWaitOnAcquireMethodNameSnapshot</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Getter for <code>THREADS_TO_WAIT_ON_ACQUIRE_NAME_OF_METHOD_CREATING_TRACE</code></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getThreadsToWaitOnAcquireReadLockMethodNameSnapshot()" class="member-name-link">getThreadsToWaitOnAcquireReadLockMethodNameSnapshot</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Getter for <code>THREADS_TO_WAIT_ON_ACQUIRE_READ_LOCK_NAME_OF_METHOD_CREATING_TRACE</code></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getThreadsToWaitOnAcquireReadLockSnapshot()" class="member-name-link">getThreadsToWaitOnAcquireReadLockSnapshot</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Getter for <code>THREADS_TO_WAIT_ON_ACQUIRE_READ_LOCK</code></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getThreadsToWaitOnAcquireSnapshot()" class="member-name-link">getThreadsToWaitOnAcquireSnapshot</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Getter for <code>THREADS_TO_WAIT_ON_ACQUIRE</code></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getThreadsWaitingToReleaseDeferredLocksJustificationSnapshot()" class="member-name-link">getThreadsWaitingToReleaseDeferredLocksJustificationSnapshot</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Getter for <code>THREADS_WAITING_TO_RELEASE_DEFERRED_LOCKS_BUILD_OBJECT_COMPLETE_GOES_NOWHERE</code></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getThreadsWaitingToReleaseDeferredLocksSnapshot()" class="member-name-link">getThreadsWaitingToReleaseDeferredLocksSnapshot</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Getter for <code>THREADS_WAITING_TO_RELEASE_DEFERRED_LOCKS</code></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTotalNumberOfKeysAcquiredForReading()" class="member-name-link">getTotalNumberOfKeysAcquiredForReading</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Getter for <code>totalNumberOfKeysAcquiredForReading</code></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTotalNumberOfKeysReleasedForReading()" class="member-name-link">getTotalNumberOfKeysReleasedForReading</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Getter for <code>totalNumberOfKeysReleasedForReading</code></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTotalNumberOfKeysReleasedForReadingBlewUpExceptionDueToCacheKeyHavingReachedCounterZero()" class="member-name-link">getTotalNumberOfKeysReleasedForReadingBlewUpExceptionDueToCacheKeyHavingReachedCounterZero</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Getter for <code>totalNumberOfKeysReleasedForReadingBlewUpExceptionDueToCacheKeyHavingReachedCounterZero</code></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#initializeDeferredLockManagers()" class="member-name-link">initializeDeferredLockManagers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Init the deferred lock managers (thread - DeferredLockManager).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isAcquired()" class="member-name-link">isAcquired</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return if a thread has acquire this manager.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isAcquiredForWritingAndOwnedByDifferentThread()" class="member-name-link">isAcquiredForWritingAndOwnedByDifferentThread</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if <code>org.eclipse.persistence.internal.helper.ConcurrencyManager</code> or child like <code>org.eclipse.persistence.internal.identitymaps.CacheKey</code> is currently being owned for writing
 and if that owning thread happens to be the current thread doing the check.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isBuildObjectOnThreadComplete(java.lang.Thread,java.util.Map,java.util.List,boolean)" class="member-name-link">isBuildObjectOnThreadComplete</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;recursiveSet,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;parentChainOfThreads,
 boolean&nbsp;deadLockDiagnostic)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Check if the deferred locks of a thread are all released.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isLockedByMergeManager()" class="member-name-link">isLockedByMergeManager</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:
 Used byt the refresh process to determine if this concurrency manager is locked by
 the merge process.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isNested()" class="member-name-link">isNested</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return if this manager is within a nested acquire.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#putDeferredLock(java.lang.Thread,org.eclipse.persistence.internal.helper.DeferredLockManager)" class="member-name-link">putDeferredLock</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread,
 <a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&nbsp;lockManager)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#putThreadAsWaitingToAcquireLockForReading(java.lang.Thread,java.lang.String)" class="member-name-link">putThreadAsWaitingToAcquireLockForReading</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentThread,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;methodName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The thread is trying to acquire a read lock but it is not being able to make process on getting the read lock.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#putThreadAsWaitingToAcquireLockForWriting(java.lang.Thread,java.lang.String)" class="member-name-link">putThreadAsWaitingToAcquireLockForWriting</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;methodName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Normally this mehtod should only be called from withing the concurrency manager.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#release()" class="member-name-link">release</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Decrement the depth for the active thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#releaseAllLocksAcquiredByThread(org.eclipse.persistence.internal.helper.DeferredLockManager)" class="member-name-link">releaseAllLocksAcquiredByThread</a><wbr>(<a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&nbsp;lockManager)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">For the thread to release all of its locks.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#releaseDeferredLock()" class="member-name-link">releaseDeferredLock</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Release the deferred lock.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#releaseReadLock()" class="member-name-link">releaseReadLock</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Decrement the number of readers.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#removeDeferredLockManager(java.lang.Thread)" class="member-name-link">removeDeferredLockManager</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Remove the deferred lock manager for the thread</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeReadLockFromReadLockManager()" class="member-name-link">removeReadLockFromReadLockManager</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The current thread is about to decrement the number of readers in cache key.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#removeReadLockManagerIfEmpty(java.lang.Thread)" class="member-name-link">removeReadLockManagerIfEmpty</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Just like we see that the satic map of deffered locks is cleared of cache values for
 the current thread we also want to try to keep the static map of acquired read locks by a thread light weight by
 removing the association between the current thread and a read lock manager whenever the read lock manager
 becomes empty.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeThreadNoLongerWaitingToAcquireLockForReading(java.lang.Thread)" class="member-name-link">removeThreadNoLongerWaitingToAcquireLockForReading</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeThreadNoLongerWaitingToAcquireLockForWriting(java.lang.Thread)" class="member-name-link">removeThreadNoLongerWaitingToAcquireLockForWriting</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The thread has acquired the lock for writing or decided to defer acquiring the lock putting this lock into its
 deferred lock list.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setActiveThread(java.lang.Thread)" class="member-name-link">setActiveThread</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;activeThread)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the active thread.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setDepth(int)" class="member-name-link">setDepth</a><wbr>(int&nbsp;depth)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the current depth of the active thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setIsLockedByMergeManager(boolean)" class="member-name-link">setIsLockedByMergeManager</a><wbr>(boolean&nbsp;state)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:
 Used by the mergemanager to let the read know not to refresh this object as it is being
 loaded by the merge process.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse(java.lang.String)" class="member-name-link">setJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;justification)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">See <a href="#clearJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse()"><code>clearJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse()</code></a> in this case we want to store the
 justification computed by the
 <a href="#enrichStringBuildingExplainWhyThreadIsStuckInIsBuildObjectOnThreadComplete(java.util.List,org.eclipse.persistence.internal.helper.ConcurrencyManager,java.lang.Thread,boolean,java.lang.StringBuilder)"><code>enrichStringBuildingExplainWhyThreadIsStuckInIsBuildObjectOnThreadComplete(List, ConcurrencyManager, Thread, boolean, StringBuilder)</code></a></div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setNumberOfReaders(int)" class="member-name-link">setNumberOfReaders</a><wbr>(int&nbsp;numberOfReaders)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Track the number of readers.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setNumberOfWritersWaiting(int)" class="member-name-link">setNumberOfWritersWaiting</a><wbr>(int&nbsp;numberOfWritersWaiting)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Number of writers that want the lock.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setShouldTrackStack(boolean)" class="member-name-link">setShouldTrackStack</a><wbr>(boolean&nbsp;shouldTrackStack)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">INTERNAL:
 This can be set during debugging to record the stacktrace when a lock is acquired.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setStack(java.lang.Exception)" class="member-name-link">setStack</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&nbsp;stack)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#shouldTrackStack()" class="member-name-link">shouldTrackStack</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Print the nested depth.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#transitionToDeferredLock()" class="member-name-link">transitionToDeferredLock</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="DEFERRED_LOCK_MANAGERS">
<h3>DEFERRED_LOCK_MANAGERS</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&gt;</span>&nbsp;<span class="element-name">DEFERRED_LOCK_MANAGERS</span></div>
</section>
</li>
<li>
<section class="detail" id="shouldTrackStack">
<h3>shouldTrackStack</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">shouldTrackStack</span></div>
</section>
</li>
<li>
<section class="detail" id="numberOfReaders">
<h3>numberOfReaders</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></span>&nbsp;<span class="element-name">numberOfReaders</span></div>
</section>
</li>
<li>
<section class="detail" id="depth">
<h3>depth</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></span>&nbsp;<span class="element-name">depth</span></div>
</section>
</li>
<li>
<section class="detail" id="numberOfWritersWaiting">
<h3>numberOfWritersWaiting</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicInteger</a></span>&nbsp;<span class="element-name">numberOfWritersWaiting</span></div>
</section>
</li>
<li>
<section class="detail" id="activeThread">
<h3>activeThread</h3>
<div class="member-signature"><span class="modifiers">protected transient volatile</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a></span>&nbsp;<span class="element-name">activeThread</span></div>
</section>
</li>
<li>
<section class="detail" id="lockedByMergeManager">
<h3>lockedByMergeManager</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">lockedByMergeManager</span></div>
</section>
</li>
<li>
<section class="detail" id="stack">
<h3>stack</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span>&nbsp;<span class="element-name">stack</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>ConcurrencyManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">ConcurrencyManager</span>()</div>
<div class="block">Initialize the newly allocated instance of this class.
 Set the depth to zero.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="acquire()">
<h3>acquire</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">acquire</span>()
             throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">Wait for all threads except the active thread.
 If the active thread just increment the depth.
 This should be called before entering a critical section.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquire(boolean)">
<h3>acquire</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">acquire</span><wbr><span class="parameters">(boolean&nbsp;forMerge)</span>
             throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">Wait for all threads except the active thread.
 If the active thread just increment the depth.
 This should be called before entering a critical section.
 called with true from the merge process, if true then the refresh will not refresh the object</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireNoWait()">
<h3>acquireNoWait</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">acquireNoWait</span>()
                      throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">If the lock is not acquired already acquire it and return true.
 If it has been acquired already return false
 Added for CR 2317</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireNoWait(boolean)">
<h3>acquireNoWait</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">acquireNoWait</span><wbr><span class="parameters">(boolean&nbsp;forMerge)</span>
                      throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">If the lock is not acquired already acquire it and return true.
 If it has been acquired already return false
 Added for CR 2317
 called with true from the merge process, if true then the refresh will not refresh the object</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireWithWait(boolean,int)">
<h3>acquireWithWait</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">acquireWithWait</span><wbr><span class="parameters">(boolean&nbsp;forMerge,
 int&nbsp;wait)</span>
                        throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">If the lock is not acquired already acquire it and return true.
 If it has been acquired already return false
 Added for CR 2317
 called with true from the merge process, if true then the refresh will not refresh the object</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireIfUnownedNoWait(boolean)">
<h3>acquireIfUnownedNoWait</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">acquireIfUnownedNoWait</span><wbr><span class="parameters">(boolean&nbsp;forMerge)</span>
                               throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">If the activeThread is not set, acquire it and return true.
 If the activeThread is set, it has been acquired already, return false.
 Added for Bug 5840635
 Call with true from the merge process, if true then the refresh will not refresh the object.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireDeferredLock()">
<h3>acquireDeferredLock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">acquireDeferredLock</span>()
                         throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">Add deferred lock into a hashtable to avoid deadlock</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkDeferredLock()">
<h3>checkDeferredLock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkDeferredLock</span>()
                       throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">Check the lock state, if locked, acquire and release a deferred lock.
 This optimizes out the normal deferred-lock check if not locked.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkReadLock()">
<h3>checkReadLock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkReadLock</span>()
                   throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">Check the lock state, if locked, acquire and release a read lock.
 This optimizes out the normal read-lock check if not locked.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireReadLock()">
<h3>acquireReadLock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">acquireReadLock</span>()
                     throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">Wait on any writer.
 Allow concurrent reads.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acquireReadLockNoWait()">
<h3>acquireReadLockNoWait</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">acquireReadLockNoWait</span>()</div>
<div class="block">If this is acquired return false otherwise acquire readlock and return true</div>
</section>
</li>
<li>
<section class="detail" id="getActiveThread()">
<h3>getActiveThread</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a></span>&nbsp;<span class="element-name">getActiveThread</span>()</div>
<div class="block">Return the active thread.</div>
</section>
</li>
<li>
<section class="detail" id="getDeferredLockManager(java.lang.Thread)">
<h3>getDeferredLockManager</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a></span>&nbsp;<span class="element-name">getDeferredLockManager</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</span></div>
<div class="block">Return the deferred lock manager from the thread</div>
</section>
</li>
<li>
<section class="detail" id="getDeferredLockManagers()">
<h3>getDeferredLockManagers</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&gt;</span>&nbsp;<span class="element-name">getDeferredLockManagers</span>()</div>
<div class="block">Return the deferred lock manager hashtable (thread - DeferredLockManager).</div>
</section>
</li>
<li>
<section class="detail" id="getDeferredLockManagersSnapshot()">
<h3>getDeferredLockManagersSnapshot</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&gt;</span>&nbsp;<span class="element-name">getDeferredLockManagersSnapshot</span>()</div>
<div class="block">Return snapshot of the deferred lock manager hashtable (thread - DeferredLockManager).</div>
</section>
</li>
<li>
<section class="detail" id="initializeDeferredLockManagers()">
<h3>initializeDeferredLockManagers</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&gt;</span>&nbsp;<span class="element-name">initializeDeferredLockManagers</span>()</div>
<div class="block">Init the deferred lock managers (thread - DeferredLockManager).</div>
</section>
</li>
<li>
<section class="detail" id="getDepth()">
<h3>getDepth</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getDepth</span>()</div>
<div class="block">Return the current depth of the active thread.</div>
</section>
</li>
<li>
<section class="detail" id="getNumberOfReaders()">
<h3>getNumberOfReaders</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getNumberOfReaders</span>()</div>
<div class="block">Number of writer that want the lock.
 This is used to ensure that a writer is not starved.</div>
</section>
</li>
<li>
<section class="detail" id="getNumberOfWritersWaiting()">
<h3>getNumberOfWritersWaiting</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getNumberOfWritersWaiting</span>()</div>
<div class="block">Number of writers that want the lock.
 This is used to ensure that a writer is not starved.</div>
</section>
</li>
<li>
<section class="detail" id="isAcquired()">
<h3>isAcquired</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isAcquired</span>()</div>
<div class="block">Return if a thread has acquire this manager.</div>
</section>
</li>
<li>
<section class="detail" id="isLockedByMergeManager()">
<h3>isLockedByMergeManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLockedByMergeManager</span>()</div>
<div class="block">INTERNAL:
 Used byt the refresh process to determine if this concurrency manager is locked by
 the merge process.  If it is then the refresh should not refresh the object</div>
</section>
</li>
<li>
<section class="detail" id="isBuildObjectOnThreadComplete(java.lang.Thread,java.util.Map,java.util.List,boolean)">
<h3>isBuildObjectOnThreadComplete</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isBuildObjectOnThreadComplete</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;recursiveSet,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;parentChainOfThreads,
 boolean&nbsp;deadLockDiagnostic)</span></div>
<div class="block">Check if the deferred locks of a thread are all released.
 Should write dead lock diagnostic information into the <code>THREADS_WAITING_TO_RELEASE_DEFERRED_LOCKS_BUILD_OBJECT_COMPLETE_GOES_NOWHERE</code>.
 <br></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>thread</code> - the current thread to be explored. It starts by being the thread that it is stuck but then it evolves
            to be other that have acquired locks our main thread was needing but whcich themslves are stuck...
            threads in the deffered lock chain that are going nowhere themselves.</dd>
<dd><code>recursiveSet</code> - this prevents the algorithm going into an infinite loop of expanding the same thread more than once.</dd>
<dd><code>parentChainOfThreads</code> - this starts by being a basket containing the current thread, but each time we go deeper it evolves to
            contain the thread we will explore next.</dd>
<dt>Returns:</dt>
<dd>true if object is complete</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="enrichStringBuildingExplainWhyThreadIsStuckInIsBuildObjectOnThreadComplete(java.util.List,org.eclipse.persistence.internal.helper.ConcurrencyManager,java.lang.Thread,boolean,java.lang.StringBuilder)">
<h3>enrichStringBuildingExplainWhyThreadIsStuckInIsBuildObjectOnThreadComplete</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">enrichStringBuildingExplainWhyThreadIsStuckInIsBuildObjectOnThreadComplete</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;chainOfThreadsExpandedInRecursion,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;finalDeferredLockCausingTrouble,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;activeThreadOnDeferredLock,
 boolean&nbsp;hasDeferredLockManager,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/StringBuilder.html" title="class or interface in java.lang" class="external-link">StringBuilder</a>&nbsp;justification)</span></div>
<div class="block">When the recursive algorithm decides to return false it is because it is confronted with a cache key that had to
 be deferred. And the cache key is either being owned by a thread that did not flage itsef as being finished and
 waiting in the wait for deferred locks. Or the thread that ows the cache key is not playing nice - and not using
 deferred locks - so it has acquire the cache key, it is going about its business (e.g. committing a transaction
 or perhaps doing object building. Normally, but not always, in object building threads do have a lock manager,
 but sometimes not when they agressive acquire lock policy. )</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>chainOfThreadsExpandedInRecursion</code> - This the chaing threads that were expanded as we went down with the recursion</dd>
<dd><code>finalDeferredLockCausingTrouble</code> - this is a lock that was deferred either by current thread or by a thread that is also itself waiting
            around . This lock is what is causing us ultimately to return FALSE, because the lock is still ACUIRED
            so not yet free. And the thread that owns it is also still not finished yet.</dd>
<dd><code>activeThreadOnDeferredLock</code> - this is the thread that was spotted as owning/being actively owning the the deferred lock. So we can
            consider this thread as being the ultimate cause of why the current thread and perhaps a hole chaing
            of related threads are not evolving. But certainly the current thread.</dd>
<dd><code>hasDeferredLockManager</code> - Some threads have deferred lock managers some not. Not clear when they do. But threads doing object
            building typically end up creating a deferred lock manager when they find themselves unable to acquire
            an object and need to defer on the cache key.</dd>
<dd><code>justification</code> - this is what we want to populate it will allow us to build a trace to explain why the thread on the
            wait for deferred lock is going nowhere. This trace will be quite important to help us interpret the
            massive dumps since it is quite typical to find threads in this state.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isNested()">
<h3>isNested</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isNested</span>()</div>
<div class="block">Return if this manager is within a nested acquire.</div>
</section>
</li>
<li>
<section class="detail" id="putDeferredLock(java.lang.Thread,org.eclipse.persistence.internal.helper.DeferredLockManager)">
<h3>putDeferredLock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putDeferredLock</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread,
 <a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&nbsp;lockManager)</span></div>
</section>
</li>
<li>
<section class="detail" id="release()">
<h3>release</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">release</span>()
             throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">Decrement the depth for the active thread.
 Assume the current thread is the active one.
 Raise an error if the depth become &lt; 0.
 The notify will release the first thread waiting on the object,
 if no threads are waiting it will do nothing.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="releaseDeferredLock()">
<h3>releaseDeferredLock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">releaseDeferredLock</span>()
                         throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">Release the deferred lock.
 This uses a deadlock detection and resolution algorithm to avoid cache deadlocks.
 The deferred lock manager keeps track of the lock for a thread, so that other
 thread know when a deadlock has occurred and can resolve it.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="releaseReadLock()">
<h3>releaseReadLock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">releaseReadLock</span>()
                     throws <span class="exceptions"><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></span></div>
<div class="block">Decrement the number of readers. Used to allow concurrent reads.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/ConcurrencyException.html" title="class in org.eclipse.persistence.exceptions">ConcurrencyException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeDeferredLockManager(java.lang.Thread)">
<h3>removeDeferredLockManager</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a></span>&nbsp;<span class="element-name">removeDeferredLockManager</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</span></div>
<div class="block">Remove the deferred lock manager for the thread</div>
</section>
</li>
<li>
<section class="detail" id="setActiveThread(java.lang.Thread)">
<h3>setActiveThread</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setActiveThread</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;activeThread)</span></div>
<div class="block">Set the active thread.</div>
</section>
</li>
<li>
<section class="detail" id="setDepth(int)">
<h3>setDepth</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setDepth</span><wbr><span class="parameters">(int&nbsp;depth)</span></div>
<div class="block">Set the current depth of the active thread.</div>
</section>
</li>
<li>
<section class="detail" id="setIsLockedByMergeManager(boolean)">
<h3>setIsLockedByMergeManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setIsLockedByMergeManager</span><wbr><span class="parameters">(boolean&nbsp;state)</span></div>
<div class="block">INTERNAL:
 Used by the mergemanager to let the read know not to refresh this object as it is being
 loaded by the merge process.</div>
</section>
</li>
<li>
<section class="detail" id="setNumberOfReaders(int)">
<h3>setNumberOfReaders</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setNumberOfReaders</span><wbr><span class="parameters">(int&nbsp;numberOfReaders)</span></div>
<div class="block">Track the number of readers.</div>
</section>
</li>
<li>
<section class="detail" id="setNumberOfWritersWaiting(int)">
<h3>setNumberOfWritersWaiting</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setNumberOfWritersWaiting</span><wbr><span class="parameters">(int&nbsp;numberOfWritersWaiting)</span></div>
<div class="block">Number of writers that want the lock.
 This is used to ensure that a writer is not starved.</div>
</section>
</li>
<li>
<section class="detail" id="transitionToDeferredLock()">
<h3>transitionToDeferredLock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">transitionToDeferredLock</span>()</div>
</section>
</li>
<li>
<section class="detail" id="releaseAllLocksAcquiredByThread(org.eclipse.persistence.internal.helper.DeferredLockManager)">
<h3>releaseAllLocksAcquiredByThread</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">releaseAllLocksAcquiredByThread</span><wbr><span class="parameters">(<a href="DeferredLockManager.html" title="class in org.eclipse.persistence.internal.helper">DeferredLockManager</a>&nbsp;lockManager)</span></div>
<div class="block">For the thread to release all of its locks.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lockManager</code> - the deferred lock manager</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReadLockManager(java.lang.Thread)">
<h3>getReadLockManager</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="ReadLockManager.html" title="class in org.eclipse.persistence.internal.helper">ReadLockManager</a></span>&nbsp;<span class="element-name">getReadLockManager</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</span></div>
<div class="block">The method is not synchronized because for now we assume that each thread will ask for its own lock manager. If
 we were writing a dead lock detection mechanism then a ThreadA could be trying understand the ReadLocks of a
 ThreadB and this would no longer be true.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>thread</code> - The thread for which we want to have look at the acquired read locks.</dd>
<dt>Returns:</dt>
<dd>Never null if the read lock manager does not yet exist for the current thread. otherwise its read log
         manager is returned.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReadLockManagers()">
<h3>getReadLockManagers</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="ReadLockManager.html" title="class in org.eclipse.persistence.internal.helper">ReadLockManager</a>&gt;</span>&nbsp;<span class="element-name">getReadLockManagers</span>()</div>
<div class="block">Return the deferred lock manager hashtable (thread - DeferredLockManager).</div>
</section>
</li>
<li>
<section class="detail" id="getReadLockManagersSnapshot()">
<h3>getReadLockManagersSnapshot</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="ReadLockManager.html" title="class in org.eclipse.persistence.internal.helper">ReadLockManager</a>&gt;</span>&nbsp;<span class="element-name">getReadLockManagersSnapshot</span>()</div>
<div class="block">Return snapshot of the deferred lock manager hashtable (thread - DeferredLockManager).</div>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<div class="block">Print the nested depth.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStack()">
<h3>getStack</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span>&nbsp;<span class="element-name">getStack</span>()</div>
</section>
</li>
<li>
<section class="detail" id="setStack(java.lang.Exception)">
<h3>setStack</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setStack</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&nbsp;stack)</span></div>
</section>
</li>
<li>
<section class="detail" id="shouldTrackStack()">
<h3>shouldTrackStack</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">shouldTrackStack</span>()</div>
</section>
</li>
<li>
<section class="detail" id="setShouldTrackStack(boolean)">
<h3>setShouldTrackStack</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setShouldTrackStack</span><wbr><span class="parameters">(boolean&nbsp;shouldTrackStack)</span></div>
<div class="block">INTERNAL:
 This can be set during debugging to record the stacktrace when a lock is acquired.
 Then once IdentityMapAccessor.printIdentityMapLocks() is called the stack call for each
 lock will be printed as well.  Because locking issues are usually quite time sensitive setting
 this flag may inadvertently remove the deadlock because of the change in timings.
 <p>
 There is also a system level property for this setting. "eclipselink.cache.record-stack-on-lock"</div>
</section>
</li>
<li>
<section class="detail" id="putThreadAsWaitingToAcquireLockForWriting(java.lang.Thread,java.lang.String)">
<h3>putThreadAsWaitingToAcquireLockForWriting</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putThreadAsWaitingToAcquireLockForWriting</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;methodName)</span></div>
<div class="block">Normally this mehtod should only be called from withing the concurrency manager.
 However the write lock manager while it is building clones also does some while loop waiting
 to try to acquire a cache key this acquiring logic is not being managed directly inside of the wait manager.</div>
</section>
</li>
<li>
<section class="detail" id="removeThreadNoLongerWaitingToAcquireLockForWriting(java.lang.Thread)">
<h3>removeThreadNoLongerWaitingToAcquireLockForWriting</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeThreadNoLongerWaitingToAcquireLockForWriting</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</span></div>
<div class="block">The thread has acquired the lock for writing or decided to defer acquiring the lock putting this lock into its
 deferred lock list.</div>
</section>
</li>
<li>
<section class="detail" id="putThreadAsWaitingToAcquireLockForReading(java.lang.Thread,java.lang.String)">
<h3>putThreadAsWaitingToAcquireLockForReading</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putThreadAsWaitingToAcquireLockForReading</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentThread,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;methodName)</span></div>
<div class="block">The thread is trying to acquire a read lock but it is not being able to make process on getting the read lock.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>methodName</code> - metadata to help us debug trace leaking. If we start blowing up threads we do not want the traces
            created by the current thread to remain.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeThreadNoLongerWaitingToAcquireLockForReading(java.lang.Thread)">
<h3>removeThreadNoLongerWaitingToAcquireLockForReading</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeThreadNoLongerWaitingToAcquireLockForReading</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</span></div>
</section>
</li>
<li>
<section class="detail" id="getConcurrencyManagerId()">
<h3>getConcurrencyManagerId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getConcurrencyManagerId</span>()</div>
<div class="block">Getter for <code>concurrencyManagerId</code></div>
</section>
</li>
<li>
<section class="detail" id="getConcurrencyManagerCreationDate()">
<h3>getConcurrencyManagerCreationDate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a></span>&nbsp;<span class="element-name">getConcurrencyManagerCreationDate</span>()</div>
<div class="block">Getter for <code>concurrencyManagerCreationDate</code></div>
</section>
</li>
<li>
<section class="detail" id="getTotalNumberOfKeysAcquiredForReading()">
<h3>getTotalNumberOfKeysAcquiredForReading</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTotalNumberOfKeysAcquiredForReading</span>()</div>
<div class="block">Getter for <code>totalNumberOfKeysAcquiredForReading</code></div>
</section>
</li>
<li>
<section class="detail" id="getTotalNumberOfKeysReleasedForReading()">
<h3>getTotalNumberOfKeysReleasedForReading</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTotalNumberOfKeysReleasedForReading</span>()</div>
<div class="block">Getter for <code>totalNumberOfKeysReleasedForReading</code></div>
</section>
</li>
<li>
<section class="detail" id="getTotalNumberOfKeysReleasedForReadingBlewUpExceptionDueToCacheKeyHavingReachedCounterZero()">
<h3>getTotalNumberOfKeysReleasedForReadingBlewUpExceptionDueToCacheKeyHavingReachedCounterZero</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTotalNumberOfKeysReleasedForReadingBlewUpExceptionDueToCacheKeyHavingReachedCounterZero</span>()</div>
<div class="block">Getter for <code>totalNumberOfKeysReleasedForReadingBlewUpExceptionDueToCacheKeyHavingReachedCounterZero</code></div>
</section>
</li>
<li>
<section class="detail" id="getThreadsToWaitOnAcquireSnapshot()">
<h3>getThreadsToWaitOnAcquireSnapshot</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&gt;</span>&nbsp;<span class="element-name">getThreadsToWaitOnAcquireSnapshot</span>()</div>
<div class="block">Getter for <code>THREADS_TO_WAIT_ON_ACQUIRE</code></div>
</section>
</li>
<li>
<section class="detail" id="getThreadsToWaitOnAcquireMethodNameSnapshot()">
<h3>getThreadsToWaitOnAcquireMethodNameSnapshot</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getThreadsToWaitOnAcquireMethodNameSnapshot</span>()</div>
<div class="block">Getter for <code>THREADS_TO_WAIT_ON_ACQUIRE_NAME_OF_METHOD_CREATING_TRACE</code></div>
</section>
</li>
<li>
<section class="detail" id="getThreadsToWaitOnAcquireReadLockSnapshot()">
<h3>getThreadsToWaitOnAcquireReadLockSnapshot</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&gt;</span>&nbsp;<span class="element-name">getThreadsToWaitOnAcquireReadLockSnapshot</span>()</div>
<div class="block">Getter for <code>THREADS_TO_WAIT_ON_ACQUIRE_READ_LOCK</code></div>
</section>
</li>
<li>
<section class="detail" id="getThreadsToWaitOnAcquireReadLockMethodNameSnapshot()">
<h3>getThreadsToWaitOnAcquireReadLockMethodNameSnapshot</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getThreadsToWaitOnAcquireReadLockMethodNameSnapshot</span>()</div>
<div class="block">Getter for <code>THREADS_TO_WAIT_ON_ACQUIRE_READ_LOCK_NAME_OF_METHOD_CREATING_TRACE</code></div>
</section>
</li>
<li>
<section class="detail" id="getThreadsWaitingToReleaseDeferredLocksSnapshot()">
<h3>getThreadsWaitingToReleaseDeferredLocksSnapshot</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;</span>&nbsp;<span class="element-name">getThreadsWaitingToReleaseDeferredLocksSnapshot</span>()</div>
<div class="block">Getter for <code>THREADS_WAITING_TO_RELEASE_DEFERRED_LOCKS</code></div>
</section>
</li>
<li>
<section class="detail" id="getThreadsWaitingToReleaseDeferredLocksJustificationSnapshot()">
<h3>getThreadsWaitingToReleaseDeferredLocksJustificationSnapshot</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getThreadsWaitingToReleaseDeferredLocksJustificationSnapshot</span>()</div>
<div class="block">Getter for <code>THREADS_WAITING_TO_RELEASE_DEFERRED_LOCKS_BUILD_OBJECT_COMPLETE_GOES_NOWHERE</code></div>
</section>
</li>
<li>
<section class="detail" id="addReadLockToReadLockManager()">
<h3>addReadLockToReadLockManager</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addReadLockToReadLockManager</span>()</div>
<div class="block">The current thread has incremented the number of readers on the current cache key. It also wants to record into
 the read lock manager that this thread has acquired the cache key. This method should be user in all places where
 the cache key nunber of readers is incremented.</div>
</section>
</li>
<li>
<section class="detail" id="removeReadLockFromReadLockManager()">
<h3>removeReadLockFromReadLockManager</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeReadLockFromReadLockManager</span>()</div>
<div class="block">The current thread is about to decrement the number of readers in cache key. The thread also wants to update the
 read lock manager and remove the cache key that has previously been aquired from there.</div>
</section>
</li>
<li>
<section class="detail" id="getReadLockManagerEnsureResultIsNotNull(java.lang.Thread)">
<h3>getReadLockManagerEnsureResultIsNotNull</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="ReadLockManager.html" title="class in org.eclipse.persistence.internal.helper">ReadLockManager</a></span>&nbsp;<span class="element-name">getReadLockManagerEnsureResultIsNotNull</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</span></div>
<div class="block">Same as <a href="#getReadLockManager(java.lang.Thread)"><code>getReadLockManager(Thread)</code></a> but in this case a not null result is ensured</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>thread</code> - the thread wanting its read lock manager</dd>
<dt>Returns:</dt>
<dd>the read lock manager for the current thread.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeReadLockManagerIfEmpty(java.lang.Thread)">
<h3>removeReadLockManagerIfEmpty</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeReadLockManagerIfEmpty</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread)</span></div>
<div class="block">Just like we see that the satic map of deffered locks is cleared of cache values for
 the current thread we also want to try to keep the static map of acquired read locks by a thread light weight by
 removing the association between the current thread and a read lock manager whenever the read lock manager
 becomes empty.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>thread</code> - the thread that wants its read lock manager destroyed if it is empty.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clearJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse()">
<h3>clearJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clearJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse</span>()</div>
<div class="block">Clear the justification why the <a href="#isBuildObjectOnThreadComplete(java.lang.Thread,java.util.Map,java.util.List,boolean)"><code>isBuildObjectOnThreadComplete(Thread, Map, List, boolean)</code></a> is
 going nowhere.

 <P>
 WHEN TO INVOKE: <br>
 Should be invoked if we decide to blowup a thread with the explosive approach, for a thread in wait for release
 deferred lock. We do not want to keep traces of threads that left eclipselink code. <br>

 Should be infokved when the algorithm returns TRUE - build object is complete. <br>
 Should be invoked when we are not yet stuck for sufficient time and the release defferred logic algorithm is
 using the <a href="#isBuildObjectOnThreadComplete(java.lang.Thread,java.util.Map,java.util.List,boolean)"><code>isBuildObjectOnThreadComplete(Thread, Map, List, boolean)</code></a> instead of the more verbose and slower
 <a href="#isBuildObjectOnThreadComplete(java.lang.Thread,java.util.Map,java.util.List,boolean)"><code>isBuildObjectOnThreadComplete(Thread, Map, List, boolean)</code></a>.</div>
</section>
</li>
<li>
<section class="detail" id="setJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse(java.lang.String)">
<h3>setJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;justification)</span></div>
<div class="block">See <a href="#clearJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse()"><code>clearJustificationWhyMethodIsBuildingObjectCompleteReturnsFalse()</code></a> in this case we want to store the
 justification computed by the
 <a href="#enrichStringBuildingExplainWhyThreadIsStuckInIsBuildObjectOnThreadComplete(java.util.List,org.eclipse.persistence.internal.helper.ConcurrencyManager,java.lang.Thread,boolean,java.lang.StringBuilder)"><code>enrichStringBuildingExplainWhyThreadIsStuckInIsBuildObjectOnThreadComplete(List, ConcurrencyManager, Thread, boolean, StringBuilder)</code></a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>justification</code> - a string that helps us understand why the recursive algorithm returned false, building object is not
            yet complete.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInstanceLock()">
<h3>getInstanceLock</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/Lock.html" title="class or interface in java.util.concurrent.locks" class="external-link">Lock</a></span>&nbsp;<span class="element-name">getInstanceLock</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getInstanceLockCondition()">
<h3>getInstanceLockCondition</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/Condition.html" title="class or interface in java.util.concurrent.locks" class="external-link">Condition</a></span>&nbsp;<span class="element-name">getInstanceLockCondition</span>()</div>
</section>
</li>
<li>
<section class="detail" id="isAcquiredForWritingAndOwnedByDifferentThread()">
<h3>isAcquiredForWritingAndOwnedByDifferentThread</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isAcquiredForWritingAndOwnedByDifferentThread</span>()</div>
<div class="block">Check if <code>org.eclipse.persistence.internal.helper.ConcurrencyManager</code> or child like <code>org.eclipse.persistence.internal.identitymaps.CacheKey</code> is currently being owned for writing
 and if that owning thread happens to be the current thread doing the check.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>false</code> means either the thread is currently not owned by any other thread for writing purposes. Or otherwise if is owned by some thread
 but the thread is not the current thread. <code>false</code> is returned if and only if instance is being owned by some thread
 and that thread is not the current thread, it is some other competing thread.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
