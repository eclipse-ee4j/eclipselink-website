<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>ExplainDeadLockUtil (EclipseLink 4.0.3, API Reference)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: module: org.eclipse.persistence.core, package: org.eclipse.persistence.internal.helper, class: ExplainDeadLockUtil">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>EclipseLink 4.0.3, API Reference</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ExplainDeadLockUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../../module-summary.html">org.eclipse.persistence.core</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.persistence.internal.helper</a></div>
<h1 title="Class ExplainDeadLockUtil" class="title">Class ExplainDeadLockUtil</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.eclipse.persistence.internal.helper.ExplainDeadLockUtil</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ExplainDeadLockUtil</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">The purpose of this class is to try explain the nature of a dead lock</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="ExplainDeadLockUtil.html" title="class in org.eclipse.persistence.internal.helper">ExplainDeadLockUtil</a></code></div>
<div class="col-second even-row-color"><code><a href="#SINGLETON" class="member-name-link">SINGLETON</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createListExplainingDeadLock(org.eclipse.persistence.internal.helper.type.DeadLockComponent)" class="member-name-link">createListExplainingDeadLock</a><wbr>(<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&nbsp;deadLockExplanation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">When the last (repeating thread) of a dead lock is discovered and we start the unwinding of the recursion, the
 first DTO we create is flagged with
 <a href="type/DeadLockComponent.html#isFirstRepeatingThreadThatExplainsDeadLock()"><code>DeadLockComponent.isFirstRepeatingThreadThatExplainsDeadLock()</code></a>

 but it lacks all additional metadata.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#currentThreadIsKnownToBeWaitingForAnyResource(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,java.lang.Thread)" class="member-name-link">currentThreadIsKnownToBeWaitingForAnyResource</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This a helper sanity check.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deadLockFoundCreateConcurrencyManagerStateDeferredThreadCouldNotAcquireWriteLock(org.eclipse.persistence.internal.helper.type.DeadLockComponent,java.lang.Thread,org.eclipse.persistence.internal.helper.ConcurrencyManager)" class="member-name-link">deadLockFoundCreateConcurrencyManagerStateDeferredThreadCouldNotAcquireWriteLock</a><wbr>(<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&nbsp;nextThreadPartOfDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;threadNotAbleToAccessResource,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyBlockingIsBuildObjectComplete)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a deadlock component for a thread known to be stuck trying to release deferred locks.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deadLockFoundCreateConcurrencyManagerStateReaderThreadCouldNotAcquireWriteLock(org.eclipse.persistence.internal.helper.type.DeadLockComponent,java.lang.Thread,org.eclipse.persistence.internal.helper.ConcurrencyManager)" class="member-name-link">deadLockFoundCreateConcurrencyManagerStateReaderThreadCouldNotAcquireWriteLock</a><wbr>(<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&nbsp;nextThreadPartOfDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;threadNotAbleToAccessResource,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyThreadWantsToAcquireButCannotGet)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Dto component participating in a dead lock.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deadLockFoundCreateConcurrencyManagerStateWriterThreadCouldNotAcquireWriteLock(org.eclipse.persistence.internal.helper.type.DeadLockComponent,java.lang.Thread,org.eclipse.persistence.internal.helper.ConcurrencyManager)" class="member-name-link">deadLockFoundCreateConcurrencyManagerStateWriterThreadCouldNotAcquireWriteLock</a><wbr>(<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&nbsp;nextThreadPartOfDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;threadNotAbleToAccessResource,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyThreadWantsToAcquireButCannotGet)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a dead lock dto component.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#explainPossibleDeadLockStartRecursion(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState)" class="member-name-link">explainPossibleDeadLockStartRecursion</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerState)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Given the concurrency manager state try to explain why we are facing a dead lock.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="type/IsBuildObjectCompleteOutcome.html" title="class in org.eclipse.persistence.internal.helper.type">IsBuildObjectCompleteOutcome</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isBuildObjectOnThreadComplete(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,java.lang.Thread,java.util.Map)" class="member-name-link">isBuildObjectOnThreadComplete</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;recursiveSet)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">This method is nothing more than copy paste code from the algorithm

 <a href="ConcurrencyManager.html#isBuildObjectOnThreadComplete(java.lang.Thread,java.util.Map,java.util.List,boolean)"><code>ConcurrencyManager.isBuildObjectOnThreadComplete(Thread, Map, List, boolean)</code></a>

 We re-write this code to instead of returning true/false return an actual DTO object that can allow our dead lock
 explanation algorithm to identify the next thread to expand to explain the dead lock.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExpansionCurrentThreadBeingBlockedByActiveThreadOnCacheKey(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager,boolean)" class="member-name-link">recursiveExpansionCurrentThreadBeingBlockedByActiveThreadOnCacheKey</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerState,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyThreadWantsToAcquireButCannotGet,
 boolean&nbsp;currentThreadWantsToAcquireForWriting)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Try to expand the current thread from the perspective that it wants a cache key that may be own for writing by a
 competitor thread.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExpansionCurrentThreadBeingBlockedByActiveWriters(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager,boolean)" class="member-name-link">recursiveExpansionCurrentThreadBeingBlockedByActiveWriters</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerState,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyThreadWantsToAcquireButCannotGet,
 boolean&nbsp;currentThreadWantsToAcquireForWriting)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Try to expand the current thread from the perspective that it wants a cache key that may be own for writing by a competitor thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExplainPossibleDeadLockStep01(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set)" class="member-name-link">recursiveExplainPossibleDeadLockStep01</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The algorithm expands the current thread in depth.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExplainPossibleDeadLockStep02(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set)" class="member-name-link">recursiveExplainPossibleDeadLockStep02</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Precondition the logic of <a href="#recursiveExplainPossibleDeadLockStep01(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set)"><code>recursiveExplainPossibleDeadLockStep01(ConcurrencyManagerState, int, int, Thread, List, Set)</code></a> has been
 invoked and determined that we need to go deeper and expand the current thread.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExplainPossibleDeadLockStep03ExpandBasedOnCacheKeyWantedForWriting(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)" class="member-name-link">recursiveExplainPossibleDeadLockStep03ExpandBasedOnCacheKeyWantedForWriting</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We are looking at thread that we know has registered itself as wanting to acquire a write lock and not managing
 to make progress getting the write lock.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExplainPossibleDeadLockStep03Scenario01CurrentWriterVsOtherWritersWriter(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)" class="member-name-link">recursiveExplainPossibleDeadLockStep03Scenario01CurrentWriterVsOtherWritersWriter</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Expand the possibility of the current thread wanting to acquire for writing what some other already has acquired for writing.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExplainPossibleDeadLockStep03Scenario02CurrentWriterVsOtherReader(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)" class="member-name-link">recursiveExplainPossibleDeadLockStep03Scenario02CurrentWriterVsOtherReader</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerState,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Expand the recursion exploring the possibility that the reason the current thread cannot acquire the cache key is
 because there are readers on the cache key.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExplainPossibleDeadLockStep03Scenario03CurrentWriterVsCacheKeyActiveThread(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)" class="member-name-link">recursiveExplainPossibleDeadLockStep03Scenario03CurrentWriterVsCacheKeyActiveThread</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">In scenario 3 is when we start considering the possbility our data for detecting the dead lock is not ok or the
 cache is corrupted.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExplainPossibleDeadLockStep04ExpandBasedOnThreadStuckOnReleaseDeferredLocks(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set)" class="member-name-link">recursiveExplainPossibleDeadLockStep04ExpandBasedOnThreadStuckOnReleaseDeferredLocks</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">When a thead cannot move forward due to having deferred cache keys, it means that the thread could not go as deep
 as it wanted during object building and hda to defer making some parts of the object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExplainPossibleDeadLockStep05ExpandBasedOnCacheKeyWantedForReading(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)" class="member-name-link">recursiveExplainPossibleDeadLockStep05ExpandBasedOnCacheKeyWantedForReading</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForReadingButCannotGet)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">In this case have a thread that wants to acquire for reading a cache key but it does not manage to acquire it
 because the cache key is being owned by somebody else.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExplainPossibleDeadLockStep05Scenario01CurrentReaderVsOtherWriters(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)" class="member-name-link">recursiveExplainPossibleDeadLockStep05Scenario01CurrentReaderVsOtherWriters</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Expand the possibility of the current thread wanting to acquire for writing what some other already has acquired for writing.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recursiveExplainPossibleDeadLockStep05Scenario02CurrentReaderVsCacheKeyActiveThread(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)" class="member-name-link">recursiveExplainPossibleDeadLockStep05Scenario02CurrentReaderVsCacheKeyActiveThread</a><wbr>(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Same as
 <a href="#recursiveExplainPossibleDeadLockStep03Scenario03CurrentWriterVsCacheKeyActiveThread(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)"><code>recursiveExplainPossibleDeadLockStep03Scenario03CurrentWriterVsCacheKeyActiveThread(ConcurrencyManagerState, int, int, Thread, List, Set, ConcurrencyManager)</code></a>

 but in this case our candidate thread is trying to get the cache key with the purpose of READING and not for
 writing.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="SINGLETON">
<h3>SINGLETON</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="ExplainDeadLockUtil.html" title="class in org.eclipse.persistence.internal.helper">ExplainDeadLockUtil</a></span>&nbsp;<span class="element-name">SINGLETON</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="explainPossibleDeadLockStartRecursion(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState)">
<h3>explainPossibleDeadLockStartRecursion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&gt;</span>&nbsp;<span class="element-name">explainPossibleDeadLockStartRecursion</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerState)</span></div>
<div class="block">Given the concurrency manager state try to explain why we are facing a dead lock.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>concurrencyManagerState</code> - A clone we have assembled based on the concurrency manager and write lock manager state</dd>
<dt>Returns:</dt>
<dd>A string that tries</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createListExplainingDeadLock(org.eclipse.persistence.internal.helper.type.DeadLockComponent)">
<h3>createListExplainingDeadLock</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&gt;</span>&nbsp;<span class="element-name">createListExplainingDeadLock</span><wbr><span class="parameters">(<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&nbsp;deadLockExplanation)</span></div>
<div class="block">When the last (repeating thread) of a dead lock is discovered and we start the unwinding of the recursion, the
 first DTO we create is flagged with
 <a href="type/DeadLockComponent.html#isFirstRepeatingThreadThatExplainsDeadLock()"><code>DeadLockComponent.isFirstRepeatingThreadThatExplainsDeadLock()</code></a>

 but it lacks all additional metadata. so we want enrich the missing metadata into this dto.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>deadLockExplanation</code> - The outcome of the explain dead lock algorithm. The last DTO on this data structure is lacking
            metadata and we want to get rid of it.</dd>
<dt>Returns:</dt>
<dd>return the dead lock explanation as a simple list that is easy to iterate over without going into
         infinite loops and where we get rid of the primal repeating thread of our recursion which is lacking
         metadata about the nature of the dead lock on the thread.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recursiveExplainPossibleDeadLockStep01(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set)">
<h3>recursiveExplainPossibleDeadLockStep01</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExplainPossibleDeadLockStep01</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain)</span></div>
<div class="block">The algorithm expands the current thread in depth. If the current thread is already part of the
 threadPartOfCurrentDeadLockExpansion then we have found our dead lock. If we return null, we are empty handed ...
 we cannot explain the dad lock.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>recursionMaxDepth</code> - how deep do we want our brute force algorithm to go. Probably 6 threads is good enough to discover
            most dead locks. Max depth should be set to number of threads we believe can logically form a dead
            lock + 1.</dd>
<dd><code>currentRecursionDepth</code> - how deep we are in the recursion</dd>
<dd><code>currentCandidateThreadPartOfTheDeadLock</code> - the current thread we want to expand</dd>
<dd><code>threadPartOfCurrentDeadLockExpansion</code> - a small optimization. If in the past we xplored expanding Thread A and now we are via a different
            routing trying to find a dead lock via thread A again we can immediately ignore expanding the thread.</dd>
<dt>Returns:</dt>
<dd>NULL, if we reach a dead end without a dead lock. If a non result is returned means that the current
         thread is part of a dead lock identified..</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recursiveExplainPossibleDeadLockStep02(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set)">
<h3>recursiveExplainPossibleDeadLockStep02</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExplainPossibleDeadLockStep02</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain)</span></div>
<div class="block">Precondition the logic of <a href="#recursiveExplainPossibleDeadLockStep01(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set)"><code>recursiveExplainPossibleDeadLockStep01(ConcurrencyManagerState, int, int, Thread, List, Set)</code></a> has been
 invoked and determined that we need to go deeper and expand the current thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>recursionMaxDepth</code> - the max depth the recursion is allowed to reach before deciding it is pointless to go any further. Max
            depth should be set to number of threads we believe can logically form a dead lock + 1.</dd>
<dd><code>currentRecursionDepth</code> - how deep we are in the recursion</dd>
<dd><code>currentCandidateThreadPartOfTheDeadLock</code> - the current thread we want to expand</dd>
<dd><code>threadPartOfCurrentDeadLockExpansion</code> - a small optimization. If in the past we xplored expanding Thread A and now we are via a different
            routing trying to find a dead lock via thread A again we can immediately ignore expanding the thread.</dd>
<dt>Returns:</dt>
<dd>NULL, if we reach a dead end without a dead lock. If a non result is returned means that the current
         thread is part of a dead lock identified..</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="currentThreadIsKnownToBeWaitingForAnyResource(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,java.lang.Thread)">
<h3>currentThreadIsKnownToBeWaitingForAnyResource</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">currentThreadIsKnownToBeWaitingForAnyResource</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock)</span></div>
<div class="block">This a helper sanity check. Whenever we expand a threa we expect the thread must be starved fro some resource.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>concurrencyManagerStateDto</code> - the dto that holds the state of the cocurrency manager for our dead lock detection algorithm</dd>
<dd><code>currentCandidateThreadPartOfTheDeadLock</code> - the thread we are trying to evaluate</dd>
<dt>Returns:</dt>
<dd>TRUE if we are aware of one or more resources that the current thread strives to acquire but cannot get
         false if we are clueless as to any desire for the thread.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recursiveExplainPossibleDeadLockStep03ExpandBasedOnCacheKeyWantedForWriting(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)">
<h3>recursiveExplainPossibleDeadLockStep03ExpandBasedOnCacheKeyWantedForWriting</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExplainPossibleDeadLockStep03ExpandBasedOnCacheKeyWantedForWriting</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</span></div>
<div class="block">We are looking at thread that we know has registered itself as wanting to acquire a write lock and not managing
 to make progress getting the write lock. We need to have a look at the <a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type"><code>DeadLockComponent</code></a>
 to try to find out who is owning the lock at the current point in time. We will onsider th posisble writers,
 readers and in case of desperation the active thread on the cache key.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>concurrencyManagerStateDto</code> - state of concurrency manager</dd>
<dd><code>recursionMaxDepth</code> - how deep the recursion can go</dd>
<dd><code>currentRecursionDepth</code> - the current depeth</dd>
<dd><code>currentCandidateThreadPartOfTheDeadLock</code> - the current thread we are expanding and that may be involved in explaning a dead lock</dd>
<dd><code>threadPartOfCurrentDeadLockExpansion</code> - the predecessor threads that are part of a dead lock expansion we are searching</dd>
<dd><code>threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain</code> - these are threads we already expanded at depth 1 and we know they took us nowhere. We just assume
            expanding these a second time is a waste of time.</dd>
<dd><code>cacheKeyCurrentThreadWantsForWritingButCannotGet</code> - this is the cache key we have identified as making a our candidate thread stuck and we want to explore
            who is owning this cache key</dd>
<dt>Returns:</dt>
<dd>NULL if we get nowhere trying to find the dead lock otherwise a DTO explaining this thread and the
         successor threads that make the dead lock</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recursiveExplainPossibleDeadLockStep03Scenario01CurrentWriterVsOtherWritersWriter(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)">
<h3>recursiveExplainPossibleDeadLockStep03Scenario01CurrentWriterVsOtherWritersWriter</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExplainPossibleDeadLockStep03Scenario01CurrentWriterVsOtherWritersWriter</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</span></div>
<div class="block">Expand the possibility of the current thread wanting to acquire for writing what some other already has acquired for writing.</div>
</section>
</li>
<li>
<section class="detail" id="recursiveExplainPossibleDeadLockStep05Scenario01CurrentReaderVsOtherWriters(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)">
<h3>recursiveExplainPossibleDeadLockStep05Scenario01CurrentReaderVsOtherWriters</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExplainPossibleDeadLockStep05Scenario01CurrentReaderVsOtherWriters</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</span></div>
<div class="block">Expand the possibility of the current thread wanting to acquire for writing what some other already has acquired for writing.</div>
</section>
</li>
<li>
<section class="detail" id="recursiveExpansionCurrentThreadBeingBlockedByActiveWriters(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager,boolean)">
<h3>recursiveExpansionCurrentThreadBeingBlockedByActiveWriters</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExpansionCurrentThreadBeingBlockedByActiveWriters</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerState,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyThreadWantsToAcquireButCannotGet,
 boolean&nbsp;currentThreadWantsToAcquireForWriting)</span></div>
<div class="block">Try to expand the current thread from the perspective that it wants a cache key that may be own for writing by a competitor thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>concurrencyManagerState</code> - state of the concurrency manager</dd>
<dd><code>recursionMaxDepth</code> - max allowed depth for recursion.</dd>
<dd><code>currentRecursionDepth</code> - the current recursion depth</dd>
<dd><code>currentCandidateThreadPartOfTheDeadLock</code> - the current thread we are expanding in dpeth</dd>
<dd><code>threadPartOfCurrentDeadLockExpansion</code> - the current thread of sets comrpising our dead lock expansion.</dd>
<dd><code>threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain</code> - threads we have expanded in the past and gave no fruits</dd>
<dd><code>cacheKeyThreadWantsToAcquireButCannotGet</code> - the cache key we know our current candidate wants and is not getting.</dd>
<dd><code>currentThreadWantsToAcquireForWriting</code> - a flag that tells us if our current candidate thread is strugling to acquire a lock with the purpose
            of writing or just for reading.</dd>
<dt>Returns:</dt>
<dd>NULL if no dead lock is found. a value if a deadlock is found</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recursiveExplainPossibleDeadLockStep03Scenario02CurrentWriterVsOtherReader(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)">
<h3>recursiveExplainPossibleDeadLockStep03Scenario02CurrentWriterVsOtherReader</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExplainPossibleDeadLockStep03Scenario02CurrentWriterVsOtherReader</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerState,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</span></div>
<div class="block">Expand the recursion exploring the possibility that the reason the current thread cannot acquire the cache key is
 because there are readers on the cache key.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>NULL if dead lock not discovered. Otherwise dead lock component justifying the deadlock.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recursiveExplainPossibleDeadLockStep03Scenario03CurrentWriterVsCacheKeyActiveThread(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)">
<h3>recursiveExplainPossibleDeadLockStep03Scenario03CurrentWriterVsCacheKeyActiveThread</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExplainPossibleDeadLockStep03Scenario03CurrentWriterVsCacheKeyActiveThread</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</span></div>
<div class="block">In scenario 3 is when we start considering the possbility our data for detecting the dead lock is not ok or the
 cache is corrupted. We consider quite simply the thread that is flagged as the active thread on the cache key
 since this is the thread owning the cache key. However if we call for this scenario it means we did not find in
 our DTO any reader or writer owning the thread. So if indeed the cache key our thread is trying to acquire has an
 active thread and we do not know what this thread is currently doing - since the thread should either be in our
 basket of writers or in our basket of readers, we are stuck.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>NULL if looking at the active thread of the wanted cache key does not bare any fruits, otherwise the dead
         lock component object are returned.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recursiveExplainPossibleDeadLockStep05Scenario02CurrentReaderVsCacheKeyActiveThread(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)">
<h3>recursiveExplainPossibleDeadLockStep05Scenario02CurrentReaderVsCacheKeyActiveThread</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExplainPossibleDeadLockStep05Scenario02CurrentReaderVsCacheKeyActiveThread</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForWritingButCannotGet)</span></div>
<div class="block">Same as
 <a href="#recursiveExplainPossibleDeadLockStep03Scenario03CurrentWriterVsCacheKeyActiveThread(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)"><code>recursiveExplainPossibleDeadLockStep03Scenario03CurrentWriterVsCacheKeyActiveThread(ConcurrencyManagerState, int, int, Thread, List, Set, ConcurrencyManager)</code></a>

 but in this case our candidate thread is trying to get the cache key with the purpose of READING and not for
 writing.</div>
</section>
</li>
<li>
<section class="detail" id="recursiveExpansionCurrentThreadBeingBlockedByActiveThreadOnCacheKey(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager,boolean)">
<h3>recursiveExpansionCurrentThreadBeingBlockedByActiveThreadOnCacheKey</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExpansionCurrentThreadBeingBlockedByActiveThreadOnCacheKey</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerState,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyThreadWantsToAcquireButCannotGet,
 boolean&nbsp;currentThreadWantsToAcquireForWriting)</span></div>
<div class="block">Try to expand the current thread from the perspective that it wants a cache key that may be own for writing by a
 competitor thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>concurrencyManagerState</code> - state of the concurrency manager</dd>
<dd><code>recursionMaxDepth</code> - max allowed depth for recursion.</dd>
<dd><code>currentRecursionDepth</code> - the current recursion depth</dd>
<dd><code>currentCandidateThreadPartOfTheDeadLock</code> - the current thread we are expanding in dpeth</dd>
<dd><code>threadPartOfCurrentDeadLockExpansion</code> - the current thread of sets comrpising our dead lock expansion.</dd>
<dd><code>threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain</code> - threads we have expanded in the past and gave no fruits</dd>
<dd><code>cacheKeyThreadWantsToAcquireButCannotGet</code> - the cache key we know our current candidate wants and is not getting.</dd>
<dd><code>currentThreadWantsToAcquireForWriting</code> - a flag that tells us if our current candidate thread is strugling to acquire a lock with the purpose
            of writing or just for reading.</dd>
<dt>Returns:</dt>
<dd>NULL if no dead lock is found. a value if a deadlock is found</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recursiveExplainPossibleDeadLockStep04ExpandBasedOnThreadStuckOnReleaseDeferredLocks(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set)">
<h3>recursiveExplainPossibleDeadLockStep04ExpandBasedOnThreadStuckOnReleaseDeferredLocks</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExplainPossibleDeadLockStep04ExpandBasedOnThreadStuckOnReleaseDeferredLocks</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain)</span></div>
<div class="block">When a thead cannot move forward due to having deferred cache keys, it means that the thread could not go as deep
 as it wanted during object building and hda to defer making some parts of the object. The thread is stuck because
 the parts of the object it could not build are apparently not finished either.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>NULL if we are able to explain a dead lock via expanding this the current candidate thread Otherwiser a
         DTO component that explains the the dad lock</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="recursiveExplainPossibleDeadLockStep05ExpandBasedOnCacheKeyWantedForReading(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,int,int,java.lang.Thread,java.util.List,java.util.Set,org.eclipse.persistence.internal.helper.ConcurrencyManager)">
<h3>recursiveExplainPossibleDeadLockStep05ExpandBasedOnCacheKeyWantedForReading</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">recursiveExplainPossibleDeadLockStep05ExpandBasedOnCacheKeyWantedForReading</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 int&nbsp;recursionMaxDepth,
 int&nbsp;currentRecursionDepth,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;currentCandidateThreadPartOfTheDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadPartOfCurrentDeadLockExpansion,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;threadsAlreadyExpandedInThePastThatWeDoNotWantToExpandAgain,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyCurrentThreadWantsForReadingButCannotGet)</span></div>
<div class="block">In this case have a thread that wants to acquire for reading a cache key but it does not manage to acquire it
 because the cache key is being owned by somebody else. So we need to see what the writer of this cache key is
 doing.</div>
</section>
</li>
<li>
<section class="detail" id="isBuildObjectOnThreadComplete(org.eclipse.persistence.internal.helper.type.ConcurrencyManagerState,java.lang.Thread,java.util.Map)">
<h3>isBuildObjectOnThreadComplete</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="type/IsBuildObjectCompleteOutcome.html" title="class in org.eclipse.persistence.internal.helper.type">IsBuildObjectCompleteOutcome</a></span>&nbsp;<span class="element-name">isBuildObjectOnThreadComplete</span><wbr><span class="parameters">(<a href="type/ConcurrencyManagerState.html" title="class in org.eclipse.persistence.internal.helper.type">ConcurrencyManagerState</a>&nbsp;concurrencyManagerStateDto,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;thread,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&gt;&nbsp;recursiveSet)</span></div>
<div class="block">This method is nothing more than copy paste code from the algorithm

 <a href="ConcurrencyManager.html#isBuildObjectOnThreadComplete(java.lang.Thread,java.util.Map,java.util.List,boolean)"><code>ConcurrencyManager.isBuildObjectOnThreadComplete(Thread, Map, List, boolean)</code></a>

 We re-write this code to instead of returning true/false return an actual DTO object that can allow our dead lock
 explanation algorithm to identify the next thread to expand to explain the dead lock.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>concurrencyManagerStateDto</code> - our representation of a cloned ste of the concurrency manager and write lock manager</dd>
<dd><code>thread</code> - the current thread to explore which might have deferred locks. At level 1 of the recursion the thread
            is certain to have deferred locks.</dd>
<dd><code>recursiveSet</code> - this is an hash map holding the threads in the current recusion algorithm that have been expanded
            already to avoid expanding more than once the same thread and going into an infinite dead lock.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deadLockFoundCreateConcurrencyManagerStateWriterThreadCouldNotAcquireWriteLock(org.eclipse.persistence.internal.helper.type.DeadLockComponent,java.lang.Thread,org.eclipse.persistence.internal.helper.ConcurrencyManager)">
<h3>deadLockFoundCreateConcurrencyManagerStateWriterThreadCouldNotAcquireWriteLock</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">deadLockFoundCreateConcurrencyManagerStateWriterThreadCouldNotAcquireWriteLock</span><wbr><span class="parameters">(<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&nbsp;nextThreadPartOfDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;threadNotAbleToAccessResource,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyThreadWantsToAcquireButCannotGet)</span></div>
<div class="block">Create a dead lock dto component.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nextThreadPartOfDeadLock</code> - the dto component of a dead lock that comes from a depper recursion expansion</dd>
<dd><code>threadNotAbleToAccessResource</code> - the thread at the current depth that is part of the dead lock</dd>
<dd><code>cacheKeyThreadWantsToAcquireButCannotGet</code> - the cache key that the thread wanted to acquire for writing</dd>
<dt>Returns:</dt>
<dd>the DTO representing a component part of a dead lock</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deadLockFoundCreateConcurrencyManagerStateReaderThreadCouldNotAcquireWriteLock(org.eclipse.persistence.internal.helper.type.DeadLockComponent,java.lang.Thread,org.eclipse.persistence.internal.helper.ConcurrencyManager)">
<h3>deadLockFoundCreateConcurrencyManagerStateReaderThreadCouldNotAcquireWriteLock</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">deadLockFoundCreateConcurrencyManagerStateReaderThreadCouldNotAcquireWriteLock</span><wbr><span class="parameters">(<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&nbsp;nextThreadPartOfDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;threadNotAbleToAccessResource,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyThreadWantsToAcquireButCannotGet)</span></div>
<div class="block">Dto component participating in a dead lock.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nextThreadPartOfDeadLock</code> - the thread that was participating in the dead lock as we went deeper in the recursion.</dd>
<dd><code>threadNotAbleToAccessResource</code> - the thread at the current depth that is part of the dead lock</dd>
<dd><code>cacheKeyThreadWantsToAcquireButCannotGet</code> - the cache key that the thread wanted to acquire for writing</dd>
<dt>Returns:</dt>
<dd>the DTO representing a component part of a dead lock</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deadLockFoundCreateConcurrencyManagerStateDeferredThreadCouldNotAcquireWriteLock(org.eclipse.persistence.internal.helper.type.DeadLockComponent,java.lang.Thread,org.eclipse.persistence.internal.helper.ConcurrencyManager)">
<h3>deadLockFoundCreateConcurrencyManagerStateDeferredThreadCouldNotAcquireWriteLock</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a></span>&nbsp;<span class="element-name">deadLockFoundCreateConcurrencyManagerStateDeferredThreadCouldNotAcquireWriteLock</span><wbr><span class="parameters">(<a href="type/DeadLockComponent.html" title="class in org.eclipse.persistence.internal.helper.type">DeadLockComponent</a>&nbsp;nextThreadPartOfDeadLock,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>&nbsp;threadNotAbleToAccessResource,
 <a href="ConcurrencyManager.html" title="class in org.eclipse.persistence.internal.helper">ConcurrencyManager</a>&nbsp;cacheKeyBlockingIsBuildObjectComplete)</span></div>
<div class="block">Create a deadlock component for a thread known to be stuck trying to release deferred locks.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nextThreadPartOfDeadLock</code> - the thread that was participating in the dead lock as we went deeper in the recursion.</dd>
<dd><code>threadNotAbleToAccessResource</code> - the thread at the current depth that is part of the dead lock</dd>
<dd><code>cacheKeyBlockingIsBuildObjectComplete</code> - this is a cache key that is not necessarily desired by the blocked thread, but which is recrusively
            blocking the thread stuck in <code>isBuildObjectcomplete</code> logic. This is a bit complicated to
            explain, but essentially when a thread cannot acquire write lock it sometimes can defer on the lock.
            Later to finish object building the thread will be waiting to make sure that locks it deferred are
            considered to be all finished. When deferred lock is not finished it could be cause much deeper some
            other secondary object could not be built due to some cache key not accessible.. Therefore the
            cacheKeyBlockingIsBuildObjectComplete might be quite deep and far away from the cache key our thread
            had to defer... It is an element blocking our thread from finishing.</dd>
<dt>Returns:</dt>
<dd>the DTO representing a component part of a dead lock</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
