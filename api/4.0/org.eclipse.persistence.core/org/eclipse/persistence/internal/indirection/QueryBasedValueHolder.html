<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>QueryBasedValueHolder (EclipseLink 4.0.3, API Reference)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: module: org.eclipse.persistence.core, package: org.eclipse.persistence.internal.indirection, class: QueryBasedValueHolder">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br>EclipseLink 4.0.3, API Reference</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/QueryBasedValueHolder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../../module-summary.html">org.eclipse.persistence.core</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.persistence.internal.indirection</a></div>
<h1 title="Class QueryBasedValueHolder" class="title">Class QueryBasedValueHolder&lt;T&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="DatabaseValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">org.eclipse.persistence.internal.indirection.DatabaseValueHolder</a>&lt;T&gt;
<div class="inheritance">org.eclipse.persistence.internal.indirection.QueryBasedValueHolder&lt;T&gt;</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Cloneable.html" title="class or interface in java.lang" class="external-link">Cloneable</a></code>, <code><a href="../../indirection/ValueHolderInterface.html" title="interface in org.eclipse.persistence.indirection">ValueHolderInterface</a>&lt;T&gt;</code>, <code><a href="../../indirection/WeavedAttributeValueHolderInterface.html" title="interface in org.eclipse.persistence.indirection">WeavedAttributeValueHolderInterface</a>&lt;T&gt;</code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="BatchValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">BatchValueHolder</a></code>, <code><a href="EISOneToManyQueryBasedValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">EISOneToManyQueryBasedValueHolder</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">QueryBasedValueHolder&lt;T&gt;</span>
<span class="extends-implements">extends <a href="DatabaseValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">DatabaseValueHolder</a>&lt;T&gt;</span></div>
<div class="block">QueryBasedValueHolder wraps a database-stored object and implements behavior
 to access it. The object is read from the database by invoking a
 user-specified query.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../queries/ObjectLevelReadQuery.html" title="class in org.eclipse.persistence.queries"><code>ObjectLevelReadQuery</code></a></li>
<li><a href="../../../../../../serialized-form.html#org.eclipse.persistence.internal.indirection.QueryBasedValueHolder">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected <a href="../../queries/ReadQuery.html" title="class in org.eclipse.persistence.queries">ReadQuery</a></code></div>
<div class="col-second even-row-color"><code><a href="#query" class="member-name-link">query</a></code></div>
<div class="col-last even-row-color">
<div class="block">Stores the query to be executed.</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a></code></div>
<div class="col-second odd-row-color"><code><a href="#refreshCascade" class="member-name-link">refreshCascade</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color"><code><a href="#sourceObject" class="member-name-link">sourceObject</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.eclipse.persistence.internal.indirection.DatabaseValueHolder">Fields inherited from class&nbsp;org.eclipse.persistence.internal.indirection.<a href="DatabaseValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">DatabaseValueHolder</a></h3>
<code><a href="DatabaseValueHolder.html#isCoordinatedWithProperty">isCoordinatedWithProperty</a>, <a href="DatabaseValueHolder.html#isInstantiated">isInstantiated</a>, <a href="DatabaseValueHolder.html#row">row</a>, <a href="DatabaseValueHolder.html#session">session</a>, <a href="DatabaseValueHolder.html#value">value</a></code></div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.eclipse.persistence.indirection.ValueHolderInterface">Fields inherited from interface&nbsp;org.eclipse.persistence.indirection.<a href="../../indirection/ValueHolderInterface.html" title="interface in org.eclipse.persistence.indirection">ValueHolderInterface</a></h3>
<code><a href="../../indirection/ValueHolderInterface.html#shouldToStringInstantiate">shouldToStringInstantiate</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">QueryBasedValueHolder</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>&nbsp;</code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(org.eclipse.persistence.queries.ReadQuery,java.lang.Object,org.eclipse.persistence.internal.sessions.AbstractRecord,org.eclipse.persistence.internal.sessions.AbstractSession)" class="member-name-link">QueryBasedValueHolder</a><wbr>(<a href="../../queries/ReadQuery.html" title="class in org.eclipse.persistence.queries">ReadQuery</a>&nbsp;query,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;sourceObject,
 <a href="../sessions/AbstractRecord.html" title="class in org.eclipse.persistence.internal.sessions">AbstractRecord</a>&nbsp;row,
 <a href="../sessions/AbstractSession.html" title="class in org.eclipse.persistence.internal.sessions">AbstractSession</a>&nbsp;session)</code></div>
<div class="col-last odd-row-color">
<div class="block">Initialize the query-based value holder.</div>
</div>
<div class="col-first even-row-color"><code>&nbsp;</code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.eclipse.persistence.queries.ReadQuery,org.eclipse.persistence.internal.sessions.AbstractRecord,org.eclipse.persistence.internal.sessions.AbstractSession)" class="member-name-link">QueryBasedValueHolder</a><wbr>(<a href="../../queries/ReadQuery.html" title="class in org.eclipse.persistence.queries">ReadQuery</a>&nbsp;query,
 <a href="../sessions/AbstractRecord.html" title="class in org.eclipse.persistence.internal.sessions">AbstractRecord</a>&nbsp;row,
 <a href="../sessions/AbstractSession.html" title="class in org.eclipse.persistence.internal.sessions">AbstractSession</a>&nbsp;session)</code></div>
<div class="col-last even-row-color">
<div class="block">Initialize the query-based value holder.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../queries/ReadQuery.html" title="class in org.eclipse.persistence.queries">ReadQuery</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getQuery()" class="member-name-link">getQuery</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the query.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRefreshCascadePolicy()" class="member-name-link">getRefreshCascadePolicy</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:
 Returns the refresh cascade policy that was set on the query that was used to instantiate the valueholder
 a null value means that a non refresh query was used.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getValue(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl)" class="member-name-link">getValue</a><wbr>(<a href="../sessions/UnitOfWorkImpl.html" title="class in org.eclipse.persistence.internal.sessions">UnitOfWorkImpl</a>&nbsp;uow)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Process against the UOW and attempt to load a local copy before going to the shared cache
 If null is returned then the calling UOW will instantiate as normal.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#instantiate()" class="member-name-link">instantiate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Instantiate the object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#instantiate(org.eclipse.persistence.internal.sessions.AbstractSession)" class="member-name-link">instantiate</a><wbr>(<a href="../sessions/AbstractSession.html" title="class in org.eclipse.persistence.internal.sessions">AbstractSession</a>&nbsp;session)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Instantiate the object by executing the query on the session.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#instantiateForUnitOfWorkValueHolder(org.eclipse.persistence.internal.indirection.UnitOfWorkValueHolder)" class="member-name-link">instantiateForUnitOfWorkValueHolder</a><wbr>(<a href="UnitOfWorkValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">UnitOfWorkValueHolder</a>&lt;<a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a>&gt;&nbsp;unitOfWorkValueHolder)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Triggers UnitOfWork valueholders directly without triggering the wrapped
 valueholder (this).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isPessimisticLockingValueHolder()" class="member-name-link">isPessimisticLockingValueHolder</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL: Answers if this valueholder is a pessimistic locking one.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#postInstantiate()" class="member-name-link">postInstantiate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:
 Run any extra code required after the valueholder instantiates
 For query based VH, we notify the cache that the valueholder has been triggered</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#releaseWrappedValueHolder(org.eclipse.persistence.internal.sessions.AbstractSession)" class="member-name-link">releaseWrappedValueHolder</a><wbr>(<a href="../sessions/AbstractSession.html" title="class in org.eclipse.persistence.internal.sessions">AbstractSession</a>&nbsp;targetSession)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Releases a wrapped valueholder privately owned by a particular unit of
 work.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resetFields()" class="member-name-link">resetFields</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Reset all the fields that are not needed after instantiation.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setQuery(org.eclipse.persistence.queries.ReadQuery)" class="member-name-link">setQuery</a><wbr>(<a href="../../queries/ReadQuery.html" title="class in org.eclipse.persistence.queries">ReadQuery</a>&nbsp;theQuery)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the query.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setRefreshCascadePolicy(java.lang.Integer)" class="member-name-link">setRefreshCascadePolicy</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;refreshCascadePolicy)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">INTERNAL:</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSourceObject(java.lang.Object)" class="member-name-link">setSourceObject</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;sourceObject)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.eclipse.persistence.internal.indirection.DatabaseValueHolder">Methods inherited from class&nbsp;org.eclipse.persistence.internal.indirection.<a href="DatabaseValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">DatabaseValueHolder</a></h3>
<code><a href="DatabaseValueHolder.html#clone()">clone</a>, <a href="DatabaseValueHolder.html#getRow()">getRow</a>, <a href="DatabaseValueHolder.html#getSession()">getSession</a>, <a href="DatabaseValueHolder.html#getValue()">getValue</a>, <a href="DatabaseValueHolder.html#getWrappedValueHolder()">getWrappedValueHolder</a>, <a href="DatabaseValueHolder.html#isCoordinatedWithProperty()">isCoordinatedWithProperty</a>, <a href="DatabaseValueHolder.html#isEasilyInstantiated()">isEasilyInstantiated</a>, <a href="DatabaseValueHolder.html#isInstantiated()">isInstantiated</a>, <a href="DatabaseValueHolder.html#isNewlyWeavedValueHolder()">isNewlyWeavedValueHolder</a>, <a href="DatabaseValueHolder.html#isSerializedRemoteUnitOfWorkValueHolder()">isSerializedRemoteUnitOfWorkValueHolder</a>, <a href="DatabaseValueHolder.html#isTransactionalValueHolder()">isTransactionalValueHolder</a>, <a href="DatabaseValueHolder.html#privilegedSetValue(T)">privilegedSetValue</a>, <a href="DatabaseValueHolder.html#setInstantiated()">setInstantiated</a>, <a href="DatabaseValueHolder.html#setIsCoordinatedWithProperty(boolean)">setIsCoordinatedWithProperty</a>, <a href="DatabaseValueHolder.html#setIsNewlyWeavedValueHolder(boolean)">setIsNewlyWeavedValueHolder</a>, <a href="DatabaseValueHolder.html#setRow(org.eclipse.persistence.internal.sessions.AbstractRecord)">setRow</a>, <a href="DatabaseValueHolder.html#setSession(org.eclipse.persistence.internal.sessions.AbstractSession)">setSession</a>, <a href="DatabaseValueHolder.html#setUninstantiated()">setUninstantiated</a>, <a href="DatabaseValueHolder.html#setValue(T)">setValue</a>, <a href="DatabaseValueHolder.html#shouldAllowInstantiationDeferral()">shouldAllowInstantiationDeferral</a>, <a href="DatabaseValueHolder.html#toString()">toString</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="query">
<h3>query</h3>
<div class="member-signature"><span class="modifiers">protected transient</span>&nbsp;<span class="return-type"><a href="../../queries/ReadQuery.html" title="class in org.eclipse.persistence.queries">ReadQuery</a></span>&nbsp;<span class="element-name">query</span></div>
<div class="block">Stores the query to be executed.</div>
</section>
</li>
<li>
<section class="detail" id="sourceObject">
<h3>sourceObject</h3>
<div class="member-signature"><span class="modifiers">protected transient</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">sourceObject</span></div>
</section>
</li>
<li>
<section class="detail" id="refreshCascade">
<h3>refreshCascade</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a></span>&nbsp;<span class="element-name">refreshCascade</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>QueryBasedValueHolder</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">QueryBasedValueHolder</span>()</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.eclipse.persistence.queries.ReadQuery,org.eclipse.persistence.internal.sessions.AbstractRecord,org.eclipse.persistence.internal.sessions.AbstractSession)">
<h3>QueryBasedValueHolder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">QueryBasedValueHolder</span><wbr><span class="parameters">(<a href="../../queries/ReadQuery.html" title="class in org.eclipse.persistence.queries">ReadQuery</a>&nbsp;query,
 <a href="../sessions/AbstractRecord.html" title="class in org.eclipse.persistence.internal.sessions">AbstractRecord</a>&nbsp;row,
 <a href="../sessions/AbstractSession.html" title="class in org.eclipse.persistence.internal.sessions">AbstractSession</a>&nbsp;session)</span></div>
<div class="block">Initialize the query-based value holder.</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.eclipse.persistence.queries.ReadQuery,java.lang.Object,org.eclipse.persistence.internal.sessions.AbstractRecord,org.eclipse.persistence.internal.sessions.AbstractSession)">
<h3>QueryBasedValueHolder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">QueryBasedValueHolder</span><wbr><span class="parameters">(<a href="../../queries/ReadQuery.html" title="class in org.eclipse.persistence.queries">ReadQuery</a>&nbsp;query,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;sourceObject,
 <a href="../sessions/AbstractRecord.html" title="class in org.eclipse.persistence.internal.sessions">AbstractRecord</a>&nbsp;row,
 <a href="../sessions/AbstractSession.html" title="class in org.eclipse.persistence.internal.sessions">AbstractSession</a>&nbsp;session)</span></div>
<div class="block">Initialize the query-based value holder.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getRefreshCascadePolicy()">
<h3>getRefreshCascadePolicy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a></span>&nbsp;<span class="element-name">getRefreshCascadePolicy</span>()</div>
<div class="block">INTERNAL:
 Returns the refresh cascade policy that was set on the query that was used to instantiate the valueholder
 a null value means that a non refresh query was used.</div>
</section>
</li>
<li>
<section class="detail" id="getValue(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl)">
<h3>getValue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a></span>&nbsp;<span class="element-name">getValue</span><wbr><span class="parameters">(<a href="../sessions/UnitOfWorkImpl.html" title="class in org.eclipse.persistence.internal.sessions">UnitOfWorkImpl</a>&nbsp;uow)</span></div>
<div class="block">Process against the UOW and attempt to load a local copy before going to the shared cache
 If null is returned then the calling UOW will instantiate as normal.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="DatabaseValueHolder.html#getValue(org.eclipse.persistence.internal.sessions.UnitOfWorkImpl)">getValue</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">DatabaseValueHolder</a>&lt;<a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a>&gt;</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getQuery()">
<h3>getQuery</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../queries/ReadQuery.html" title="class in org.eclipse.persistence.queries">ReadQuery</a></span>&nbsp;<span class="element-name">getQuery</span>()</div>
<div class="block">Return the query. The query for a QueryBasedValueHolder is constructed
 dynamically based on the original query on the parent object and the
 mapping configuration. If modifying a query the developer must be careful
 not to change the results returned as that may cause the application to
 see incorrect results.</div>
</section>
</li>
<li>
<section class="detail" id="instantiate()">
<h3>instantiate</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a></span>&nbsp;<span class="element-name">instantiate</span>()
                 throws <span class="exceptions"><a href="../../exceptions/DatabaseException.html" title="class in org.eclipse.persistence.exceptions">DatabaseException</a></span></div>
<div class="block"><span class="description-from-type-label">Description copied from class:&nbsp;<code><a href="DatabaseValueHolder.html#instantiate()">DatabaseValueHolder</a></code></span></div>
<div class="block">Instantiate the object.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DatabaseValueHolder.html#instantiate()">instantiate</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">DatabaseValueHolder</a>&lt;<a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a>&gt;</code></dd>
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/DatabaseException.html" title="class in org.eclipse.persistence.exceptions">DatabaseException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="instantiate(org.eclipse.persistence.internal.sessions.AbstractSession)">
<h3>instantiate</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a></span>&nbsp;<span class="element-name">instantiate</span><wbr><span class="parameters">(<a href="../sessions/AbstractSession.html" title="class in org.eclipse.persistence.internal.sessions">AbstractSession</a>&nbsp;session)</span>
                 throws <span class="exceptions"><a href="../../exceptions/DatabaseException.html" title="class in org.eclipse.persistence.exceptions">DatabaseException</a></span></div>
<div class="block">Instantiate the object by executing the query on the session.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../../exceptions/DatabaseException.html" title="class in org.eclipse.persistence.exceptions">DatabaseException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="instantiateForUnitOfWorkValueHolder(org.eclipse.persistence.internal.indirection.UnitOfWorkValueHolder)">
<h3>instantiateForUnitOfWorkValueHolder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a></span>&nbsp;<span class="element-name">instantiateForUnitOfWorkValueHolder</span><wbr><span class="parameters">(<a href="UnitOfWorkValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">UnitOfWorkValueHolder</a>&lt;<a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a>&gt;&nbsp;unitOfWorkValueHolder)</span></div>
<div class="block">Triggers UnitOfWork valueholders directly without triggering the wrapped
 valueholder (this).
 <p>
 When in transaction and/or for pessimistic locking the
 UnitOfWorkValueHolder needs to be triggered directly without triggering
 the wrapped valueholder. However only the wrapped valueholder knows how
 to trigger the indirection, i.e. it may be a batchValueHolder, and it
 stores all the info like the row and the query. Note: This method is not
 thread-safe. It must be used in a synchronized manner</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DatabaseValueHolder.html#instantiateForUnitOfWorkValueHolder(org.eclipse.persistence.internal.indirection.UnitOfWorkValueHolder)">instantiateForUnitOfWorkValueHolder</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">DatabaseValueHolder</a>&lt;<a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a>&gt;</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="postInstantiate()">
<h3>postInstantiate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">postInstantiate</span>()</div>
<div class="block">INTERNAL:
 Run any extra code required after the valueholder instantiates
 For query based VH, we notify the cache that the valueholder has been triggered</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="DatabaseValueHolder.html#postInstantiate()">postInstantiate</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">DatabaseValueHolder</a>&lt;<a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a>&gt;</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="QueryBasedValueHolder.html" title="class in org.eclipse.persistence.internal.indirection"><code>QueryBasedValueHolder</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="releaseWrappedValueHolder(org.eclipse.persistence.internal.sessions.AbstractSession)">
<h3>releaseWrappedValueHolder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">releaseWrappedValueHolder</span><wbr><span class="parameters">(<a href="../sessions/AbstractSession.html" title="class in org.eclipse.persistence.internal.sessions">AbstractSession</a>&nbsp;targetSession)</span></div>
<div class="block">Releases a wrapped valueholder privately owned by a particular unit of
 work.
 <p>
 When unit of work clones are built directly from rows no object in the
 shared cache points to this valueholder, so it can store the unit of work
 as its session. However once that UnitOfWork commits and the valueholder
 is merged into the shared cache, the session needs to be reset to the
 root session, ie. the server session.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="DatabaseValueHolder.html#releaseWrappedValueHolder(org.eclipse.persistence.internal.sessions.AbstractSession)">releaseWrappedValueHolder</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">DatabaseValueHolder</a>&lt;<a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a>&gt;</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resetFields()">
<h3>resetFields</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resetFields</span>()</div>
<div class="block">Reset all the fields that are not needed after instantiation.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="DatabaseValueHolder.html#resetFields()">resetFields</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">DatabaseValueHolder</a>&lt;<a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a>&gt;</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setQuery(org.eclipse.persistence.queries.ReadQuery)">
<h3>setQuery</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setQuery</span><wbr><span class="parameters">(<a href="../../queries/ReadQuery.html" title="class in org.eclipse.persistence.queries">ReadQuery</a>&nbsp;theQuery)</span></div>
<div class="block">Set the query.</div>
</section>
</li>
<li>
<section class="detail" id="isPessimisticLockingValueHolder()">
<h3>isPessimisticLockingValueHolder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isPessimisticLockingValueHolder</span>()</div>
<div class="block">INTERNAL: Answers if this valueholder is a pessimistic locking one. Such
 valueholders are special in that they can be triggered multiple times by
 different UnitsOfWork. Each time a lock query will be issued. Hence even
 if instantiated it may have to be instantiated again, and once
 instantiated all fields can not be reset.
 <p>
 Since locks will be issued each time this valueholder is triggered,
 triggering this directly on the session in auto commit mode will generate
 an exception. This only UnitOfWorkValueHolder's wrapping this can trigger
 it. Note: This method is not thread-safe. It must be used in a
 synchronized manner</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DatabaseValueHolder.html#isPessimisticLockingValueHolder()">isPessimisticLockingValueHolder</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseValueHolder.html" title="class in org.eclipse.persistence.internal.indirection">DatabaseValueHolder</a>&lt;<a href="QueryBasedValueHolder.html" title="type parameter in QueryBasedValueHolder">T</a>&gt;</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setSourceObject(java.lang.Object)">
<h3>setSourceObject</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setSourceObject</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;sourceObject)</span></div>
</section>
</li>
<li>
<section class="detail" id="setRefreshCascadePolicy(java.lang.Integer)">
<h3>setRefreshCascadePolicy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRefreshCascadePolicy</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;refreshCascadePolicy)</span></div>
<div class="block">INTERNAL:</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
